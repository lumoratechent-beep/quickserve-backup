var e,t,r,a,n,s,i,o,l,c,d,u,h,p,g,m,f,x,b,y,k,v,w,j,N,C=Object.defineProperty,S=e=>{throw TypeError(e)},_=(e,t,r)=>((e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),E=(e,t,r)=>t.has(e)||S("Cannot "+r),P=(e,t,r)=>(E(e,t,"read from private field"),r?r.call(e):t.get(e)),O=(e,t,r)=>t.has(e)?S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,a)=>(E(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),T=(e,t,r)=>(E(e,t,"access private method"),r);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function R(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A={exports:{}},z={},I=Symbol.for("react.transitional.element"),L=Symbol.for("react.fragment");function M(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var n in r={},t)"key"!==n&&(r[n]=t[n]);else r=t;return t=r.ref,{$$typeof:I,type:e,key:a,ref:void 0!==t?t:null,props:r}}z.Fragment=L,z.jsx=M,z.jsxs=M,A.exports=z;var D=A.exports,$={exports:{}},U={},F=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),W=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ee=Symbol.iterator;var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ae={};function ne(e,t,r){this.props=e,this.context=t,this.refs=ae,this.updater=r||te}function se(){}function ie(e,t,r){this.props=e,this.context=t,this.refs=ae,this.updater=r||te}ne.prototype.isReactComponent={},ne.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ne.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},se.prototype=ne.prototype;var oe=ie.prototype=new se;oe.constructor=ie,re(oe,ne.prototype),oe.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var de={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function he(e,t,r){var a=r.ref;return{$$typeof:F,type:e,key:t,ref:void 0!==a?a:null,props:r}}function pe(e){return"object"==typeof e&&null!==e&&e.$$typeof===F}var ge=/\/+/g;function me(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,a={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return a[e]})):t.toString(36);var r,a}function fe(e,t,r,a,n){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i,o,l=!1;if(null===e)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case F:case q:l=!0;break;case Y:return fe((l=e._init)(e._payload),t,r,a,n)}}if(l)return n=n(e),l=""===a?"."+me(e,0):a,le(n)?(r="",null!=l&&(r=l.replace(ge,"$&/")+"/"),fe(n,t,r,"",function(e){return e})):null!=n&&(pe(n)&&(i=n,o=r+(null==n.key||e&&e.key===n.key?"":(""+n.key).replace(ge,"$&/")+"/")+l,n=he(i.type,o,i.props)),t.push(n)),1;l=0;var c,d=""===a?".":a+":";if(le(e))for(var u=0;u<e.length;u++)l+=fe(a=e[u],t,r,s=d+me(a,u),n);else if("function"==typeof(u=null===(c=e)||"object"!=typeof c?null:"function"==typeof(c=ee&&c[ee]||c["@@iterator"])?c:null))for(e=u.call(e),u=0;!(a=e.next()).done;)l+=fe(a=a.value,t,r,s=d+me(a,u++),n);else if("object"===s){if("function"==typeof e.then)return fe(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(ce,ce):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function xe(e,t,r){if(null==e)return e;var a=[],n=0;return fe(e,a,"","",function(e){return t.call(r,e,n++)}),a}function be(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ye="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},ke={map:xe,forEach:function(e,t,r){xe(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xe(e,function(){t++}),t},toArray:function(e){return xe(e,function(e){return e})||[]},only:function(e){if(!pe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Activity=Z,U.Children=ke,U.Component=ne,U.Fragment=V,U.Profiler=K,U.PureComponent=ie,U.StrictMode=H,U.Suspense=J,U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,U.__COMPILER_RUNTIME={__proto__:null,c:function(e){return de.H.useMemoCache(e)}},U.cache=function(e){return function(){return e.apply(null,arguments)}},U.cacheSignal=function(){return null},U.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var a=re({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)!ue.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(a[s]=t[s]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];a.children=i}return he(e.type,n,a)},U.createContext=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:G,_context:e},e},U.createElement=function(e,t,r){var a,n={},s=null;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)ue.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(n[a]=t[a]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===n[a]&&(n[a]=i[a]);return he(e,s,n)},U.createRef=function(){return{current:null}},U.forwardRef=function(e){return{$$typeof:Q,render:e}},U.isValidElement=pe,U.lazy=function(e){return{$$typeof:Y,_payload:{_status:-1,_result:e},_init:be}},U.memo=function(e,t){return{$$typeof:X,type:e,compare:void 0===t?null:t}},U.startTransition=function(e){var t=de.T,r={};de.T=r;try{var a=e(),n=de.S;null!==n&&n(r,a),"object"==typeof a&&null!==a&&"function"==typeof a.then&&a.then(ce,ye)}catch(s){ye(s)}finally{null!==t&&null!==r.types&&(t.types=r.types),de.T=t}},U.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},U.use=function(e){return de.H.use(e)},U.useActionState=function(e,t,r){return de.H.useActionState(e,t,r)},U.useCallback=function(e,t){return de.H.useCallback(e,t)},U.useContext=function(e){return de.H.useContext(e)},U.useDebugValue=function(){},U.useDeferredValue=function(e,t){return de.H.useDeferredValue(e,t)},U.useEffect=function(e,t){return de.H.useEffect(e,t)},U.useEffectEvent=function(e){return de.H.useEffectEvent(e)},U.useId=function(){return de.H.useId()},U.useImperativeHandle=function(e,t,r){return de.H.useImperativeHandle(e,t,r)},U.useInsertionEffect=function(e,t){return de.H.useInsertionEffect(e,t)},U.useLayoutEffect=function(e,t){return de.H.useLayoutEffect(e,t)},U.useMemo=function(e,t){return de.H.useMemo(e,t)},U.useOptimistic=function(e,t){return de.H.useOptimistic(e,t)},U.useReducer=function(e,t,r){return de.H.useReducer(e,t,r)},U.useRef=function(e){return de.H.useRef(e)},U.useState=function(e){return de.H.useState(e)},U.useSyncExternalStore=function(e,t,r){return de.H.useSyncExternalStore(e,t,r)},U.useTransition=function(){return de.H.useTransition()},U.version="19.2.4",$.exports=U;var ve=$.exports;const we=R(ve);var je={exports:{}},Ne={},Ce={exports:{}},Se={};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,s=e[a];if(!(0<n(s,t)))break e;e[a]=t,e[r]=s,r=a}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>n(l,r))c<s&&0>n(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<s&&0>n(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,u=null,h=3,p=!1,g=!1,m=!1,f=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var n=r(c);null!==n;){if(null===n.callback)a(c);else{if(!(n.startTime<=e))break;a(c),n.sortIndex=n.expirationTime,t(l,n)}n=r(c)}}function v(e){if(m=!1,k(e),!g)if(null!==r(l))g=!0,j||(j=!0,w());else{var t=r(c);null!==t&&B(v,t.startTime-e)}}var w,j=!1,N=-1,C=5,S=-1;function _(){return!!f||!(e.unstable_now()-S<C)}function E(){if(f=!1,j){var t=e.unstable_now();S=t;var n=!0;try{e:{g=!1,m&&(m=!1,b(N),N=-1),p=!0;var s=h;try{t:{for(k(t),u=r(l);null!==u&&!(u.expirationTime>t&&_());){var i=u.callback;if("function"==typeof i){u.callback=null,h=u.priorityLevel;var o=i(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,k(t),n=!0;break t}u===r(l)&&a(l),k(t)}else a(l);u=r(l)}if(null!==u)n=!0;else{var d=r(c);null!==d&&B(v,d.startTime-t),n=!1}}break e}finally{u=null,h=s,p=!1}n=void 0}}finally{n?w():j=!1}}}if("function"==typeof y)w=function(){y(E)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=E,w=function(){O.postMessage(null)}}else w=function(){x(E,0)};function B(t,r){N=x(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_requestPaint=function(){f=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(a,n,s){var i=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?i+s:i:s=i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:d++,callback:n,priorityLevel:a,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===r(l)&&a===r(c)&&(m?(b(N),N=-1):m=!0,B(v,s-i))):(a.sortIndex=o,t(l,a),g||p||(g=!0,j||(j=!0,w()))),a},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(Se),Ce.exports=Se;var _e=Ce.exports,Ee={exports:{}},Pe={},Oe=ve;function Be(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Te(){}var Re={d:{f:Te,r:function(){throw Error(Be(522))},D:Te,C:Te,L:Te,m:Te,X:Te,S:Te,M:Te},p:0,findDOMNode:null},Ae=Symbol.for("react.portal");var ze=Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ie(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re,Pe.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(Be(299));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ae,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},Pe.flushSync=function(e){var t=ze.T,r=Re.p;try{if(ze.T=null,Re.p=2,e)return e()}finally{ze.T=t,Re.p=r,Re.d.f()}},Pe.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,Re.d.C(e,t))},Pe.prefetchDNS=function(e){"string"==typeof e&&Re.d.D(e)},Pe.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var r=t.as,a=Ie(r,t.crossOrigin),n="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?Re.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:s}):"script"===r&&Re.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},Pe.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=Ie(t.as,t.crossOrigin);Re.d.M(e,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&Re.d.M(e)},Pe.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var r=t.as,a=Ie(r,t.crossOrigin);Re.d.L(e,r,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},Pe.preloadModule=function(e,t){if("string"==typeof e)if(t){var r=Ie(t.as,t.crossOrigin);Re.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else Re.d.m(e)},Pe.requestFormReset=function(e){Re.d.r(e)},Pe.unstable_batchedUpdates=function(e,t){return e(t)},Pe.useFormState=function(e,t,r){return ze.H.useFormState(e,t,r)},Pe.useFormStatus=function(){return ze.H.useHostTransitionStatus()},Pe.version="19.2.4",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Ee.exports=Pe;var Le=Ee.exports,Me=_e,De=ve,$e=Le;
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ue(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Fe(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(Ue(188))}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=Ge(e)))return t;e=e.sibling}return null}var We=Object.assign,Qe=Symbol.for("react.element"),Je=Symbol.for("react.transitional.element"),Xe=Symbol.for("react.portal"),Ye=Symbol.for("react.fragment"),Ze=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=dt&&e[dt]||e["@@iterator"])?e:null}var ht=Symbol.for("react.client.reference");function pt(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===ht?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ye:return"Fragment";case et:return"Profiler";case Ze:return"StrictMode";case nt:return"Suspense";case st:return"SuspenseList";case lt:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case Xe:return"Portal";case rt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case at:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case it:return null!==(t=e.displayName||null)?t:pt(e.type)||"Memo";case ot:t=e._payload,e=e._init;try{return pt(e(t))}catch(r){}}return null}var gt=Array.isArray,mt=De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=$e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},bt=[],yt=-1;function kt(e){return{current:e}}function vt(e){0>yt||(e.current=bt[yt],bt[yt]=null,yt--)}function wt(e,t){yt++,bt[yt]=e.current,e.current=t}var jt,Nt,Ct=kt(null),St=kt(null),_t=kt(null),Et=kt(null);function Pt(e,t){switch(wt(_t,t),wt(St,e),wt(Ct,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Zh(t=Yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}vt(Ct),wt(Ct,e)}function Ot(){vt(Ct),vt(St),vt(_t)}function Bt(e){null!==e.memoizedState&&wt(Et,e);var t=Ct.current,r=Zh(t,e.type);t!==r&&(wt(St,e),wt(Ct,r))}function Tt(e){St.current===e&&(vt(Ct),vt(St)),Et.current===e&&(vt(Et),Hp._currentValue=xt)}function Rt(e){if(void 0===jt)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jt=t&&t[1]||"",Nt=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+jt+e+Nt}var At=!1;function zt(e,t){if(!e||At)return"";At=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var a=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){a=s}e.call(r.prototype)}}else{try{throw Error()}catch(i){a=i}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&a&&"string"==typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(n=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(a===l.length||n===c.length)for(a=l.length-1,n=c.length-1;1<=a&&0<=n&&l[a]!==c[n];)n--;for(;1<=a&&0<=n;a--,n--)if(l[a]!==c[n]){if(1!==a||1!==n)do{if(a--,0>--n||l[a]!==c[n]){var d="\n"+l[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{At=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Rt(r):""}function It(e,t){switch(e.tag){case 26:case 27:case 5:return Rt(e.type);case 16:return Rt("Lazy");case 13:return e.child!==t&&null!==t?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return zt(e.type,!1);case 11:return zt(e.type.render,!1);case 1:return zt(e.type,!0);case 31:return Rt("Activity");default:return""}}function Lt(e){try{var t="",r=null;do{t+=It(e,r),r=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var Mt=Object.prototype.hasOwnProperty,Dt=Me.unstable_scheduleCallback,$t=Me.unstable_cancelCallback,Ut=Me.unstable_shouldYield,Ft=Me.unstable_requestPaint,qt=Me.unstable_now,Vt=Me.unstable_getCurrentPriorityLevel,Ht=Me.unstable_ImmediatePriority,Kt=Me.unstable_UserBlockingPriority,Gt=Me.unstable_NormalPriority,Wt=Me.unstable_LowPriority,Qt=Me.unstable_IdlePriority,Jt=Me.log,Xt=Me.unstable_setDisableYieldValue,Yt=null,Zt=null;function er(e){if("function"==typeof Jt&&Xt(e),Zt&&"function"==typeof Zt.setStrictMode)try{Zt.setStrictMode(Yt,e)}catch(t){}}var tr=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(rr(e)/ar|0)|0},rr=Math.log,ar=Math.LN2;var nr=256,sr=262144,ir=4194304;function or(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lr(e,t,r){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?n=or(a):0!==(i&=o)?n=or(i):r||0!==(r=o&~e)&&(n=or(r)):0!==(o=a&~s)?n=or(o):0!==i?n=or(i):r||0!==(r=a&~e)&&(n=or(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&4194048&r)?t:n}function cr(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function dr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ur(){var e=ir;return!(62914560&(ir<<=1))&&(ir=4194304),e}function hr(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pr(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gr(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-tr(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&r}function mr(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-tr(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}function fr(e,t){var r=t&-t;return 0!==((r=42&r?1:xr(r))&(e.suspendedLanes|t))?0:r}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function br(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function yr(){var e=ft.p;return 0!==e?e:void 0===(e=window.event)?32:og(e.type)}function kr(e,t){var r=ft.p;try{return ft.p=e,t()}finally{ft.p=r}}var vr=Math.random().toString(36).slice(2),wr="__reactFiber$"+vr,jr="__reactProps$"+vr,Nr="__reactContainer$"+vr,Cr="__reactEvents$"+vr,Sr="__reactListeners$"+vr,_r="__reactHandles$"+vr,Er="__reactResources$"+vr,Pr="__reactMarker$"+vr;function Or(e){delete e[wr],delete e[jr],delete e[Cr],delete e[Sr],delete e[_r]}function Br(e){var t=e[wr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nr]||r[wr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=xp(e);null!==e;){if(r=e[wr])return r;e=xp(e)}return t}r=(e=r).parentNode}return null}function Tr(e){if(e=e[wr]||e[Nr]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Rr(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(Ue(33))}function Ar(e){var t=e[Er];return t||(t=e[Er]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zr(e){e[Pr]=!0}var Ir=new Set,Lr={};function Mr(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(Lr[e]=t,e=0;e<t.length;e++)Ir.add(t[e])}var $r=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ur={},Fr={};function qr(e,t,r){if(n=t,Mt.call(Fr,n)||!Mt.call(Ur,n)&&($r.test(n)?Fr[n]=!0:(Ur[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function Vr(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function Hr(e,t,r,a){if(null===a)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+a)}}function Kr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Gr(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Wr(e){if(!e._valueTracker){var t=Gr(e)?"checked":"value";e._valueTracker=function(e,t,r){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function Qr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Gr(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function Jr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Xr=/[\n"\\]/g;function Yr(e){return e.replace(Xr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zr(e,t,r,a,n,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+Kr(t)):e.value!==""+Kr(t)&&(e.value=""+Kr(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?ta(e,i,Kr(t)):null!=r?ta(e,i,Kr(r)):null!=a&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!=typeof n&&"symbol"!=typeof n),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+Kr(o):e.removeAttribute("name")}function ea(e,t,r,a,n,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=r){if(("submit"===s||"reset"===s)&&null==t)return void Wr(e);r=null!=r?""+Kr(r):"",t=null!=t?""+Kr(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:n)&&"symbol"!=typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),Wr(e)}function ta(e,t,r){"number"===t&&Jr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ra(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Kr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function aa(e,t,r){null==t||((t=""+Kr(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+Kr(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function na(e,t,r,a){if(null==t){if(null!=a){if(null!=r)throw Error(Ue(92));if(gt(a)){if(1<a.length)throw Error(Ue(93));a=a[0]}r=a}null==r&&(r=""),t=r}r=Kr(t),e.defaultValue=r,(a=e.textContent)===r&&""!==a&&null!==a&&(e.value=a),Wr(e)}function sa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(e,t,r){var a=0===t.indexOf("--");null==r||"boolean"==typeof r||""===r?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,r):"number"!=typeof r||0===r||ia.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function la(e,t,r){if(null!=t&&"object"!=typeof t)throw Error(Ue(62));if(e=e.style,null!=r){for(var a in r)!r.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&r[n]!==a&&oa(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&oa(e,s,t[s])}function ca(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return ua.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var ga=null;function ma(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var fa=null,xa=null;function ba(e){var t=Tr(e);if(t&&(e=t.stateNode)){var r=e[jr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Yr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=a[jr]||null;if(!n)throw Error(Ue(90));Zr(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(a=r[t]).form===e.form&&Qr(a)}break e;case"textarea":aa(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&ra(e,!!r.multiple,t,!1)}}}var ya=!1;function ka(e,t,r){if(ya)return e(t,r);ya=!0;try{return e(t)}finally{if(ya=!1,(null!==fa||null!==xa)&&(Au(),fa&&(t=fa,e=xa,xa=fa=null,ba(t),e)))for(t=0;t<e.length;t++)ba(e[t])}}function va(e,t){var r=e.stateNode;if(null===r)return null;var a=r[jr]||null;if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(Ue(231,t,typeof r));return r}var wa=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ja=!1;if(wa)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ja=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch(Vk){ja=!1}var Ca=null,Sa=null,_a=null;function Ea(){if(_a)return _a;var e,t,r=Sa,a=r.length,n="value"in Ca?Ca.value:Ca.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return _a=n.slice(e,1<t?1-t:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Oa(){return!0}function Ba(){return!1}function Ta(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Oa:Ba,this.isPropagationStopped=Ba,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),t}var Ra,Aa,za,Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ta(Ia),Ma=We({},Ia,{view:0,detail:0}),Da=Ta(Ma),$a=We({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==za&&(za&&"mousemove"===e.type?(Ra=e.screenX-za.screenX,Aa=e.screenY-za.screenY):Aa=Ra=0,za=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Ua=Ta($a),Fa=Ta(We({},$a,{dataTransfer:0})),qa=Ta(We({},Ma,{relatedTarget:0})),Va=Ta(We({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0})),Ha=Ta(We({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Ka=Ta(We({},Ia,{data:0})),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Qa[e])&&!!t[e]}function Xa(){return Ja}var Ya=Ta(We({},Ma,{key:function(e){if(e.key){var t=Ga[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Pa(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return"keypress"===e.type?Pa(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Pa(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Za=Ta(We({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),en=Ta(We({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa})),tn=Ta(We({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0})),rn=Ta(We({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),an=Ta(We({},Ia,{newState:0,oldState:0})),nn=[9,13,27,32],sn=wa&&"CompositionEvent"in window,on=null;wa&&"documentMode"in document&&(on=document.documentMode);var ln=wa&&"TextEvent"in window&&!on,cn=wa&&(!sn||on&&8<on&&11>=on),dn=String.fromCharCode(32),un=!1;function hn(e,t){switch(e){case"keyup":return-1!==nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var gn=!1;var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!mn[e.type]:"textarea"===t}function xn(e,t,r,a){fa?xa?xa.push(a):xa=[a]:fa=a,0<(t=Mh(t,"onChange")).length&&(r=new La("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var bn=null,yn=null;function kn(e){Oh(e,0)}function vn(e){if(Qr(Rr(e)))return e}function wn(e,t){if("change"===e)return t}var jn=!1;if(wa){var Nn;if(wa){var Cn="oninput"in document;if(!Cn){var Sn=document.createElement("div");Sn.setAttribute("oninput","return;"),Cn="function"==typeof Sn.oninput}Nn=Cn}else Nn=!1;jn=Nn&&(!document.documentMode||9<document.documentMode)}function _n(){bn&&(bn.detachEvent("onpropertychange",En),yn=bn=null)}function En(e){if("value"===e.propertyName&&vn(yn)){var t=[];xn(t,yn,e,ma(e)),ka(kn,t)}}function Pn(e,t,r){"focusin"===e?(_n(),yn=r,(bn=t).attachEvent("onpropertychange",En)):"focusout"===e&&_n()}function On(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vn(yn)}function Bn(e,t){if("click"===e)return vn(t)}function Tn(e,t){if("input"===e||"change"===e)return vn(t)}var Rn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function An(e,t){if(Rn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Mt.call(t,n)||!Rn(e[n],t[n]))return!1}return!0}function zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function In(e,t){var r,a=zn(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zn(a)}}function Ln(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ln(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Mn(e){for(var t=Jr((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=Jr((e=t.contentWindow).document)}return t}function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n=wa&&"documentMode"in document&&11>=document.documentMode,Un=null,Fn=null,qn=null,Vn=!1;function Hn(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Vn||null==Un||Un!==Jr(a)||("selectionStart"in(a=Un)&&Dn(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},qn&&An(qn,a)||(qn=a,0<(a=Mh(Fn,"onSelect")).length&&(t=new La("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Un)))}function Kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gn={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Wn={},Qn={};function Jn(e){if(Wn[e])return Wn[e];if(!Gn[e])return e;var t,r=Gn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Qn)return Wn[e]=r[t];return e}wa&&(Qn=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);var Xn=Jn("animationend"),Yn=Jn("animationiteration"),Zn=Jn("animationstart"),es=Jn("transitionrun"),ts=Jn("transitionstart"),rs=Jn("transitioncancel"),as=Jn("transitionend"),ns=new Map,ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(e,t){ns.set(e,t),Mr(t,[e])}ss.push("scrollEnd");var os="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},ls=[],cs=0,ds=0;function us(){for(var e=cs,t=ds=cs=0;t<e;){var r=ls[t];ls[t++]=null;var a=ls[t];ls[t++]=null;var n=ls[t];ls[t++]=null;var s=ls[t];if(ls[t++]=null,null!==a&&null!==n){var i=a.pending;null===i?n.next=n:(n.next=i.next,i.next=n),a.pending=n}0!==s&&ms(r,n,s)}}function hs(e,t,r,a){ls[cs++]=e,ls[cs++]=t,ls[cs++]=r,ls[cs++]=a,ds|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function ps(e,t,r,a){return hs(e,t,r,a),fs(e)}function gs(e,t){return hs(e,null,null,t),fs(e)}function ms(e,t,r){e.lanes|=r;var a=e.alternate;null!==a&&(a.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(a=s.alternate)&&(a.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-tr(r),null===(a=(e=s.hiddenUpdates)[n])?e[n]=[t]:a.push(t),t.lane=536870912|r),s):null}function fs(e){if(50<Cu)throw Cu=0,Su=null,Error(Ue(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var xs={};function bs(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(e,t,r,a){return new bs(e,t,r,a)}function ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function vs(e,t){var r=e.alternate;return null===r?((r=ys(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ws(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function js(e,t,r,a,n,s){var i=0;if(a=e,"function"==typeof e)ks(e)&&(i=1);else if("string"==typeof e)i=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,r,Ct.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case lt:return(e=ys(31,r,t,n)).elementType=lt,e.lanes=s,e;case Ye:return Ns(r.children,n,s,t);case Ze:i=8,n|=24;break;case et:return(e=ys(12,r,t,2|n)).elementType=et,e.lanes=s,e;case nt:return(e=ys(13,r,t,n)).elementType=nt,e.lanes=s,e;case st:return(e=ys(19,r,t,n)).elementType=st,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case rt:i=10;break e;case tt:i=9;break e;case at:i=11;break e;case it:i=14;break e;case ot:i=16,a=null;break e}i=29,r=Error(Ue(130,null===e?"null":typeof e,"")),a=null}return(t=ys(i,r,t,n)).elementType=e,t.type=a,t.lanes=s,t}function Ns(e,t,r,a){return(e=ys(7,e,a,t)).lanes=r,e}function Cs(e,t,r){return(e=ys(6,e,null,t)).lanes=r,e}function Ss(e){var t=ys(18,null,null,0);return t.stateNode=e,t}function _s(e,t,r){return(t=ys(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Es=new WeakMap;function Ps(e,t){if("object"==typeof e&&null!==e){var r=Es.get(e);return void 0!==r?r:(t={value:e,source:t,stack:Lt(t)},Es.set(e,t),t)}return{value:e,source:t,stack:Lt(t)}}var Os=[],Bs=0,Ts=null,Rs=0,As=[],zs=0,Is=null,Ls=1,Ms="";function Ds(e,t){Os[Bs++]=Rs,Os[Bs++]=Ts,Ts=e,Rs=t}function $s(e,t,r){As[zs++]=Ls,As[zs++]=Ms,As[zs++]=Is,Is=e;var a=Ls;e=Ms;var n=32-tr(a)-1;a&=~(1<<n),r+=1;var s=32-tr(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Ls=1<<32-tr(t)+n|r<<n|a,Ms=s+e}else Ls=1<<s|r<<n|a,Ms=e}function Us(e){null!==e.return&&(Ds(e,1),$s(e,1,0))}function Fs(e){for(;e===Ts;)Ts=Os[--Bs],Os[Bs]=null,Rs=Os[--Bs],Os[Bs]=null;for(;e===Is;)Is=As[--zs],As[zs]=null,Ms=As[--zs],As[zs]=null,Ls=As[--zs],As[zs]=null}function qs(e,t){As[zs++]=Ls,As[zs++]=Ms,As[zs++]=Is,Ls=t.id,Ms=t.overflow,Is=e}var Vs=null,Hs=null,Ks=!1,Gs=null,Ws=!1,Qs=Error(Ue(519));function Js(e){throw ri(Ps(Error(Ue(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),Qs}function Xs(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[wr]=e,t[jr]=a,r){case"dialog":Bh("cancel",t),Bh("close",t);break;case"iframe":case"object":case"embed":Bh("load",t);break;case"video":case"audio":for(r=0;r<Eh.length;r++)Bh(Eh[r],t);break;case"source":Bh("error",t);break;case"img":case"image":case"link":Bh("error",t),Bh("load",t);break;case"details":Bh("toggle",t);break;case"input":Bh("invalid",t),ea(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Bh("invalid",t);break;case"textarea":Bh("invalid",t),na(t,a.value,a.defaultValue,a.children)}"string"!=typeof(r=a.children)&&"number"!=typeof r&&"bigint"!=typeof r||t.textContent===""+r||!0===a.suppressHydrationWarning||Vh(t.textContent,r)?(null!=a.popover&&(Bh("beforetoggle",t),Bh("toggle",t)),null!=a.onScroll&&Bh("scroll",t),null!=a.onScrollEnd&&Bh("scrollend",t),null!=a.onClick&&(t.onclick=pa),t=!0):t=!1,t||Js(e,!0)}function Ys(e){for(Vs=e.return;Vs;)switch(Vs.tag){case 5:case 31:case 13:return void(Ws=!1);case 27:case 3:return void(Ws=!0);default:Vs=Vs.return}}function Zs(e){if(e!==Vs)return!1;if(!Ks)return Ys(e),Ks=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ep(e.type,e.memoizedProps)),t=!t),t&&Hs&&Js(e),Ys(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Ue(317));Hs=fp(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Ue(317));Hs=fp(e)}else 27===r?(r=Hs,op(e.type)?(e=mp,mp=null,Hs=e):Hs=r):Hs=Vs?gp(e.stateNode.nextSibling):null;return!0}function ei(){Hs=Vs=null,Ks=!1}function ti(){var e=Gs;return null!==e&&(null===uu?uu=e:uu.push.apply(uu,e),Gs=null),e}function ri(e){null===Gs?Gs=[e]:Gs.push(e)}var ai=kt(null),ni=null,si=null;function ii(e,t,r){wt(ai,t._currentValue),t._currentValue=r}function oi(e){e._currentValue=ai.current,vt(ai)}function li(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function ci(e,t,r,a){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var i=n.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=n;for(var l=0;l<t.length;l++)if(o.context===t[l]){s.lanes|=r,null!==(o=s.alternate)&&(o.lanes|=r),li(s.return,r,e),a||(i=null);break e}s=o.next}}else if(18===n.tag){if(null===(i=n.return))throw Error(Ue(341));i.lanes|=r,null!==(s=i.alternate)&&(s.lanes|=r),li(i,r,e),i=null}else i=n.child;if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===e){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}}function di(e,t,r,a){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(524288&n.flags)s=!0;else if(262144&n.flags)break;if(10===n.tag){var i=n.alternate;if(null===i)throw Error(Ue(387));if(null!==(i=i.memoizedProps)){var o=n.type;Rn(n.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(n===Et.current){if(null===(i=n.alternate))throw Error(Ue(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(Hp):e=[Hp])}n=n.return}null!==e&&ci(t,e,r,a),t.flags|=262144}function ui(e){for(e=e.firstContext;null!==e;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){ni=e,si=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function pi(e){return mi(ni,e)}function gi(e,t){return null===ni&&hi(e),mi(e,t)}function mi(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===si){if(null===e)throw Error(Ue(308));si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else si=si.next=t;return r}var fi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},xi=Me.unstable_scheduleCallback,bi=Me.unstable_NormalPriority,yi={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ki(){return{controller:new fi,data:new Map,refCount:0}}function vi(e){e.refCount--,0===e.refCount&&xi(bi,function(){e.controller.abort()})}var wi=null,ji=0,Ni=0,Ci=null;function Si(){if(0===--ji&&null!==wi){null!==Ci&&(Ci.status="fulfilled");var e=wi;wi=null,Ni=0,Ci=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var _i=mt.S;mt.S=function(e,t){gu=qt(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===wi){var r=wi=[];ji=0,Ni=jh(),Ci={status:"pending",value:void 0,then:function(e){r.push(e)}}}ji++,t.then(Si,Si)}(0,t),null!==_i&&_i(e,t)};var Ei=kt(null);function Pi(){var e=Ei.current;return null!==e?e:Qd.pooledCache}function Oi(e,t){wt(Ei,null===t?Ei.current:t.pool)}function Bi(){var e=Pi();return null===e?null:{parent:yi._currentValue,pool:e}}var Ti=Error(Ue(460)),Ri=Error(Ue(474)),Ai=Error(Ue(542)),zi={then:function(){}};function Ii(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Li(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(pa,pa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw Ui(e=t.reason),e;default:if("string"==typeof t.status)t.then(pa,pa);else{if(null!==(e=Qd)&&100<e.shellSuspendCounter)throw Error(Ue(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Ui(e=t.reason),e}throw Di=t,Ti}}function Mi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw Di=t,Ti;throw t}}var Di=null;function $i(){if(null===Di)throw Error(Ue(459));var e=Di;return Di=null,e}function Ui(e){if(e===Ti||e===Ai)throw Error(Ue(483))}var Fi=null,qi=0;function Vi(e){var t=qi;return qi+=1,null===Fi&&(Fi=[]),Li(Fi,e,t)}function Hi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ki(e,t){if(t.$$typeof===Qe)throw Error(Ue(525));throw e=Object.prototype.toString.call(t),Error(Ue(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gi(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=vs(e,t)).index=0,e.sibling=null,e}function s(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=67108866,r):a:(t.flags|=67108866,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,r,a){return null===t||6!==t.tag?((t=Cs(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function l(e,t,r,a){var s=r.type;return s===Ye?d(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===ot&&Mi(s)===t.type)?(Hi(t=n(t,r.props),r),t.return=e,t):(Hi(t=js(r.type,r.key,r.props,null,e.mode,a),r),t.return=e,t)}function c(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=_s(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function d(e,t,r,a,s){return null===t||7!==t.tag?((t=Ns(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function u(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Cs(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Je:return Hi(r=js(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case Xe:return(t=_s(t,e.mode,r)).return=e,t;case ot:return u(e,t=Mi(t),r)}if(gt(t)||ut(t))return(t=Ns(t,e.mode,r,null)).return=e,t;if("function"==typeof t.then)return u(e,Vi(t),r);if(t.$$typeof===rt)return u(e,gi(e,t),r);Ki(e,t)}return null}function h(e,t,r,a){var n=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return null!==n?null:o(e,t,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Je:return r.key===n?l(e,t,r,a):null;case Xe:return r.key===n?c(e,t,r,a):null;case ot:return h(e,t,r=Mi(r),a)}if(gt(r)||ut(r))return null!==n?null:d(e,t,r,a,null);if("function"==typeof r.then)return h(e,t,Vi(r),a);if(r.$$typeof===rt)return h(e,t,gi(e,r),a);Ki(e,r)}return null}function p(e,t,r,a,n){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return o(t,e=e.get(r)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case Je:return l(t,e=e.get(null===a.key?r:a.key)||null,a,n);case Xe:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case ot:return p(e,t,r,a=Mi(a),n)}if(gt(a)||ut(a))return d(t,e=e.get(r)||null,a,n,null);if("function"==typeof a.then)return p(e,t,r,Vi(a),n);if(a.$$typeof===rt)return p(e,t,r,gi(t,a),n);Ki(t,a)}return null}function g(o,l,c,d){if("object"==typeof c&&null!==c&&c.type===Ye&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Je:e:{for(var m=c.key;null!==l;){if(l.key===m){if((m=c.type)===Ye){if(7===l.tag){r(o,l.sibling),(d=n(l,c.props.children)).return=o,o=d;break e}}else if(l.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===ot&&Mi(m)===l.type){r(o,l.sibling),Hi(d=n(l,c.props),c),d.return=o,o=d;break e}r(o,l);break}t(o,l),l=l.sibling}c.type===Ye?((d=Ns(c.props.children,o.mode,d,c.key)).return=o,o=d):(Hi(d=js(c.type,c.key,c.props,null,o.mode,d),c),d.return=o,o=d)}return i(o);case Xe:e:{for(m=c.key;null!==l;){if(l.key===m){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){r(o,l.sibling),(d=n(l,c.children||[])).return=o,o=d;break e}r(o,l);break}t(o,l),l=l.sibling}(d=_s(c,o.mode,d)).return=o,o=d}return i(o);case ot:return g(o,l,c=Mi(c),d)}if(gt(c))return function(n,i,o,l){for(var c=null,d=null,g=i,m=i=0,f=null;null!==g&&m<o.length;m++){g.index>m?(f=g,g=null):f=g.sibling;var x=h(n,g,o[m],l);if(null===x){null===g&&(g=f);break}e&&g&&null===x.alternate&&t(n,g),i=s(x,i,m),null===d?c=x:d.sibling=x,d=x,g=f}if(m===o.length)return r(n,g),Ks&&Ds(n,m),c;if(null===g){for(;m<o.length;m++)null!==(g=u(n,o[m],l))&&(i=s(g,i,m),null===d?c=g:d.sibling=g,d=g);return Ks&&Ds(n,m),c}for(g=a(g);m<o.length;m++)null!==(f=p(g,n,m,o[m],l))&&(e&&null!==f.alternate&&g.delete(null===f.key?m:f.key),i=s(f,i,m),null===d?c=f:d.sibling=f,d=f);return e&&g.forEach(function(e){return t(n,e)}),Ks&&Ds(n,m),c}(o,l,c,d);if(ut(c)){if("function"!=typeof(m=ut(c)))throw Error(Ue(150));return function(n,i,o,l){if(null==o)throw Error(Ue(151));for(var c=null,d=null,g=i,m=i=0,f=null,x=o.next();null!==g&&!x.done;m++,x=o.next()){g.index>m?(f=g,g=null):f=g.sibling;var b=h(n,g,x.value,l);if(null===b){null===g&&(g=f);break}e&&g&&null===b.alternate&&t(n,g),i=s(b,i,m),null===d?c=b:d.sibling=b,d=b,g=f}if(x.done)return r(n,g),Ks&&Ds(n,m),c;if(null===g){for(;!x.done;m++,x=o.next())null!==(x=u(n,x.value,l))&&(i=s(x,i,m),null===d?c=x:d.sibling=x,d=x);return Ks&&Ds(n,m),c}for(g=a(g);!x.done;m++,x=o.next())null!==(x=p(g,n,m,x.value,l))&&(e&&null!==x.alternate&&g.delete(null===x.key?m:x.key),i=s(x,i,m),null===d?c=x:d.sibling=x,d=x);return e&&g.forEach(function(e){return t(n,e)}),Ks&&Ds(n,m),c}(o,l,c=m.call(c),d)}if("function"==typeof c.then)return g(o,l,Vi(c),d);if(c.$$typeof===rt)return g(o,l,gi(o,c),d);Ki(o,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==l&&6===l.tag?(r(o,l.sibling),(d=n(l,c)).return=o,o=d):(r(o,l),(d=Cs(c,o.mode,d)).return=o,o=d),i(o)):r(o,l)}return function(e,t,r,a){try{qi=0;var n=g(e,t,r,a);return Fi=null,n}catch(i){if(i===Ti||i===Ai)throw i;var s=ys(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var Wi=Gi(!0),Qi=Gi(!1),Ji=!1;function Xi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function eo(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&Wd){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=fs(e),ms(e,null,r),t}return hs(e,a,t,r),fs(e)}function to(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,mr(e,r)}}function ro(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ao=!1;function no(){if(ao){if(null!==Ci)throw Ci}}function so(e,t,r,a){ao=!1;var n=e.updateQueue;Ji=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(i=0,d=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(Xd&h)===h:(a&h)===h){0!==h&&h===Ni&&(ao=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,m=o;h=t;var f=r;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){u=g.call(f,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=m.payload)?g.call(f,u,h):g))break e;u=We({},u,h);break e;case 2:Ji=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=n.callbacks)?n.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=h;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(p=o).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===s&&(n.shared.lanes=0),su|=i,e.lanes=i,e.memoizedState=u}}function io(e,t){if("function"!=typeof e)throw Error(Ue(191,e));e.call(t)}function oo(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)io(r[e],t)}var lo=kt(null),co=kt(0);function uo(e,t){wt(co,e=au),wt(lo,t),au=e|t.baseLanes}function ho(){wt(co,au),wt(lo,lo.current)}function po(){au=co.current,vt(lo),vt(co)}var go=kt(null),mo=null;function fo(e){var t=e.alternate;wt(vo,1&vo.current),wt(go,e),null===mo&&(null===t||null!==lo.current||null!==t.memoizedState)&&(mo=e)}function xo(e){wt(vo,vo.current),wt(go,e),null===mo&&(mo=e)}function bo(e){22===e.tag?(wt(vo,vo.current),wt(go,e),null===mo&&(mo=e)):yo()}function yo(){wt(vo,vo.current),wt(go,go.current)}function ko(e){vt(go),mo===e&&(mo=null),vt(vo)}var vo=kt(0);function wo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||hp(r)||pp(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=0,No=null,Co=null,So=null,_o=!1,Eo=!1,Po=!1,Oo=0,Bo=0,To=null,Ro=0;function Ao(){throw Error(Ue(321))}function zo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function Io(e,t,r,a,n,s){return jo=s,No=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mt.H=null===e||null===e.memoizedState?Xl:Yl,Po=!1,s=r(a,n),Po=!1,Eo&&(s=Mo(t,r,a,n)),Lo(e),s}function Lo(e){mt.H=Jl;var t=null!==Co&&null!==Co.next;if(jo=0,So=Co=No=null,_o=!1,Bo=0,To=null,t)throw Error(Ue(300));null===e||gc||null!==(e=e.dependencies)&&ui(e)&&(gc=!0)}function Mo(e,t,r,a){No=e;var n=0;do{if(Eo&&(To=null),Bo=0,Eo=!1,25<=n)throw Error(Ue(301));if(n+=1,So=Co=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}mt.H=Zl,s=t(r,a)}while(Eo);return s}function Do(){var e=mt.H,t=e.useState()[0];return t="function"==typeof t.then?Ho(t):t,e=e.useState()[0],(null!==Co?Co.memoizedState:null)!==e&&(No.flags|=1024),t}function $o(){var e=0!==Oo;return Oo=0,e}function Uo(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Fo(e){if(_o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_o=!1}jo=0,So=Co=No=null,Eo=!1,Bo=Oo=0,To=null}function qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?No.memoizedState=So=e:So=So.next=e,So}function Vo(){if(null===Co){var e=No.alternate;e=null!==e?e.memoizedState:null}else e=Co.next;var t=null===So?No.memoizedState:So.next;if(null!==t)So=t,Co=e;else{if(null===e){if(null===No.alternate)throw Error(Ue(467));throw Error(Ue(310))}e={memoizedState:(Co=e).memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},null===So?No.memoizedState=So=e:So=So.next=e}return So}function Ho(e){var t=Bo;return Bo+=1,null===To&&(To=[]),e=Li(To,e,t),t=No,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,mt.H=null===t||null===t.memoizedState?Xl:Yl),e}function Ko(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ho(e);if(e.$$typeof===rt)return pi(e)}throw Error(Ue(438,String(e)))}function Go(e){var t=null,r=No.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var a=No.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},No.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=ct;return t.index++,r}function Wo(e,t){return"function"==typeof t?t(e):t}function Qo(e){return Jo(Vo(),Co,e)}function Jo(e,t,r){var a=e.queue;if(null===a)throw Error(Ue(311));a.lastRenderedReducer=r;var n=e.baseQueue,s=a.pending;if(null!==s){if(null!==n){var i=n.next;n.next=s.next,s.next=i}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var o=i=null,l=null,c=t=n.next,d=!1;do{var u=-536870913&c.lane;if(u!==c.lane?(Xd&u)===u:(jo&u)===u){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),u===Ni&&(d=!0);else{if((jo&h)===h){c=c.next,h===Ni&&(d=!0);continue}u={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(o=l=u,i=s):l=l.next=u,No.lanes|=h,su|=h}u=c.action,Po&&r(s,u),s=c.hasEagerState?c.eagerState:r(s,u)}else h={lane:u,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(o=l=h,i=s):l=l.next=h,No.lanes|=u,su|=u;c=c.next}while(null!==c&&c!==t);if(null===l?i=s:l.next=o,!Rn(s,e.memoizedState)&&(gc=!0,d&&null!==(r=Ci)))throw r;e.memoizedState=s,e.baseState=i,e.baseQueue=l,a.lastRenderedState=s}return null===n&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Xo(e){var t=Vo(),r=t.queue;if(null===r)throw Error(Ue(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var i=n=n.next;do{s=e(s,i.action),i=i.next}while(i!==n);Rn(s,t.memoizedState)||(gc=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,a]}function Yo(e,t,r){var a=No,n=Vo(),s=Ks;if(s){if(void 0===r)throw Error(Ue(407));r=r()}else r=t();var i=!Rn((Co||n).memoizedState,r);if(i&&(n.memoizedState=r,gc=!0),n=n.queue,jl(tl.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||null!==So&&1&So.memoizedState.tag){if(a.flags|=2048,bl(9,{destroy:void 0},el.bind(null,a,n,r,t),null),null===Qd)throw Error(Ue(349));s||127&jo||Zo(a,t,r)}return r}function Zo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=No.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},No.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function el(e,t,r,a){t.value=r,t.getSnapshot=a,rl(t)&&al(e)}function tl(e,t,r){return r(function(){rl(t)&&al(e)})}function rl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch(a){return!0}}function al(e){var t=gs(e,2);null!==t&&Pu(t,e,2)}function nl(e){var t=qo();if("function"==typeof e){var r=e;if(e=r(),Po){er(!0);try{r()}finally{er(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function sl(e,t,r,a){return e.baseState=r,Jo(e,Co,"function"==typeof a?a:Wo)}function il(e,t,r,a,n){if(Gl(e))throw Error(Ue(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==mt.T?r(!0):s.isTransition=!1,a(s),null===(r=t.pending)?(s.next=t.pending=s,ol(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ol(e,t){var r=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=mt.T,i={};mt.T=i;try{var o=r(n,a),l=mt.S;null!==l&&l(i,o),ll(e,t,o)}catch(c){dl(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),mt.T=s}}else try{ll(e,t,s=r(n,a))}catch(d){dl(e,t,d)}}function ll(e,t,r){null!==r&&"object"==typeof r&&"function"==typeof r.then?r.then(function(r){cl(e,t,r)},function(r){return dl(e,t,r)}):cl(e,t,r)}function cl(e,t,r){t.status="fulfilled",t.value=r,ul(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ol(e,r)))}function dl(e,t,r){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=r,ul(t),t=t.next}while(t!==a)}e.action=null}function ul(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hl(e,t){return t}function pl(e,t){if(Ks){var r=Qd.formState;if(null!==r){e:{var a=No;if(Ks){if(Hs){t:{for(var n=Hs,s=Ws;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=gp(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){Hs=gp(n.nextSibling),a="F!"===n.data;break e}}Js(a)}a=!1}a&&(t=r[0])}}return(r=qo()).memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},r.queue=a,r=Vl.bind(null,No,a),a.dispatch=r,a=nl(!1),s=Kl.bind(null,No,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=qo()).queue=n,r=il.bind(null,No,n,s,r),n.dispatch=r,a.memoizedState=e,[t,r,!1]}function gl(e){return ml(Vo(),Co,e)}function ml(e,t,r){if(t=Jo(e,t,hl)[0],e=Qo(Wo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=Ho(t)}catch(i){if(i===Ti)throw Ai;throw i}else a=t;var n=(t=Vo()).queue,s=n.dispatch;return r!==t.memoizedState&&(No.flags|=2048,bl(9,{destroy:void 0},fl.bind(null,n,r),null)),[a,s,e]}function fl(e,t){e.action=t}function xl(e){var t=Vo(),r=Co;if(null!==r)return ml(t,r,e);Vo(),t=t.memoizedState;var a=(r=Vo()).queue.dispatch;return r.memoizedState=e,[t,a,!1]}function bl(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},null===(t=No.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},No.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function yl(){return Vo().memoizedState}function kl(e,t,r,a){var n=qo();No.flags|=e,n.memoizedState=bl(1|t,{destroy:void 0},r,void 0===a?null:a)}function vl(e,t,r,a){var n=Vo();a=void 0===a?null:a;var s=n.memoizedState.inst;null!==Co&&null!==a&&zo(a,Co.memoizedState.deps)?n.memoizedState=bl(t,s,r,a):(No.flags|=e,n.memoizedState=bl(1|t,s,r,a))}function wl(e,t){kl(8390656,8,e,t)}function jl(e,t){vl(2048,8,e,t)}function Nl(e){var t=Vo().memoizedState;return function(e){No.flags|=4;var t=No.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},No.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(2&Wd)throw Error(Ue(440));return t.impl.apply(void 0,arguments)}}function Cl(e,t){return vl(4,2,e,t)}function Sl(e,t){return vl(4,4,e,t)}function _l(e,t){if("function"==typeof t){e=e();var r=t(e);return function(){"function"==typeof r?r():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function El(e,t,r){r=null!=r?r.concat([e]):null,vl(4,4,_l.bind(null,t,e),r)}function Pl(){}function Ol(e,t){var r=Vo();t=void 0===t?null:t;var a=r.memoizedState;return null!==t&&zo(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Bl(e,t){var r=Vo();t=void 0===t?null:t;var a=r.memoizedState;if(null!==t&&zo(t,a[1]))return a[0];if(a=e(),Po){er(!0);try{e()}finally{er(!1)}}return r.memoizedState=[a,t],a}function Tl(e,t,r){return void 0===r||1073741824&jo&&!(261930&Xd)?e.memoizedState=t:(e.memoizedState=r,e=Eu(),No.lanes|=e,su|=e,r)}function Rl(e,t,r,a){return Rn(r,t)?r:null!==lo.current?(e=Tl(e,r,a),Rn(e,t)||(gc=!0),e):42&jo&&(!(1073741824&jo)||261930&Xd)?(e=Eu(),No.lanes|=e,su|=e,t):(gc=!0,e.memoizedState=r)}function Al(e,t,r,a,n){var s=ft.p;ft.p=0!==s&&8>s?s:8;var i,o,l,c=mt.T,d={};mt.T=d,Kl(e,!1,t,r);try{var u=n(),h=mt.S;if(null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)Hl(e,t,(i=a,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),_u());else Hl(e,t,a,_u())}catch(p){Hl(e,t,{then:function(){},status:"rejected",reason:p},_u())}finally{ft.p=s,null!==c&&null!==d.types&&(c.types=d.types),mt.T=c}}function zl(){}function Il(e,t,r,a){if(5!==e.tag)throw Error(Ue(476));var n=Ll(e).queue;Al(e,n,t,xt,null===r?zl:function(){return Ml(e),r(a)})}function Ll(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:xt},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ml(e){var t=Ll(e);null===t.next&&(t=e.alternate.memoizedState),Hl(e,t.next.queue,{},_u())}function Dl(){return pi(Hp)}function $l(){return Vo().memoizedState}function Ul(){return Vo().memoizedState}function Fl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=_u(),a=eo(t,e=Zi(r),r);return null!==a&&(Pu(a,t,r),to(a,t,r)),t={cache:ki()},void(e.payload=t)}t=t.return}}function ql(e,t,r){var a=_u();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(e)?Wl(t,r):null!==(r=ps(e,t,r,a))&&(Pu(r,e,a),Ql(r,t,a))}function Vl(e,t,r){Hl(e,t,r,_u())}function Hl(e,t,r,a){var n={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gl(e))Wl(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,Rn(o,i))return hs(e,t,n,0),null===Qd&&us(),!1}catch(l){}if(null!==(r=ps(e,t,n,a)))return Pu(r,e,a),Ql(r,t,a),!0}return!1}function Kl(e,t,r,a){if(a={lane:2,revertLane:jh(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gl(e)){if(t)throw Error(Ue(479))}else null!==(t=ps(e,r,a,2))&&Pu(t,e,2)}function Gl(e){var t=e.alternate;return e===No||null!==t&&t===No}function Wl(e,t){Eo=_o=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ql(e,t,r){if(4194048&r){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,mr(e,r)}}var Jl={readContext:pi,use:Ko,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useLayoutEffect:Ao,useInsertionEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useSyncExternalStore:Ao,useId:Ao,useHostTransitionStatus:Ao,useFormState:Ao,useActionState:Ao,useOptimistic:Ao,useMemoCache:Ao,useCacheRefresh:Ao};Jl.useEffectEvent=Ao;var Xl={readContext:pi,use:Ko,useCallback:function(e,t){return qo().memoizedState=[e,void 0===t?null:t],e},useContext:pi,useEffect:wl,useImperativeHandle:function(e,t,r){r=null!=r?r.concat([e]):null,kl(4194308,4,_l.bind(null,t,e),r)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){kl(4,2,e,t)},useMemo:function(e,t){var r=qo();t=void 0===t?null:t;var a=e();if(Po){er(!0);try{e()}finally{er(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=qo();if(void 0!==r){var n=r(t);if(Po){er(!0);try{r(t)}finally{er(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=ql.bind(null,No,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},qo().memoizedState=e},useState:function(e){var t=(e=nl(e)).queue,r=Vl.bind(null,No,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Pl,useDeferredValue:function(e,t){return Tl(qo(),e,t)},useTransition:function(){var e=nl(!1);return e=Al.bind(null,No,e.queue,!0,!1),qo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=No,n=qo();if(Ks){if(void 0===r)throw Error(Ue(407));r=r()}else{if(r=t(),null===Qd)throw Error(Ue(349));127&Xd||Zo(a,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,wl(tl.bind(null,a,s,e),[e]),a.flags|=2048,bl(9,{destroy:void 0},el.bind(null,a,s,r,t),null),r},useId:function(){var e=qo(),t=Qd.identifierPrefix;if(Ks){var r=Ms;t="_"+t+"R_"+(r=(Ls&~(1<<32-tr(Ls)-1)).toString(32)+r),0<(r=Oo++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Ro++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dl,useFormState:pl,useActionState:pl,useOptimistic:function(e){var t=qo();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Kl.bind(null,No,!0,r),r.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return qo().memoizedState=Fl.bind(null,No)},useEffectEvent:function(e){var t=qo(),r={impl:e};return t.memoizedState=r,function(){if(2&Wd)throw Error(Ue(440));return r.impl.apply(void 0,arguments)}}},Yl={readContext:pi,use:Ko,useCallback:Ol,useContext:pi,useEffect:jl,useImperativeHandle:El,useInsertionEffect:Cl,useLayoutEffect:Sl,useMemo:Bl,useReducer:Qo,useRef:yl,useState:function(){return Qo(Wo)},useDebugValue:Pl,useDeferredValue:function(e,t){return Rl(Vo(),Co.memoizedState,e,t)},useTransition:function(){var e=Qo(Wo)[0],t=Vo().memoizedState;return["boolean"==typeof e?e:Ho(e),t]},useSyncExternalStore:Yo,useId:$l,useHostTransitionStatus:Dl,useFormState:gl,useActionState:gl,useOptimistic:function(e,t){return sl(Vo(),0,e,t)},useMemoCache:Go,useCacheRefresh:Ul};Yl.useEffectEvent=Nl;var Zl={readContext:pi,use:Ko,useCallback:Ol,useContext:pi,useEffect:jl,useImperativeHandle:El,useInsertionEffect:Cl,useLayoutEffect:Sl,useMemo:Bl,useReducer:Xo,useRef:yl,useState:function(){return Xo(Wo)},useDebugValue:Pl,useDeferredValue:function(e,t){var r=Vo();return null===Co?Tl(r,e,t):Rl(r,Co.memoizedState,e,t)},useTransition:function(){var e=Xo(Wo)[0],t=Vo().memoizedState;return["boolean"==typeof e?e:Ho(e),t]},useSyncExternalStore:Yo,useId:$l,useHostTransitionStatus:Dl,useFormState:xl,useActionState:xl,useOptimistic:function(e,t){var r=Vo();return null!==Co?sl(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Go,useCacheRefresh:Ul};function ec(e,t,r,a){r=null==(r=r(a,t=e.memoizedState))?t:We({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}Zl.useEffectEvent=Nl;var tc={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=_u(),n=Zi(a);n.payload=t,null!=r&&(n.callback=r),null!==(t=eo(e,n,a))&&(Pu(t,e,a),to(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=_u(),n=Zi(a);n.tag=1,n.payload=t,null!=r&&(n.callback=r),null!==(t=eo(e,n,a))&&(Pu(t,e,a),to(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_u(),a=Zi(r);a.tag=2,null!=t&&(a.callback=t),null!==(t=eo(e,a,r))&&(Pu(t,e,r),to(t,e,r))}};function rc(e,t,r,a,n,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!An(r,a)||!An(n,s))}function ac(e,t,r,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function nc(e,t){var r=t;if("ref"in t)for(var a in r={},t)"ref"!==a&&(r[a]=t[a]);if(e=e.defaultProps)for(var n in r===t&&(r=We({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}function sc(e){os(e)}function ic(e){}function oc(e){os(e)}function lc(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function cc(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function dc(e,t,r){return(r=Zi(r)).tag=3,r.payload={element:null},r.callback=function(){lc(e,t)},r}function uc(e){return(e=Zi(e)).tag=3,e}function hc(e,t,r,a){var n=r.type.getDerivedStateFromError;if("function"==typeof n){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){cc(t,r,a)}}var i=r.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){cc(t,r,a),"function"!=typeof n&&(null===xu?xu=new Set([this]):xu.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var pc=Error(Ue(461)),gc=!1;function mc(e,t,r,a){t.child=null===e?Qi(t,null,r,a):Wi(t,e.child,r,a)}function fc(e,t,r,a,n){r=r.render;var s=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return hi(t),a=Io(e,t,r,i,s,n),o=$o(),null===e||gc?(Ks&&o&&Us(t),t.flags|=1,mc(e,t,a,n),t.child):(Uo(e,t,n),Dc(e,t,n))}function xc(e,t,r,a,n){if(null===e){var s=r.type;return"function"!=typeof s||ks(s)||void 0!==s.defaultProps||null!==r.compare?((e=js(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,bc(e,t,s,a,n))}if(s=e.child,!$c(e,n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:An)(i,a)&&e.ref===t.ref)return Dc(e,t,n)}return t.flags|=1,(e=vs(s,a)).ref=t.ref,e.return=t,t.child=e}function bc(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(An(s,a)&&e.ref===t.ref){if(gc=!1,t.pendingProps=a=s,!$c(e,n))return t.lanes=e.lanes,Dc(e,t,n);131072&e.flags&&(gc=!0)}}return Cc(e,t,r,a,n)}function yc(e,t,r,a){var n=a.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|r:r,null!==e){for(a=t.child=e.child,n=0;null!==a;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~s}else a=0,t.child=null;return vc(e,t,s,r,a)}if(!(536870912&r))return a=t.lanes=536870912,vc(e,t,null!==s?s.baseLanes|r:r,r,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Oi(0,null!==s?s.cachePool:null),null!==s?uo(t,s):ho(),bo(t)}else null!==s?(Oi(0,s.cachePool),uo(t,s),yo(),t.memoizedState=null):(null!==e&&Oi(0,null),ho(),yo());return mc(e,t,n,r),t.child}function kc(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vc(e,t,r,a,n){var s=Pi();return s=null===s?null:{parent:yi._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},null!==e&&Oi(0,null),ho(),bo(t),null!==e&&di(e,t,a,!0),t.childLanes=n,null}function wc(e,t){return(t=Ac({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function jc(e,t,r){return Wi(t,e.child,null,r),(e=wc(t,t.pendingProps)).flags|=2,ko(t),t.memoizedState=null,e}function Nc(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof r&&"object"!=typeof r)throw Error(Ue(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Cc(e,t,r,a,n){return hi(t),r=Io(e,t,r,a,void 0,n),a=$o(),null===e||gc?(Ks&&a&&Us(t),t.flags|=1,mc(e,t,r,n),t.child):(Uo(e,t,n),Dc(e,t,n))}function Sc(e,t,r,a,n,s){return hi(t),t.updateQueue=null,r=Mo(t,a,r,n),Lo(e),a=$o(),null===e||gc?(Ks&&a&&Us(t),t.flags|=1,mc(e,t,r,s),t.child):(Uo(e,t,s),Dc(e,t,s))}function _c(e,t,r,a,n){if(hi(t),null===t.stateNode){var s=xs,i=r.contextType;"object"==typeof i&&null!==i&&(s=pi(i)),s=new r(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=tc,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},Xi(t),i=r.contextType,s.context="object"==typeof i&&null!==i?pi(i):xs,s.state=t.memoizedState,"function"==typeof(i=r.getDerivedStateFromProps)&&(ec(t,r,i,a),s.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&tc.enqueueReplaceState(s,s.state,null),so(t,a,s,n),no(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=nc(r,o);s.props=l;var c=s.context,d=r.contextType;i=xs,"object"==typeof d&&null!==d&&(i=pi(d));var u=r.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==i)&&ac(t,s,a,i),Ji=!1;var h=t.memoizedState;s.state=h,so(t,a,s,n),no(),c=t.memoizedState,o||h!==c||Ji?("function"==typeof u&&(ec(t,r,u,a),c=t.memoizedState),(l=Ji||rc(t,r,l,a,h,c,i))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Yi(e,t),d=nc(r,i=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=r.contextType,l=xs,"object"==typeof c&&null!==c&&(l=pi(c)),(c="function"==typeof(o=r.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==u||h!==l)&&ac(t,s,a,l),Ji=!1,h=t.memoizedState,s.state=h,so(t,a,s,n),no();var p=t.memoizedState;i!==u||h!==p||Ji||null!==e&&null!==e.dependencies&&ui(e.dependencies)?("function"==typeof o&&(ec(t,r,o,a),p=t.memoizedState),(d=Ji||rc(t,r,d,a,h,p,l)||null!==e&&null!==e.dependencies&&ui(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=d):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Nc(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,r=a&&"function"!=typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=Wi(t,e.child,null,n),t.child=Wi(t,null,r,n)):mc(e,t,r,n),t.memoizedState=s.state,e=t.child):e=Dc(e,t,n),e}function Ec(e,t,r,a){return ei(),t.flags|=256,mc(e,t,r,a),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(e){return{baseLanes:e,cachePool:Bi()}}function Bc(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=lu),e}function Tc(e,t,r){var a,n=t.pendingProps,s=!1,i=!!(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&!!(2&vo.current)),a&&(s=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(Ks){if(s?fo(t):yo(),(e=Hs)?null!==(e=null!==(e=up(e,Ws))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Is?{id:Ls,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},(r=Ss(e)).return=t,t.child=r,Vs=t,Hs=null):e=null,null===e)throw Js(t);return pp(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,s?(yo(),o=Ac({mode:"hidden",children:o},s=t.mode),n=Ns(n,s,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,(n=t.child).memoizedState=Oc(r),n.childLanes=Bc(e,a,r),t.memoizedState=Pc,kc(null,n)):(fo(t),Rc(t,o))}var l=e.memoizedState;if(null!==l&&null!==(o=l.dehydrated)){if(i)256&t.flags?(fo(t),t.flags&=-257,t=zc(e,t,r)):null!==t.memoizedState?(yo(),t.child=e.child,t.flags|=128,t=null):(yo(),o=n.fallback,s=t.mode,n=Ac({mode:"visible",children:n.children},s),(o=Ns(o,s,r,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Wi(t,e.child,null,r),(n=t.child).memoizedState=Oc(r),n.childLanes=Bc(e,a,r),t.memoizedState=Pc,t=kc(null,n));else if(fo(t),pp(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var c=a.dgst;a=c,(n=Error(Ue(419))).stack="",n.digest=a,ri({value:n,source:null,stack:null}),t=zc(e,t,r)}else if(gc||di(e,t,r,!1),a=0!==(r&e.childLanes),gc||a){if(null!==(a=Qd)&&(0!==(n=fr(a,r))&&n!==l.retryLane))throw l.retryLane=n,gs(e,n),Pu(a,e,n),pc;hp(o)||Uu(),t=zc(e,t,r)}else hp(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Hs=gp(o.nextSibling),Vs=t,Ks=!0,Gs=null,Ws=!1,null!==e&&qs(t,e),(t=Rc(t,n.children)).flags|=4096);return t}return s?(yo(),o=n.fallback,s=t.mode,c=(l=e.child).sibling,(n=vs(l,{mode:"hidden",children:n.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?o=vs(c,o):(o=Ns(o,s,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,kc(null,n),n=t.child,null===(o=e.child.memoizedState)?o=Oc(r):(null!==(s=o.cachePool)?(l=yi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Bi(),o={baseLanes:o.baseLanes|r,cachePool:s}),n.memoizedState=o,n.childLanes=Bc(e,a,r),t.memoizedState=Pc,kc(e.child,n)):(fo(t),e=(r=e.child).sibling,(r=vs(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r)}function Rc(e,t){return(t=Ac({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ac(e,t){return(e=ys(22,e,null,t)).lanes=0,e}function zc(e,t,r){return Wi(t,e.child,null,r),(e=Rc(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ic(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),li(e.return,t,r)}function Lc(e,t,r,a,n,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n,i.treeForkCount=s)}function Mc(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;a=a.children;var i=vo.current,o=!!(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,wt(vo,i),mc(e,t,a,r),a=Ks?Rs:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ic(e,r,t);else if(19===e.tag)Ic(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===wo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Lc(t,!1,n,r,s,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===wo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Lc(t,!0,r,null,s,a);break;case"together":Lc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Dc(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),su|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(di(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(Ue(153));if(null!==t.child){for(r=vs(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=vs(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function $c(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ui(e))}function Uc(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)gc=!0;else{if(!($c(e,r)||128&t.flags))return gc=!1,function(e,t,r){switch(t.tag){case 3:Pt(t,t.stateNode.containerInfo),ii(0,yi,e.memoizedState.cache),ei();break;case 27:case 5:Bt(t);break;case 4:Pt(t,t.stateNode.containerInfo);break;case 10:ii(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,xo(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(fo(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Tc(e,t,r):(fo(t),null!==(e=Dc(e,t,r))?e.sibling:null);fo(t);break;case 19:var n=!!(128&e.flags);if((a=0!==(r&t.childLanes))||(di(e,t,r,!1),a=0!==(r&t.childLanes)),n){if(a)return Mc(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),wt(vo,vo.current),a)break;return null;case 22:return t.lanes=0,yc(e,t,r,t.pendingProps);case 24:ii(0,yi,e.memoizedState.cache)}return Dc(e,t,r)}(e,t,r);gc=!!(131072&e.flags)}else gc=!1,Ks&&1048576&t.flags&&$s(t,Rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Mi(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var n=e.$$typeof;if(n===at){t.tag=11,t=fc(null,t,e,a,r);break e}if(n===it){t.tag=14,t=xc(null,t,e,a,r);break e}}throw t=pt(e)||e,Error(Ue(306,t,""))}ks(e)?(a=nc(e,a),t.tag=1,t=_c(null,t,e,a,r)):(t.tag=0,t=Cc(null,t,e,a,r))}return t;case 0:return Cc(e,t,t.type,t.pendingProps,r);case 1:return _c(e,t,a=t.type,n=nc(a,t.pendingProps),r);case 3:e:{if(Pt(t,t.stateNode.containerInfo),null===e)throw Error(Ue(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,Yi(e,t),so(t,a,null,r);var i=t.memoizedState;if(a=i.cache,ii(0,yi,a),a!==s.cache&&ci(t,[yi],r,!0),no(),a=i.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ec(e,t,a,r);break e}if(a!==n){ri(n=Ps(Error(Ue(424)),t)),t=Ec(e,t,a,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(Hs=gp(e.firstChild),Vs=t,Ks=!0,Gs=null,Ws=!0,r=Qi(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ei(),a===n){t=Dc(e,t,r);break e}mc(e,t,a,r)}t=t.child}return t;case 26:return Nc(e,t),null===e?(r=Sp(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ks||(r=t.type,e=t.pendingProps,(a=Xh(_t.current).createElement(r))[wr]=t,a[jr]=e,Gh(a,r,e),zr(a),t.stateNode=a):t.memoizedState=Sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bt(t),null===e&&Ks&&(a=t.stateNode=bp(t.type,t.pendingProps,_t.current),Vs=t,Ws=!0,n=Hs,op(t.type)?(mp=n,Hs=gp(a.firstChild)):Hs=n),mc(e,t,t.pendingProps.children,r),Nc(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Ks&&((n=a=Hs)&&(null!==(a=function(e,t,r,a){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=gp(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,Ws))?(t.stateNode=a,Vs=t,Hs=gp(a.firstChild),Ws=!1,n=!0):n=!1),n||Js(t)),Bt(t),n=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,a=s.children,ep(n,s)?a=null:null!==i&&ep(n,i)&&(t.flags|=32),null!==t.memoizedState&&(n=Io(e,t,Do,null,null,r),Hp._currentValue=n),Nc(e,t),mc(e,t,a,r),t.child;case 6:return null===e&&Ks&&((e=r=Hs)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=gp(e.nextSibling)))return null}return e}(r,t.pendingProps,Ws))?(t.stateNode=r,Vs=t,Hs=null,e=!0):e=!1),e||Js(t)),null;case 13:return Tc(e,t,r);case 4:return Pt(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Wi(t,null,a,r):mc(e,t,a,r),t.child;case 11:return fc(e,t,t.type,t.pendingProps,r);case 7:return mc(e,t,t.pendingProps,r),t.child;case 8:case 12:return mc(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,ii(0,t.type,a.value),mc(e,t,a.children,r),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,hi(t),a=a(n=pi(n)),t.flags|=1,mc(e,t,a,r),t.child;case 14:return xc(e,t,t.type,t.pendingProps,r);case 15:return bc(e,t,t.type,t.pendingProps,r);case 19:return Mc(e,t,r);case 31:return function(e,t,r){var a=t.pendingProps,n=!!(128&t.flags);if(t.flags&=-129,null===e){if(Ks){if("hidden"===a.mode)return e=wc(t,a),t.lanes=536870912,kc(null,e);if(xo(t),(e=Hs)?null!==(e=null!==(e=up(e,Ws))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Is?{id:Ls,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},(r=Ss(e)).return=t,t.child=r,Vs=t,Hs=null):e=null,null===e)throw Js(t);return t.lanes=536870912,null}return wc(t,a)}var s=e.memoizedState;if(null!==s){var i=s.dehydrated;if(xo(t),n)if(256&t.flags)t.flags&=-257,t=jc(e,t,r);else{if(null===t.memoizedState)throw Error(Ue(558));t.child=e.child,t.flags|=128,t=null}else if(gc||di(e,t,r,!1),n=0!==(r&e.childLanes),gc||n){if(null!==(a=Qd)&&0!==(i=fr(a,r))&&i!==s.retryLane)throw s.retryLane=i,gs(e,i),Pu(a,e,i),pc;Uu(),t=jc(e,t,r)}else e=s.treeContext,Hs=gp(i.nextSibling),Vs=t,Ks=!0,Gs=null,Ws=!1,null!==e&&qs(t,e),(t=wc(t,a)).flags|=4096;return t}return(e=vs(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return yc(e,t,r,t.pendingProps);case 24:return hi(t),a=pi(yi),null===e?(null===(n=Pi())&&(n=Qd,s=ki(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:a,cache:n},Xi(t),ii(0,yi,n)):(0!==(e.lanes&r)&&(Yi(e,t),so(t,null,null,r),no()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),ii(0,yi,a)):(a=s.cache,ii(0,yi,a),a!==n.cache&&ci(t,[yi],r,!0))),mc(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(Ue(156,t.tag))}function Fc(e){e.flags|=4}function qc(e,t,r,a,n){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&n)===n)if(e.stateNode.complete)e.flags|=8192;else{if(!Mu())throw Di=zi,Ri;e.flags|=8192}}else e.flags&=-16777217}function Vc(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(t)){if(!Mu())throw Di=zi,Ri;e.flags|=8192}}function Hc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ur():536870912,e.lanes|=t,cu|=t)}function Kc(e,t){if(!Ks)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=65011712&n.subtreeFlags,a|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Wc(e,t,r){var a=t.pendingProps;switch(Fs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gc(t),null;case 3:return r=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oi(yi),Ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zs(t)?Fc(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ti())),Gc(t),null;case 26:var n=t.type,s=t.memoizedState;return null===e?(Fc(t),null!==s?(Gc(t),Vc(t,s)):(Gc(t),qc(t,n,0,0,r))):s?s!==e.memoizedState?(Fc(t),Gc(t),Vc(t,s)):(Gc(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&Fc(t),Gc(t),qc(t,n,0,0,r)),null;case 27:if(Tt(t),r=_t.current,n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Fc(t);else{if(!a){if(null===t.stateNode)throw Error(Ue(166));return Gc(t),null}e=Ct.current,Zs(t)?Xs(t):(e=bp(n,a,r),t.stateNode=e,Fc(t))}return Gc(t),null;case 5:if(Tt(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Fc(t);else{if(!a){if(null===t.stateNode)throw Error(Ue(166));return Gc(t),null}if(s=Ct.current,Zs(t))Xs(t);else{var i=Xh(_t.current);switch(s){case 1:s=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(s=i.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"==typeof a.is?i.createElement(n,{is:a.is}):i.createElement(n)}}s[wr]=t,s[jr]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)s.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=s;e:switch(Gh(s,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Fc(t)}}return Gc(t),qc(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Fc(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(Ue(166));if(e=_t.current,Zs(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,null!==(n=Vs))switch(n.tag){case 27:case 5:a=n.memoizedProps}e[wr]=t,(e=!!(e.nodeValue===r||null!==a&&!0===a.suppressHydrationWarning||Vh(e.nodeValue,r)))||Js(t,!0)}else(e=Xh(e).createTextNode(a))[wr]=t,t.stateNode=e}return Gc(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(a=Zs(t),null!==r){if(null===e){if(!a)throw Error(Ue(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(Ue(557));e[wr]=t}else ei(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gc(t),e=!1}else r=ti(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(ko(t),t):(ko(t),null);if(128&t.flags)throw Error(Ue(558))}return Gc(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=Zs(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(Ue(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(Ue(317));n[wr]=t}else ei(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gc(t),n=!1}else n=ti(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(ko(t),t):(ko(t),null)}return ko(t),128&t.flags?(t.lanes=r,t):(r=null!==a,e=null!==e&&null!==e.memoizedState,r&&(n=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(n=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Hc(t,t.updateQueue),Gc(t),null);case 4:return Ot(),null===e&&Ah(t.stateNode.containerInfo),Gc(t),null;case 10:return oi(t.type),Gc(t),null;case 19:if(vt(vo),null===(a=t.memoizedState))return Gc(t),null;if(n=!!(128&t.flags),null===(s=a.rendering))if(n)Kc(a,!1);else{if(0!==nu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=wo(e))){for(t.flags|=128,Kc(a,!1),e=s.updateQueue,t.updateQueue=e,Hc(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)ws(r,e),r=r.sibling;return wt(vo,1&vo.current|2),Ks&&Ds(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&qt()>mu&&(t.flags|=128,n=!0,Kc(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=wo(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Hc(t,e),Kc(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!Ks)return Gc(t),null}else 2*qt()-a.renderingStartTime>mu&&536870912!==r&&(t.flags|=128,n=!0,Kc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qt(),e.sibling=null,r=vo.current,wt(vo,n?1&r|2:1&r),Ks&&Ds(t,a.treeForkCount),e):(Gc(t),null);case 22:case 23:return ko(t),po(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&r)&&!(128&t.flags)&&(Gc(t),6&t.subtreeFlags&&(t.flags|=8192)):Gc(t),null!==(r=t.updateQueue)&&Hc(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),null!==e&&vt(Ei),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),oi(yi),Gc(t),null;case 25:case 30:return null}throw Error(Ue(156,t.tag))}function Qc(e,t){switch(Fs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(yi),Ot(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(null!==t.memoizedState){if(ko(t),null===t.alternate)throw Error(Ue(340));ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(ko(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Ue(340));ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return vt(vo),null;case 4:return Ot(),null;case 10:return oi(t.type),null;case 22:case 23:return ko(t),po(),null!==e&&vt(Ei),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return oi(yi),null;default:return null}}function Jc(e,t){switch(Fs(t),t.tag){case 3:oi(yi),Ot();break;case 26:case 27:case 5:Tt(t);break;case 4:Ot();break;case 31:null!==t.memoizedState&&ko(t);break;case 13:ko(t);break;case 19:vt(vo);break;case 10:oi(t.type);break;case 22:case 23:ko(t),po(),null!==e&&vt(Ei);break;case 24:oi(yi)}}function Xc(e,t){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var n=a.next;r=n;do{if((r.tag&e)===e){a=void 0;var s=r.create,i=r.inst;a=s(),i.destroy=a}r=r.next}while(r!==n)}}catch(o){nh(t,t.return,o)}}function Yc(e,t,r){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,n=t;var l=r,c=o;try{c()}catch(d){nh(n,l,d)}}}a=a.next}while(a!==s)}}catch(d){nh(t,t.return,d)}}function Zc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{oo(t,r)}catch(a){nh(e,e.return,a)}}}function ed(e,t,r){r.props=nc(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){nh(e,t,a)}}function td(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof r?e.refCleanup=r(a):r.current=a}}catch(n){nh(e,t,n)}}function rd(e,t){var r=e.ref,a=e.refCleanup;if(null!==r)if("function"==typeof a)try{a()}catch(n){nh(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof r)try{r(null)}catch(s){nh(e,t,s)}else r.current=null}function ad(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(n){nh(e,e.return,n)}}function nd(e,t,r){try{var a=e.stateNode;!function(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,i=null,o=null,l=null,c=null,d=null;for(p in r){var u=r[p];if(r.hasOwnProperty(p)&&null!=u)switch(p){case"checked":case"value":break;case"defaultValue":l=u;default:a.hasOwnProperty(p)||Hh(e,t,p,null,a,u)}}for(var h in a){var p=a[h];if(u=r[h],a.hasOwnProperty(h)&&(null!=p||null!=u))switch(h){case"type":s=p;break;case"name":n=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(Ue(137,t));break;default:p!==u&&Hh(e,t,h,p,a,u)}}return void Zr(e,i,o,l,c,d,s,n);case"select":for(s in p=i=o=h=null,r)if(l=r[s],r.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:a.hasOwnProperty(s)||Hh(e,t,s,null,a,l)}for(n in a)if(s=a[n],l=r[n],a.hasOwnProperty(n)&&(null!=s||null!=l))switch(n){case"value":h=s;break;case"defaultValue":o=s;break;case"multiple":i=s;default:s!==l&&Hh(e,t,n,s,a,l)}return t=o,r=i,a=p,void(null!=h?ra(e,!!r,h,!1):!!a!=!!r&&(null!=t?ra(e,!!r,t,!0):ra(e,!!r,r?[]:"",!1)));case"textarea":for(o in p=h=null,r)if(n=r[o],r.hasOwnProperty(o)&&null!=n&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Hh(e,t,o,null,a,n)}for(i in a)if(n=a[i],s=r[i],a.hasOwnProperty(i)&&(null!=n||null!=s))switch(i){case"value":h=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(Ue(91));break;default:n!==s&&Hh(e,t,i,n,a,s)}return void aa(e,h,p);case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&null!=h&&!a.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Hh(e,t,g,null,a,h);for(l in a)if(h=a[l],p=r[l],a.hasOwnProperty(l)&&h!==p&&(null!=h||null!=p))if("selected"===l)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else Hh(e,t,l,h,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)h=r[m],r.hasOwnProperty(m)&&null!=h&&!a.hasOwnProperty(m)&&Hh(e,t,m,null,a,h);for(c in a)if(h=a[c],p=r[c],a.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(Ue(137,t));break;default:Hh(e,t,c,h,a,p)}return;default:if(ca(t)){for(var f in r)h=r[f],r.hasOwnProperty(f)&&void 0!==h&&!a.hasOwnProperty(f)&&Kh(e,t,f,void 0,a,h);for(d in a)h=a[d],p=r[d],!a.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Kh(e,t,d,h,a,p);return}}for(var x in r)h=r[x],r.hasOwnProperty(x)&&null!=h&&!a.hasOwnProperty(x)&&Hh(e,t,x,null,a,h);for(u in a)h=a[u],p=r[u],!a.hasOwnProperty(u)||h===p||null==h&&null==p||Hh(e,t,u,h,a,p)}(a,e.type,r,t),a[jr]=t}catch(n){nh(e,e.return,n)}}function sd(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&op(e.type)||4===e.tag}function id(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&op(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function od(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=pa));else if(4!==a&&(27===a&&op(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(od(e,t,r),e=e.sibling;null!==e;)od(e,t,r),e=e.sibling}function ld(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&(27===a&&op(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(ld(e,t,r),e=e.sibling;null!==e;)ld(e,t,r),e=e.sibling}function cd(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gh(t,a,r),t[wr]=e,t[jr]=r}catch(s){nh(e,e.return,s)}}var dd=!1,ud=!1,hd=!1,pd="function"==typeof WeakSet?WeakSet:Set,gd=null;function md(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Pd(e,r),4&a&&Xc(5,r);break;case 1:if(Pd(e,r),4&a)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){nh(r,r.return,i)}else{var n=nc(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){nh(r,r.return,o)}}64&a&&Zc(r),512&a&&td(r,r.return);break;case 3:if(Pd(e,r),64&a&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{oo(e,t)}catch(i){nh(r,r.return,i)}}break;case 27:null===t&&4&a&&cd(r);case 26:case 5:Pd(e,r),null===t&&4&a&&ad(r),512&a&&td(r,r.return);break;case 12:Pd(e,r);break;case 31:Pd(e,r),4&a&&vd(e,r);break;case 13:Pd(e,r),4&a&&wd(e,r),64&a&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,r=lh.bind(null,r))));break;case 22:if(!(a=null!==r.memoizedState||dd)){t=null!==t&&null!==t.memoizedState||ud,n=dd;var s=ud;dd=a,(ud=t)&&!s?Bd(e,r,!!(8772&r.subtreeFlags)):Pd(e,r),dd=n,ud=s}break;case 30:break;default:Pd(e,r)}}function fd(e){var t=e.alternate;null!==t&&(e.alternate=null,fd(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Or(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xd=null,bd=!1;function yd(e,t,r){for(r=r.child;null!==r;)kd(e,t,r),r=r.sibling}function kd(e,t,r){if(Zt&&"function"==typeof Zt.onCommitFiberUnmount)try{Zt.onCommitFiberUnmount(Yt,r)}catch(s){}switch(r.tag){case 26:ud||rd(r,t),yd(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:ud||rd(r,t);var a=xd,n=bd;op(r.type)&&(xd=r.stateNode,bd=!1),yd(e,t,r),yp(r.stateNode),xd=a,bd=n;break;case 5:ud||rd(r,t);case 6:if(a=xd,n=bd,xd=null,yd(e,t,r),bd=n,null!==(xd=a))if(bd)try{(9===xd.nodeType?xd.body:"HTML"===xd.nodeName?xd.ownerDocument.body:xd).removeChild(r.stateNode)}catch(i){nh(r,t,i)}else try{xd.removeChild(r.stateNode)}catch(i){nh(r,t,i)}break;case 18:null!==xd&&(bd?(lp(9===(e=xd).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Cg(e)):lp(xd,r.stateNode));break;case 4:a=xd,n=bd,xd=r.stateNode.containerInfo,bd=!0,yd(e,t,r),xd=a,bd=n;break;case 0:case 11:case 14:case 15:Yc(2,r,t),ud||Yc(4,r,t),yd(e,t,r);break;case 1:ud||(rd(r,t),"function"==typeof(a=r.stateNode).componentWillUnmount&&ed(r,t,a)),yd(e,t,r);break;case 21:yd(e,t,r);break;case 22:ud=(a=ud)||null!==r.memoizedState,yd(e,t,r),ud=a;break;default:yd(e,t,r)}}function vd(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Cg(e)}catch(r){nh(t,t.return,r)}}}function wd(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cg(e)}catch(r){nh(t,t.return,r)}}function jd(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new pd),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new pd),t;default:throw Error(Ue(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var a=ch.bind(null,e,t);t.then(a,a)}})}function Nd(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a],s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(op(o.type)){xd=o.stateNode,bd=!1;break e}break;case 5:xd=o.stateNode,bd=!1;break e;case 3:case 4:xd=o.stateNode.containerInfo,bd=!0;break e}o=o.return}if(null===xd)throw Error(Ue(160));kd(s,i,n),xd=null,bd=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Sd(t,e),t=t.sibling}var Cd=null;function Sd(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nd(t,e),_d(e),4&a&&(Yc(3,e,e.return),Xc(3,e),Yc(5,e,e.return));break;case 1:Nd(t,e),_d(e),512&a&&(ud||null===r||rd(r,r.return)),64&a&&dd&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?a:r.concat(a))));break;case 26:var n=Cd;if(Nd(t,e),_d(e),512&a&&(ud||null===r||rd(r,r.return)),4&a){var s=null!==r?r.memoizedState:null;if(a=e.memoizedState,null===r)if(null===a)if(null===e.stateNode){e:{a=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":(!(s=n.getElementsByTagName("title")[0])||s[Pr]||s[wr]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),Gh(s,a,r),s[wr]=e,zr(s),a=s;break e;case"link":var i=Lp("link","href",n).get(a+(r.href||""));if(i)for(var o=0;o<i.length;o++)if((s=i[o]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){i.splice(o,1);break t}Gh(s=n.createElement(a),a,r),n.head.appendChild(s);break;case"meta":if(i=Lp("meta","content",n).get(a+(r.content||"")))for(o=0;o<i.length;o++)if((s=i[o]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){i.splice(o,1);break t}Gh(s=n.createElement(a),a,r),n.head.appendChild(s);break;default:throw Error(Ue(468,a))}s[wr]=e,zr(s),a=s}e.stateNode=a}else Mp(n,e.type,e.stateNode);else e.stateNode=Tp(n,a,e.memoizedProps);else s!==a?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===a?Mp(n,e.type,e.stateNode):Tp(n,a,e.memoizedProps)):null===a&&null!==e.stateNode&&nd(e,e.memoizedProps,r.memoizedProps)}break;case 27:Nd(t,e),_d(e),512&a&&(ud||null===r||rd(r,r.return)),null!==r&&4&a&&nd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Nd(t,e),_d(e),512&a&&(ud||null===r||rd(r,r.return)),32&e.flags){n=e.stateNode;try{sa(n,"")}catch(g){nh(e,e.return,g)}}4&a&&null!=e.stateNode&&nd(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&a&&(hd=!0);break;case 6:if(Nd(t,e),_d(e),4&a){if(null===e.stateNode)throw Error(Ue(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(g){nh(e,e.return,g)}}break;case 3:if(Ip=null,n=Cd,Cd=wp(t.containerInfo),Nd(t,e),Cd=n,_d(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Cg(t.containerInfo)}catch(g){nh(e,e.return,g)}hd&&(hd=!1,Ed(e));break;case 4:a=Cd,Cd=wp(e.stateNode.containerInfo),Nd(t,e),_d(e),Cd=a;break;case 12:default:Nd(t,e),_d(e);break;case 31:case 19:Nd(t,e),_d(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,jd(e,a)));break;case 13:Nd(t,e),_d(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==r&&null!==r.memoizedState)&&(pu=qt()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,jd(e,a)));break;case 22:n=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,c=dd,d=ud;if(dd=c||n,ud=d||l,Nd(t,e),ud=d,dd=c,_d(e),8192&a)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||l||dd||ud||Od(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(s=l.stateNode,n)"function"==typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=l.stateNode;var u=l.memoizedProps.style,h=null!=u&&u.hasOwnProperty("display")?u.display:null;o.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(g){nh(l,l.return,g)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=n?"":l.memoizedProps}catch(g){nh(l,l.return,g)}}}else if(18===t.tag){if(null===r){l=t;try{var p=l.stateNode;n?cp(p,!0):cp(l.stateNode,!1)}catch(g){nh(l,l.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(r=a.retryQueue)&&(a.retryQueue=null,jd(e,r))));case 30:case 21:}}function _d(e){var t=e.flags;if(2&t){try{for(var r,a=e.return;null!==a;){if(sd(a)){r=a;break}a=a.return}if(null==r)throw Error(Ue(160));switch(r.tag){case 27:var n=r.stateNode;ld(e,id(e),n);break;case 5:var s=r.stateNode;32&r.flags&&(sa(s,""),r.flags&=-33),ld(e,id(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;od(e,id(e),i);break;default:throw Error(Ue(161))}}catch(o){nh(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ed(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ed(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Pd(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)md(e,t.alternate,t),t=t.sibling}function Od(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yc(4,t,t.return),Od(t);break;case 1:rd(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&ed(t,t.return,r),Od(t);break;case 27:yp(t.stateNode);case 26:case 5:rd(t,t.return),Od(t);break;case 22:null===t.memoizedState&&Od(t);break;default:Od(t)}e=e.sibling}}function Bd(e,t,r){for(r=r&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Bd(n,s,r),Xc(4,s);break;case 1:if(Bd(n,s,r),"function"==typeof(n=(a=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){nh(a,a.return,c)}if(null!==(n=(a=s).updateQueue)){var o=a.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)io(l[n],o)}catch(c){nh(a,a.return,c)}}r&&64&i&&Zc(s),td(s,s.return);break;case 27:cd(s);case 26:case 5:Bd(n,s,r),r&&null===a&&4&i&&ad(s),td(s,s.return);break;case 12:Bd(n,s,r);break;case 31:Bd(n,s,r),r&&4&i&&vd(n,s);break;case 13:Bd(n,s,r),r&&4&i&&wd(n,s);break;case 22:null===s.memoizedState&&Bd(n,s,r),td(s,s.return);break;case 30:break;default:Bd(n,s,r)}t=t.sibling}}function Td(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&vi(r))}function Rd(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&vi(e))}function Ad(e,t,r,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)zd(e,t,r,a),t=t.sibling}function zd(e,t,r,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ad(e,t,r,a),2048&n&&Xc(9,t);break;case 1:case 31:case 13:default:Ad(e,t,r,a);break;case 3:Ad(e,t,r,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&vi(e)));break;case 12:if(2048&n){Ad(e,t,r,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){nh(t,t.return,l)}}else Ad(e,t,r,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ad(e,t,r,a):Ld(e,t):2&s._visibility?Ad(e,t,r,a):(s._visibility|=2,Id(e,t,r,a,!!(10256&t.subtreeFlags)||!1)),2048&n&&Td(i,t);break;case 24:Ad(e,t,r,a),2048&n&&Rd(t.alternate,t)}}function Id(e,t,r,a,n){for(n=n&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=r,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Id(s,i,o,l,n),Xc(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?Id(s,i,o,l,n):Ld(s,i):(d._visibility|=2,Id(s,i,o,l,n)),n&&2048&c&&Td(i.alternate,i);break;case 24:Id(s,i,o,l,n),n&&2048&c&&Rd(i.alternate,i);break;default:Id(s,i,o,l,n)}t=t.sibling}}function Ld(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,a=t,n=a.flags;switch(a.tag){case 22:Ld(r,a),2048&n&&Td(a.alternate,a);break;case 24:Ld(r,a),2048&n&&Rd(a.alternate,a);break;default:Ld(r,a)}t=t.sibling}}var Md=8192;function Dd(e,t,r){if(e.subtreeFlags&Md)for(e=e.child;null!==e;)$d(e,t,r),e=e.sibling}function $d(e,t,r){switch(e.tag){case 26:Dd(e,t,r),e.flags&Md&&null!==e.memoizedState&&function(e,t,r,a){if(!("stylesheet"!==r.type||"string"==typeof a.media&&!1===matchMedia(a.media).matches||4&r.state.loading)){if(null===r.instance){var n=_p(a.href),s=t.querySelector(Ep(n));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=Up.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=s,void zr(s);s=t.ownerDocument||t,a=Pp(a),(n=kp.get(n))&&Ap(a,n),zr(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),Gh(s,"link",a),r.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(3&r.state.loading)&&(e.count++,r=Up.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Cd,e.memoizedState,e.memoizedProps);break;case 5:default:Dd(e,t,r);break;case 3:case 4:var a=Cd;Cd=wp(e.stateNode.containerInfo),Dd(e,t,r),Cd=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=Md,Md=16777216,Dd(e,t,r),Md=a):Dd(e,t,r))}}function Ud(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Fd(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];gd=a,Hd(a,e)}Ud(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)qd(e),e=e.sibling}function qd(e){switch(e.tag){case 0:case 11:case 15:Fd(e),2048&e.flags&&Yc(9,e,e.return);break;case 3:case 12:default:Fd(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Vd(e)):Fd(e)}}function Vd(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];gd=a,Hd(a,e)}Ud(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Yc(8,t,t.return),Vd(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Vd(t));break;default:Vd(t)}e=e.sibling}}function Hd(e,t){for(;null!==gd;){var r=gd;switch(r.tag){case 0:case 11:case 15:Yc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var a=r.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:vi(r.memoizedState.cache)}if(null!==(a=r.child))a.return=r,gd=a;else e:for(r=e;null!==gd;){var n=(a=gd).sibling,s=a.return;if(fd(a),a===r){gd=null;break e}if(null!==n){n.return=s,gd=n;break e}gd=s}}}var Kd={getCacheForType:function(e){var t=pi(yi),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return pi(yi).controller.signal}},Gd="function"==typeof WeakMap?WeakMap:Map,Wd=0,Qd=null,Jd=null,Xd=0,Yd=0,Zd=null,eu=!1,tu=!1,ru=!1,au=0,nu=0,su=0,iu=0,ou=0,lu=0,cu=0,du=null,uu=null,hu=!1,pu=0,gu=0,mu=1/0,fu=null,xu=null,bu=0,yu=null,ku=null,vu=0,wu=0,ju=null,Nu=null,Cu=0,Su=null;function _u(){return 2&Wd&&0!==Xd?Xd&-Xd:null!==mt.T?jh():yr()}function Eu(){if(0===lu)if(536870912&Xd&&!Ks)lu=536870912;else{var e=sr;!(3932160&(sr<<=1))&&(sr=262144),lu=e}return null!==(e=go.current)&&(e.flags|=32),lu}function Pu(e,t,r){(e!==Qd||2!==Yd&&9!==Yd)&&null===e.cancelPendingCommit||(Iu(e,0),Ru(e,Xd,lu,!1)),pr(e,r),2&Wd&&e===Qd||(e===Qd&&(!(2&Wd)&&(iu|=r),4===nu&&Ru(e,Xd,lu,!1)),fh(e))}function Ou(e,t,r){if(6&Wd)throw Error(Ue(327));for(var a=!r&&!(127&t)&&0===(t&e.expiredLanes)||cr(e,t),n=a?function(e,t){var r=Wd;Wd|=2;var a=Du(),n=$u();Qd!==e||Xd!==t?(fu=null,mu=qt()+500,Iu(e,t)):tu=cr(e,t);e:for(;;)try{if(0!==Yd&&null!==Jd){t=Jd;var s=Zd;t:switch(Yd){case 1:Yd=0,Zd=null,Gu(e,t,s,1);break;case 2:case 9:if(Ii(s)){Yd=0,Zd=null,Ku(t);break}t=function(){2!==Yd&&9!==Yd||Qd!==e||(Yd=7),fh(e)},s.then(t,t);break e;case 3:Yd=7;break e;case 4:Yd=5;break e;case 7:Ii(s)?(Yd=0,Zd=null,Ku(t)):(Yd=0,Zd=null,Gu(e,t,s,7));break;case 5:var i=null;switch(Jd.tag){case 26:i=Jd.memoizedState;case 5:case 27:var o=Jd;if(i?Dp(i):o.stateNode.complete){Yd=0,Zd=null;var l=o.sibling;if(null!==l)Jd=l;else{var c=o.return;null!==c?(Jd=c,Wu(c)):Jd=null}break t}}Yd=0,Zd=null,Gu(e,t,s,5);break;case 6:Yd=0,Zd=null,Gu(e,t,s,6);break;case 8:zu(),nu=6;break e;default:throw Error(Ue(462))}}Vu();break}catch(d){Lu(e,d)}return si=ni=null,mt.H=a,mt.A=n,Wd=r,null!==Jd?0:(Qd=null,Xd=0,us(),nu)}(e,t):Fu(e,t,!0),s=a;;){if(0===n){tu&&!a&&Ru(e,t,0,!1);break}if(r=e.current.alternate,!s||Tu(r)){if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;n=du;var l=o.current.memoizedState.isDehydrated;if(l&&(Iu(o,i).flags|=256),2!==(i=Fu(o,i,!1))){if(ru&&!l){o.errorRecoveryDisabledLanes|=s,iu|=s,n=4;break e}s=uu,uu=n,null!==s&&(null===uu?uu=s:uu.push.apply(uu,s))}n=i}if(s=!1,2!==n)continue}}if(1===n){Iu(e,0),Ru(e,t,0,!0);break}e:{switch(a=e,s=n){case 0:case 1:throw Error(Ue(345));case 4:if((4194048&t)!==t)break;case 6:Ru(a,t,lu,!eu);break e;case 2:uu=null;break;case 3:case 5:break;default:throw Error(Ue(329))}if((62914560&t)===t&&10<(n=pu+300-qt())){if(Ru(a,t,lu,!eu),0!==lr(a,0,!0))break e;vu=t,a.timeoutHandle=rp(Bu.bind(null,a,r,uu,fu,hu,t,lu,iu,cu,eu,s,"Throttled",-0,0),n)}else Bu(a,r,uu,fu,hu,t,lu,iu,cu,eu,s,null,-0,0)}break}n=Fu(e,t,!1),s=!1}fh(e)}function Bu(e,t,r,a,n,s,i,o,l,c,d,u,h,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){$d(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa});var g=(62914560&s)===s?pu-qt():(4194048&s)===s?gu-qt():0;if(null!==(g=function(e,t){return e.stylesheets&&0===e.count&&qp(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var a=setTimeout(function(){if(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===$p&&($p=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var n=r[a],s=n.transferSize,i=n.initiatorType,o=n.duration;if(s&&o&&Wh(i)){for(i=0,o=n.responseEnd,a+=1;a<r.length;a++){var l=r[a],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&Wh(u)&&(i+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--a,t+=8*(s+i)/(n.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var n=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>$p?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}(u,g)))return vu=s,e.cancelPendingCommit=g(Ju.bind(null,e,t,s,r,a,n,i,o,l,d,u,null,h,p)),void Ru(e,s,i,!c)}Ju(e,t,s,r,a,n,i,o,l)}function Tu(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!Rn(s(),n))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t,r,a){t&=~ou,t&=~iu,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-tr(n),i=1<<s;a[s]=-1,n&=~i}0!==r&&gr(e,r,t)}function Au(){return!!(6&Wd)||(xh(0),!1)}function zu(){if(null!==Jd){if(0===Yd)var e=Jd.return;else si=ni=null,Fo(e=Jd),Fi=null,qi=0,e=Jd;for(;null!==e;)Jc(e.alternate,e),e=e.return;Jd=null}}function Iu(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,ap(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),vu=0,zu(),Qd=e,Jd=r=vs(e.current,null),Xd=t,Yd=0,Zd=null,eu=!1,tu=cr(e,t),ru=!1,cu=lu=ou=iu=su=nu=0,uu=du=null,hu=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-tr(a),s=1<<n;t|=e[n],a&=~s}return au=t,us(),r}function Lu(e,t){No=null,mt.H=Jl,t===Ti||t===Ai?(t=$i(),Yd=3):t===Ri?(t=$i(),Yd=4):Yd=t===pc?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Zd=t,null===Jd&&(nu=1,lc(e,Ps(t,e.current)))}function Mu(){var e=go.current;return null===e||((4194048&Xd)===Xd?null===mo:!!((62914560&Xd)===Xd||536870912&Xd)&&e===mo)}function Du(){var e=mt.H;return mt.H=Jl,null===e?Jl:e}function $u(){var e=mt.A;return mt.A=Kd,e}function Uu(){nu=4,eu||(4194048&Xd)!==Xd&&null!==go.current||(tu=!0),!(134217727&su)&&!(134217727&iu)||null===Qd||Ru(Qd,Xd,lu,!1)}function Fu(e,t,r){var a=Wd;Wd|=2;var n=Du(),s=$u();Qd===e&&Xd===t||(fu=null,Iu(e,t)),t=!1;var i=nu;e:for(;;)try{if(0!==Yd&&null!==Jd){var o=Jd,l=Zd;switch(Yd){case 8:zu(),i=6;break e;case 3:case 2:case 9:case 6:null===go.current&&(t=!0);var c=Yd;if(Yd=0,Zd=null,Gu(e,o,l,c),r&&tu){i=0;break e}break;default:c=Yd,Yd=0,Zd=null,Gu(e,o,l,c)}}qu(),i=nu;break}catch(d){Lu(e,d)}return t&&e.shellSuspendCounter++,si=ni=null,Wd=a,mt.H=n,mt.A=s,null===Jd&&(Qd=null,Xd=0,us()),i}function qu(){for(;null!==Jd;)Hu(Jd)}function Vu(){for(;null!==Jd&&!Ut();)Hu(Jd)}function Hu(e){var t=Uc(e.alternate,e,au);e.memoizedProps=e.pendingProps,null===t?Wu(e):Jd=t}function Ku(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Sc(r,t,t.pendingProps,t.type,void 0,Xd);break;case 11:t=Sc(r,t,t.pendingProps,t.type.render,t.ref,Xd);break;case 5:Fo(t);default:Jc(r,t),t=Uc(r,t=Jd=ws(t,au),au)}e.memoizedProps=e.pendingProps,null===t?Wu(e):Jd=t}function Gu(e,t,r,a){si=ni=null,Fo(t),Fi=null,qi=0;var n=t.return;try{if(function(e,t,r,a,n){if(r.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=r.alternate)&&di(t,r,n,!0),null!==(r=go.current)){switch(r.tag){case 31:case 13:return null===mo?Uu():null===r.alternate&&0===nu&&(nu=3),r.flags&=-257,r.flags|=65536,r.lanes=n,a===zi?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([a]):t.add(a),sh(e,a,n)),!1;case 22:return r.flags|=65536,a===zi?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([a]):r.add(a),sh(e,a,n)),!1}throw Error(Ue(435,r.tag))}return sh(e,a,n),Uu(),!1}if(Ks)return null!==(t=go.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Qs&&ri(Ps(e=Error(Ue(422),{cause:a}),r))):(a!==Qs&&ri(Ps(t=Error(Ue(423),{cause:a}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,a=Ps(a,r),ro(e,n=dc(e.stateNode,a,n)),4!==nu&&(nu=2)),!1;var s=Error(Ue(520),{cause:a});if(s=Ps(s,r),null===du?du=[s]:du.push(s),4!==nu&&(nu=2),null===t)return!0;a=Ps(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,ro(r,e=dc(r.stateNode,a,e)),!1;case 1:if(t=r.type,s=r.stateNode,!(128&r.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==xu&&xu.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,hc(n=uc(n),e,r,a),ro(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,Xd))return nu=1,lc(e,Ps(r,e.current)),void(Jd=null)}catch(s){if(null!==n)throw Jd=n,s;return nu=1,lc(e,Ps(r,e.current)),void(Jd=null)}32768&t.flags?(Ks||1===a?e=!0:tu||536870912&Xd?e=!1:(eu=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=go.current)&&13===a.tag&&(a.flags|=16384))),Qu(t,e)):Wu(t)}function Wu(e){var t=e;do{if(32768&t.flags)return void Qu(t,eu);e=t.return;var r=Wc(t.alternate,t,au);if(null!==r)return void(Jd=r);if(null!==(t=t.sibling))return void(Jd=t);Jd=t=e}while(null!==t);0===nu&&(nu=5)}function Qu(e,t){do{var r=Qc(e.alternate,e);if(null!==r)return r.flags&=32767,void(Jd=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(Jd=e);Jd=e=r}while(null!==e);nu=6,Jd=null}function Ju(e,t,r,a,n,s,i,o,l){e.cancelPendingCommit=null;do{th()}while(0!==bu);if(6&Wd)throw Error(Ue(327));if(null!==t){if(t===e.current)throw Error(Ue(177));if(s=t.lanes|t.childLanes,function(e,t,r,a,n,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-tr(r),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}r&=~u}0!==a&&gr(e,a,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,s|=ds,i,o,l),e===Qd&&(Jd=Qd=null,Xd=0),ku=t,yu=e,vu=r,wu=s,ju=n,Nu=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Dt(Gt,function(){return rh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=mt.T,mt.T=null,n=ft.p,ft.p=2,i=Wd,Wd|=4;try{!function(e,t){if(e=e.containerInfo,Qh=eg,Dn(e=Mn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch(m){r=null;break e}var i=0,o=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var p;u!==r||0!==n&&3!==u.nodeType||(o=i+n),u!==s||0!==a&&3!==u.nodeType||(l=i+a),3===u.nodeType&&(i+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===r&&++c===n&&(o=i),h===s&&++d===a&&(l=i),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}r=-1===o||-1===l?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:e,selectionRange:r},eg=!1,gd=t;null!==gd;)if(e=(t=gd).child,1028&t.subtreeFlags&&null!==e)e.return=t,gd=e;else for(;null!==gd;){switch(s=(t=gd).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(n=e[r]).ref.impl=n.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,a=r.stateNode;try{var g=nc(r.type,n);e=a.getSnapshotBeforeUpdate(g,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(f){nh(r,r.return,f)}}break;case 3:if(1024&e)if(9===(r=(e=t.stateNode.containerInfo).nodeType))dp(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dp(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(Ue(163))}if(null!==(e=t.sibling)){e.return=t.return,gd=e;break}gd=t.return}}(e,t)}finally{Wd=i,ft.p=n,mt.T=a}}bu=1,Xu(),Yu(),Zu()}}function Xu(){if(1===bu){bu=0;var e=yu,t=ku,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=mt.T,mt.T=null;var a=ft.p;ft.p=2;var n=Wd;Wd|=4;try{Sd(t,e);var s=Jh,i=Mn(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Ln(o.ownerDocument.documentElement,o)){if(null!==l&&Dn(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),g=o.textContent.length,m=Math.min(l.start,g),f=void 0===l.end?m:Math.min(l.end,g);!p.extend&&m>f&&(i=f,f=m,m=i);var x=In(o,m),b=In(o,f);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),m>f?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var k=u[o];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}eg=!!Qh,Jh=Qh=null}finally{Wd=n,ft.p=a,mt.T=r}}e.current=t,bu=2}}function Yu(){if(2===bu){bu=0;var e=yu,t=ku,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=mt.T,mt.T=null;var a=ft.p;ft.p=2;var n=Wd;Wd|=4;try{md(e,t.alternate,t)}finally{Wd=n,ft.p=a,mt.T=r}}bu=3}}function Zu(){if(4===bu||3===bu){bu=0,Ft();var e=yu,t=ku,r=vu,a=Nu;10256&t.subtreeFlags||10256&t.flags?bu=5:(bu=0,ku=yu=null,eh(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(xu=null),br(r),t=t.stateNode,Zt&&"function"==typeof Zt.onCommitFiberRoot)try{Zt.onCommitFiberRoot(Yt,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==a){t=mt.T,n=ft.p,ft.p=2,mt.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];s(o.value,{componentStack:o.stack})}}finally{mt.T=t,ft.p=n}}3&vu&&th(),fh(e),n=e.pendingLanes,261930&r&&42&n?e===Su?Cu++:(Cu=0,Su=e):Cu=0,xh(0)}}function eh(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,vi(t)))}function th(){return Xu(),Yu(),Zu(),rh()}function rh(){if(5!==bu)return!1;var e=yu,t=wu;wu=0;var r=br(vu),a=mt.T,n=ft.p;try{ft.p=32>r?32:r,mt.T=null,r=ju,ju=null;var s=yu,i=vu;if(bu=0,ku=yu=null,vu=0,6&Wd)throw Error(Ue(331));var o=Wd;if(Wd|=4,qd(s.current),zd(s,s.current,i,r),Wd=o,xh(0,!1),Zt&&"function"==typeof Zt.onPostCommitFiberRoot)try{Zt.onPostCommitFiberRoot(Yt,s)}catch(l){}return!0}finally{ft.p=n,mt.T=a,eh(e,t)}}function ah(e,t,r){t=Ps(r,t),null!==(e=eo(e,t=dc(e.stateNode,t,2),2))&&(pr(e,2),fh(e))}function nh(e,t,r){if(3===e.tag)ah(e,e,r);else for(;null!==t;){if(3===t.tag){ah(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===xu||!xu.has(a))){e=Ps(r,e),null!==(a=eo(t,r=uc(2),2))&&(hc(r,a,t,e),pr(a,2),fh(a));break}}t=t.return}}function sh(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new Gd;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(ru=!0,n.add(r),e=ih.bind(null,e,t,r),t.then(e,e))}function ih(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Qd===e&&(Xd&r)===r&&(4===nu||3===nu&&(62914560&Xd)===Xd&&300>qt()-pu?!(2&Wd)&&Iu(e,0):ou|=r,cu===Xd&&(cu=0)),fh(e)}function oh(e,t){0===t&&(t=ur()),null!==(e=gs(e,t))&&(pr(e,t),fh(e))}function lh(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),oh(e,r)}function ch(e,t){var r=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(Ue(314))}null!==a&&a.delete(t),oh(e,r)}var dh=null,uh=null,hh=!1,ph=!1,gh=!1,mh=0;function fh(e){e!==uh&&null===e.next&&(null===uh?dh=uh=e:uh=uh.next=e),ph=!0,hh||(hh=!0,sp(function(){6&Wd?Dt(Ht,bh):yh()}))}function xh(e,t){if(!gh&&ph){gh=!0;do{for(var r=!1,a=dh;null!==a;){if(0!==e){var n=a.pendingLanes;if(0===n)var s=0;else{var i=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-tr(42|e)+1)-1,s=201326741&(s&=n&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,wh(a,s))}else s=Xd,!(3&(s=lr(a,a===Qd?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||cr(a,s)||(r=!0,wh(a,s));a=a.next}}while(r);gh=!1}}function bh(){yh()}function yh(){ph=hh=!1;var e=0;0!==mh&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==tp&&(tp=e,!0);return tp=null,!1}()&&(e=mh);for(var t=qt(),r=null,a=dh;null!==a;){var n=a.next,s=kh(a,t);0===s?(a.next=null,null===r?dh=n:r.next=n,null===n&&(uh=r)):(r=a,(0!==e||3&s)&&(ph=!0)),a=n}0!==bu&&5!==bu||xh(e),0!==mh&&(mh=0)}function kh(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-tr(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=dr(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=Xd,r=lr(e,e===(t=Qd)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===r||e===t&&(2===Yd||9===Yd)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&$t(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||cr(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==a&&$t(a),br(r)){case 2:case 8:r=Kt;break;case 32:default:r=Gt;break;case 268435456:r=Qt}return a=vh.bind(null,e),r=Dt(r,a),e.callbackPriority=t,e.callbackNode=r,t}return null!==a&&null!==a&&$t(a),e.callbackPriority=2,e.callbackNode=null,2}function vh(e,t){if(0!==bu&&5!==bu)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(th()&&e.callbackNode!==r)return null;var a=Xd;return 0===(a=lr(e,e===Qd?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ou(e,a,t),kh(e,qt()),null!=e.callbackNode&&e.callbackNode===r?vh.bind(null,e):null)}function wh(e,t){if(th())return null;Ou(e,t,!0)}function jh(){if(0===mh){var e=Ni;0===e&&(e=nr,!(261888&(nr<<=1))&&(nr=256)),mh=e}return mh}function Nh(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:ha(""+e)}function Ch(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Sh=0;Sh<ss.length;Sh++){var _h=ss[Sh];is(_h.toLowerCase(),"on"+(_h[0].toUpperCase()+_h.slice(1)))}is(Xn,"onAnimationEnd"),is(Yn,"onAnimationIteration"),is(Zn,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(es,"onTransitionRun"),is(ts,"onTransitionStart"),is(rs,"onTransitionCancel"),is(as,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ph=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eh));function Oh(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){os(d)}n.currentTarget=null,s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=c;try{s(n)}catch(d){os(d)}n.currentTarget=null,s=l}}}}function Bh(e,t){var r=t[Cr];void 0===r&&(r=t[Cr]=new Set);var a=e+"__bubble";r.has(a)||(zh(t,e,2,!1),r.add(a))}function Th(e,t,r){var a=0;t&&(a|=4),zh(r,e,a,t)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function Ah(e){if(!e[Rh]){e[Rh]=!0,Ir.forEach(function(t){"selectionchange"!==t&&(Ph.has(t)||Th(t,!1,e),Th(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rh]||(t[Rh]=!0,Th("selectionchange",!1,t))}}function zh(e,t,r,a){switch(og(t)){case 2:var n=tg;break;case 8:n=rg;break;default:n=ag}r=n.bind(null,t,r,e),n=void 0,!ja||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Ih(e,t,r,a,n){var s=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&i.stateNode.containerInfo===n)return;i=i.return}for(;null!==o;){if(null===(i=Br(o)))return;if(5===(l=i.tag)||6===l||26===l||27===l){a=s=i;continue e}o=o.parentNode}}a=a.return}ka(function(){var a=s,n=ma(r),i=[];e:{var o=ns.get(e);if(void 0!==o){var l=La,c=e;switch(e){case"keypress":if(0===Pa(r))break e;case"keydown":case"keyup":l=Ya;break;case"focusin":c="focus",l=qa;break;case"focusout":c="blur",l=qa;break;case"beforeblur":case"afterblur":l=qa;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=en;break;case Xn:case Yn:case Zn:l=Va;break;case as:l=tn;break;case"scroll":case"scrollend":l=Da;break;case"wheel":l=rn;break;case"copy":case"cut":case"paste":l=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Za;break;case"toggle":case"beforetoggle":l=an}var d=!!(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var p,g=a;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===h||null!=(m=va(g,h))&&d.push(Lh(g,m,p)),u)break;g=g.return}0<d.length&&(o=new l(o,c,null,r,n),i.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ga||!(c=r.relatedTarget||r.fromElement)||!Br(c)&&!c[Nr])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?Br(c):null)&&(u=qe(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=a),l!==c)){if(d=Ua,m="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Za,m="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?o:Rr(l),p=null==c?o:Rr(c),(o=new d(m,g+"leave",l,r,n)).target=u,o.relatedTarget=p,m=null,Br(n)===a&&((d=new d(h,g+"enter",c,r,n)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(d=Dh,g=c,p=0,m=h=l;m;m=d(m))p++;m=0;for(var f=g;f;f=d(f))m++;for(;0<p-m;)h=d(h),p--;for(;0<m-p;)g=d(g),m--;for(;p--;){if(h===g||null!==g&&h===g.alternate){d=h;break e}h=d(h),g=d(g)}d=null}else d=null;null!==l&&$h(i,o,l,d,!1),null!==c&&null!==u&&$h(i,u,c,d,!0)}if("select"===(l=(o=a?Rr(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=wn;else if(fn(o))if(jn)x=Tn;else{x=On;var b=Pn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&ca(a.elementType)&&(x=wn):x=Bn;switch(x&&(x=x(e,a))?xn(i,x,r,n):(b&&b(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&ta(o,"number",o.value)),b=a?Rr(a):window,e){case"focusin":(fn(b)||"true"===b.contentEditable)&&(Un=b,Fn=a,qn=null);break;case"focusout":qn=Fn=Un=null;break;case"mousedown":Vn=!0;break;case"contextmenu":case"mouseup":case"dragend":Vn=!1,Hn(i,r,n);break;case"selectionchange":if($n)break;case"keydown":case"keyup":Hn(i,r,n)}var y;if(sn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else gn?hn(e,r)&&(k="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(k="onCompositionStart");k&&(cn&&"ko"!==r.locale&&(gn||"onCompositionStart"!==k?"onCompositionEnd"===k&&gn&&(y=Ea()):(Sa="value"in(Ca=n)?Ca.value:Ca.textContent,gn=!0)),0<(b=Mh(a,k)).length&&(k=new Ka(k,e,null,r,n),i.push({event:k,listeners:b}),y?k.data=y:null!==(y=pn(r))&&(k.data=y))),(y=ln?function(e,t){switch(e){case"compositionend":return pn(t);case"keypress":return 32!==t.which?null:(un=!0,dn);case"textInput":return(e=t.data)===dn&&un?null:e;default:return null}}(e,r):function(e,t){if(gn)return"compositionend"===e||!sn&&hn(e,t)?(e=Ea(),_a=Sa=Ca=null,gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cn&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(k=Mh(a,"onBeforeInput")).length&&(b=new Ka("onBeforeInput","beforeinput",null,r,n),i.push({event:b,listeners:k}),b.data=y)),function(e,t,r,a,n){if("submit"===t&&r&&r.stateNode===n){var s=Nh((n[jr]||null).action),i=a.submitter;i&&null!==(t=(t=i[jr]||null)?Nh(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new La("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==mh){var e=i?Ch(n,i):new FormData(n);Il(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?Ch(n,i):new FormData(n),Il(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(i,e,a,r,n)}Oh(i,t)})}function Lh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mh(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=va(e,r))&&a.unshift(Lh(e,n,s)),null!=(n=va(e,t))&&a.push(Lh(e,n,s))),3===e.tag)return a;e=e.return}return[]}function Dh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $h(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,n?null!=(c=va(r,s))&&i.unshift(Lh(r,c,l)):n||null!=(c=va(r,s))&&i.push(Lh(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Uh=/\r\n?/g,Fh=/\u0000|\uFFFD/g;function qh(e){return("string"==typeof e?e:""+e).replace(Uh,"\n").replace(Fh,"")}function Vh(e,t){return t=qh(t),qh(e)===t}function Hh(e,t,r,a,n,s){switch(r){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||sa(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&sa(e,""+a);break;case"className":Vr(e,"class",a);break;case"tabIndex":Vr(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(e,r,a);break;case"style":la(e,a,s);break;case"data":if("object"!==t){Vr(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(r);break}a=ha(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===r?("input"!==t&&Hh(e,t,"name",n.name,n,null),Hh(e,t,"formEncType",n.formEncType,n,null),Hh(e,t,"formMethod",n.formMethod,n,null),Hh(e,t,"formTarget",n.formTarget,n,null)):(Hh(e,t,"encType",n.encType,n,null),Hh(e,t,"method",n.method,n,null),Hh(e,t,"target",n.target,n,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(r);break}a=ha(""+a),e.setAttribute(r,a);break;case"onClick":null!=a&&(e.onclick=pa);break;case"onScroll":null!=a&&Bh("scroll",e);break;case"onScrollEnd":null!=a&&Bh("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(Ue(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(Ue(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}r=ha(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===a?e.setAttribute(r,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":Bh("beforetoggle",e),Bh("toggle",e),qr(e,"popover",a);break;case"xlinkActuate":Hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Hr(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Hr(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Hr(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Hr(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":qr(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&qr(e,r=da.get(r)||r,a)}}function Kh(e,t,r,a,n,s){switch(r){case"style":la(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(Ue(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(Ue(60));e.innerHTML=r}}break;case"children":"string"==typeof a?sa(e,a):("number"==typeof a||"bigint"==typeof a)&&sa(e,""+a);break;case"onScroll":null!=a&&Bh("scroll",e);break;case"onScrollEnd":null!=a&&Bh("scrollend",e);break;case"onClick":null!=a&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Lr.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"==typeof(s=null!=(s=e[jr]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!=typeof a)?r in e?e[r]=a:!0===a?e.setAttribute(r,""):qr(e,r,a):("function"!=typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,n)))}}function Gh(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bh("error",e),Bh("load",e);var a,n=!1,s=!1;for(a in r)if(r.hasOwnProperty(a)){var i=r[a];if(null!=i)switch(a){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ue(137,t));default:Hh(e,t,a,i,r,null)}}return s&&Hh(e,t,"srcSet",r.srcSet,r,null),void(n&&Hh(e,t,"src",r.src,r,null));case"input":Bh("invalid",e);var o=a=i=s=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(null!=d)switch(n){case"name":s=d;break;case"type":i=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(Ue(137,t));break;default:Hh(e,t,n,d,r,null)}}return void ea(e,a,o,l,c,i,s,!1);case"select":for(s in Bh("invalid",e),n=i=a=null,r)if(r.hasOwnProperty(s)&&null!=(o=r[s]))switch(s){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":n=o;default:Hh(e,t,s,o,r,null)}return t=a,r=i,e.multiple=!!n,void(null!=t?ra(e,!!n,t,!1):null!=r&&ra(e,!!n,r,!0));case"textarea":for(i in Bh("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(i)&&null!=(o=r[i]))switch(i){case"value":n=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(Ue(91));break;default:Hh(e,t,i,o,r,null)}return void na(e,n,s,a);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(n=r[l]))if("selected"===l)e.selected=n&&"function"!=typeof n&&"symbol"!=typeof n;else Hh(e,t,l,n,r,null);return;case"dialog":Bh("beforetoggle",e),Bh("toggle",e),Bh("cancel",e),Bh("close",e);break;case"iframe":case"object":Bh("load",e);break;case"video":case"audio":for(n=0;n<Eh.length;n++)Bh(Eh[n],e);break;case"image":Bh("error",e),Bh("load",e);break;case"details":Bh("toggle",e);break;case"embed":case"source":case"link":Bh("error",e),Bh("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Ue(137,t));default:Hh(e,t,c,n,r,null)}return;default:if(ca(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(n=r[d])&&Kh(e,t,d,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(null!=(n=r[o])&&Hh(e,t,o,n,r,null))}function Wh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var Qh=null,Jh=null;function Xh(e){return 9===e.nodeType?e:e.ownerDocument}function Yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ep(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var tp=null;var rp="function"==typeof setTimeout?setTimeout:void 0,ap="function"==typeof clearTimeout?clearTimeout:void 0,np="function"==typeof Promise?Promise:void 0,sp="function"==typeof queueMicrotask?queueMicrotask:void 0!==np?function(e){return np.resolve(null).then(e).catch(ip)}:rp;function ip(e){setTimeout(function(){throw e})}function op(e){return"head"===e}function lp(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)||"/&"===r){if(0===a)return e.removeChild(n),void Cg(t);a--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)a++;else if("html"===r)yp(e.ownerDocument.documentElement);else if("head"===r){yp(r=e.ownerDocument.head);for(var s=r.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Pr]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=i}}else"body"===r&&yp(e.ownerDocument.body);r=n}while(r);Cg(t)}function cp(e,t){var r=e;e=0;do{var a=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=a}while(r)}function dp(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dp(r),Or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function up(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=gp(e.nextSibling)))return null}return e}function hp(e){return"$?"===e.data||"$~"===e.data}function pp(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function gp(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var mp=null;function fp(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return gp(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function xp(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function bp(e,t,r){switch(t=Xh(r),e){case"html":if(!(e=t.documentElement))throw Error(Ue(452));return e;case"head":if(!(e=t.head))throw Error(Ue(453));return e;case"body":if(!(e=t.body))throw Error(Ue(454));return e;default:throw Error(Ue(451))}}function yp(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Or(e)}var kp=new Map,vp=new Set;function wp(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jp=ft.d;ft.d={f:function(){var e=jp.f(),t=Au();return e||t},r:function(e){var t=Tr(e);null!==t&&5===t.tag&&"form"===t.type?Ml(t):jp.r(e)},D:function(e){jp.D(e),Cp("dns-prefetch",e,null)},C:function(e,t){jp.C(e,t),Cp("preconnect",e,t)},L:function(e,t,r){jp.L(e,t,r);var a=Np;if(a&&e&&t){var n='link[rel="preload"][as="'+Yr(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+Yr(r.imageSrcSet)+'"]',"string"==typeof r.imageSizes&&(n+='[imagesizes="'+Yr(r.imageSizes)+'"]')):n+='[href="'+Yr(e)+'"]';var s=n;switch(t){case"style":s=_p(e);break;case"script":s=Op(e)}kp.has(s)||(e=We({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),kp.set(s,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(Ep(s))||"script"===t&&a.querySelector(Bp(s))||(Gh(t=a.createElement("link"),"link",e),zr(t),a.head.appendChild(t)))}},m:function(e,t){jp.m(e,t);var r=Np;if(r&&e){var a=t&&"string"==typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+Yr(a)+'"][href="'+Yr(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Op(e)}if(!kp.has(s)&&(e=We({rel:"modulepreload",href:e},t),kp.set(s,e),null===r.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bp(s)))return}Gh(a=r.createElement("link"),"link",e),zr(a),r.head.appendChild(a)}}},X:function(e,t){jp.X(e,t);var r=Np;if(r&&e){var a=Ar(r).hoistableScripts,n=Op(e),s=a.get(n);s||((s=r.querySelector(Bp(n)))||(e=We({src:e,async:!0},t),(t=kp.get(n))&&zp(e,t),zr(s=r.createElement("script")),Gh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}},S:function(e,t,r){jp.S(e,t,r);var a=Np;if(a&&e){var n=Ar(a).hoistableStyles,s=_p(e);t=t||"default";var i=n.get(s);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Ep(s)))o.loading=5;else{e=We({rel:"stylesheet",href:e,"data-precedence":t},r),(r=kp.get(s))&&Ap(e,r);var l=i=a.createElement("link");zr(l),Gh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Rp(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(s,i)}}},M:function(e,t){jp.M(e,t);var r=Np;if(r&&e){var a=Ar(r).hoistableScripts,n=Op(e),s=a.get(n);s||((s=r.querySelector(Bp(n)))||(e=We({src:e,async:!0,type:"module"},t),(t=kp.get(n))&&zp(e,t),zr(s=r.createElement("script")),Gh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}};var Np="undefined"==typeof document?null:document;function Cp(e,t,r){var a=Np;if(a&&"string"==typeof t&&t){var n=Yr(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"==typeof r&&(n+='[crossorigin="'+r+'"]'),vp.has(n)||(vp.add(n),e={rel:e,crossOrigin:r,href:t},null===a.querySelector(n)&&(Gh(t=a.createElement("link"),"link",e),zr(t),a.head.appendChild(t)))}}function Sp(e,t,r,a){var n,s,i,o,l=(l=_t.current)?wp(l):null;if(!l)throw Error(Ue(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof r.precedence&&"string"==typeof r.href?(t=_p(r.href),(a=(r=Ar(l).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"==typeof r.href&&"string"==typeof r.precedence){e=_p(r.href);var c=Ar(l).hoistableStyles,d=c.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=l.querySelector(Ep(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kp.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kp.set(e,r),c||(n=l,s=e,i=r,o=d.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=n.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Gh(s,"link",i),zr(s),n.head.appendChild(s))))),t&&null===a)throw Error(Ue(528,""));return d}if(t&&null!==a)throw Error(Ue(529,""));return null;case"script":return t=r.async,"string"==typeof(r=r.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Op(r),(a=(r=Ar(l).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(Ue(444,e))}}function _p(e){return'href="'+Yr(e)+'"'}function Ep(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return We({},e,{"data-precedence":e.precedence,precedence:null})}function Op(e){return'[src="'+Yr(e)+'"]'}function Bp(e){return"script[async]"+e}function Tp(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Yr(r.href)+'"]');if(a)return t.instance=a,zr(a),a;var n=We({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return zr(a=(e.ownerDocument||e).createElement("style")),Gh(a,"style",n),Rp(a,r.precedence,e),t.instance=a;case"stylesheet":n=_p(r.href);var s=e.querySelector(Ep(n));if(s)return t.state.loading|=4,t.instance=s,zr(s),s;a=Pp(r),(n=kp.get(n))&&Ap(a,n),zr(s=(e.ownerDocument||e).createElement("link"));var i=s;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),Gh(s,"link",a),t.state.loading|=4,Rp(s,r.precedence,e),t.instance=s;case"script":return s=Op(r.src),(n=e.querySelector(Bp(s)))?(t.instance=n,zr(n),n):(a=r,(n=kp.get(s))&&zp(a=We({},r),n),zr(n=(e=e.ownerDocument||e).createElement("script")),Gh(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(Ue(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Rp(a,r.precedence,e));return t.instance}function Rp(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)s=o;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Ap(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ip=null;function Lp(e,t,r){if(null===Ip){var a=new Map,n=Ip=new Map;n.set(r,a)}else(a=(n=Ip).get(r))||(a=new Map,n.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[Pr]||s[wr]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(s):a.set(i,[s])}}return a}function Mp(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Dp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var $p=0;function Up(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Fp=null;function qp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Fp=new Map,t.forEach(Vp,e),Fp=null,Up.call(e))}function Vp(e,t){if(!(4&t.state.loading)){var r=Fp.get(e);if(r)var a=r.get(null);else{r=new Map,Fp.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var i=n[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),a=i)}a&&r.set(null,a)}i=(n=t.instance).getAttribute("data-precedence"),(s=r.get(i)||a)===a&&r.set(null,n),r.set(i,n),this.count++,a=Up.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var Hp={$$typeof:rt,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function Kp(e,t,r,a,n,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Gp(e,t,r,a,n,s,i,o,l,c,d,u){return e=new Kp(e,t,r,i,l,c,d,u,o),t=1,!0===s&&(t|=24),s=ys(3,null,null,t),e.current=s,s.stateNode=e,(t=ki()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:r,cache:t},Xi(s),e}function Wp(e){return e?e=xs:xs}function Qp(e,t,r,a,n,s){n=Wp(n),null===a.context?a.context=n:a.pendingContext=n,(a=Zi(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(r=eo(e,a,t))&&(Pu(r,0,t),to(r,e,t))}function Jp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Xp(e,t){Jp(e,t),(e=e.alternate)&&Jp(e,t)}function Yp(e){if(13===e.tag||31===e.tag){var t=gs(e,67108864);null!==t&&Pu(t,0,67108864),Xp(e,67108864)}}function Zp(e){if(13===e.tag||31===e.tag){var t=_u(),r=gs(e,t=xr(t));null!==r&&Pu(r,0,t),Xp(e,t)}}var eg=!0;function tg(e,t,r,a){var n=mt.T;mt.T=null;var s=ft.p;try{ft.p=2,ag(e,t,r,a)}finally{ft.p=s,mt.T=n}}function rg(e,t,r,a){var n=mt.T;mt.T=null;var s=ft.p;try{ft.p=8,ag(e,t,r,a)}finally{ft.p=s,mt.T=n}}function ag(e,t,r,a){if(eg){var n=ng(a);if(null===n)Ih(e,t,a,sg,r),fg(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return cg=xg(cg,e,t,r,a,n),!0;case"dragenter":return dg=xg(dg,e,t,r,a,n),!0;case"mouseover":return ug=xg(ug,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return hg.set(s,xg(hg.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,pg.set(s,xg(pg.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(fg(e,a),4&t&&-1<mg.indexOf(e)){for(;null!==n;){var s=Tr(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=or(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-tr(i);o.entanglements[1]|=l,i&=~l}fh(s),!(6&Wd)&&(mu=qt()+500,xh(0))}}break;case 31:case 13:null!==(o=gs(s,2))&&Pu(o,0,2),Au(),Xp(s,2)}if(null===(s=ng(a))&&Ih(e,t,a,sg,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Ih(e,t,a,null,r)}}function ng(e){return ig(e=ma(e))}var sg=null;function ig(e){if(sg=null,null!==(e=Br(e))){var t=qe(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=Ve(t)))return e;e=null}else if(31===r){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sg=e,null}function og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case Ht:return 2;case Kt:return 8;case Gt:case Wt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var lg=!1,cg=null,dg=null,ug=null,hg=new Map,pg=new Map,gg=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(e,t){switch(e){case"focusin":case"focusout":cg=null;break;case"dragenter":case"dragleave":dg=null;break;case"mouseover":case"mouseout":ug=null;break;case"pointerover":case"pointerout":hg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pg.delete(t.pointerId)}}function xg(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Tr(t))&&Yp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function bg(e){var t=Br(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void kr(e.priority,function(){Zp(r)})}else if(31===t){if(null!==(t=He(r)))return e.blockedOn=t,void kr(e.priority,function(){Zp(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function yg(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ng(e.nativeEvent);if(null!==r)return null!==(t=Tr(r))&&Yp(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ga=a,r.target.dispatchEvent(a),ga=null,t.shift()}return!0}function kg(e,t,r){yg(e)&&r.delete(t)}function vg(){lg=!1,null!==cg&&yg(cg)&&(cg=null),null!==dg&&yg(dg)&&(dg=null),null!==ug&&yg(ug)&&(ug=null),hg.forEach(kg),pg.forEach(kg)}function wg(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,vg)))}var jg=null;function Ng(e){jg!==e&&(jg=e,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,function(){jg===e&&(jg=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],n=e[t+2];if("function"!=typeof a){if(null===ig(a||r))continue;break}var s=Tr(r);null!==s&&(e.splice(t,3),t-=3,Il(s,{pending:!0,data:n,method:r.method,action:a},a,n))}}))}function Cg(e){function t(t){return wg(t,e)}null!==cg&&wg(cg,e),null!==dg&&wg(dg,e),null!==ug&&wg(ug,e),hg.forEach(t),pg.forEach(t);for(var r=0;r<gg.length;r++){var a=gg[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gg.length&&null===(r=gg[0]).blockedOn;)bg(r),null===r.blockedOn&&gg.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<r.length;a+=3){var n=r[a],s=r[a+1],i=n[jr]||null;if("function"==typeof s)i||Ng(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(n=s,i=s[jr]||null)o=i.formAction;else if(null!==ig(n))continue}else o=i.action;"function"==typeof o?r[a+1]=o:(r.splice(a,3),a-=3),Ng(r)}}}function Sg(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return n=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==n&&(n(),n=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==n&&(n(),n=null)}}}function _g(e){this._internalRoot=e}function Eg(e){this._internalRoot=e}Eg.prototype.render=_g.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Ue(409));Qp(t.current,_u(),e,t,null,null)},Eg.prototype.unmount=_g.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qp(e.current,2,null,e,null,null),Au(),t[Nr]=null}},Eg.prototype.unstable_scheduleHydration=function(e){if(e){var t=yr();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gg.length&&0!==t&&t<gg[r].priority;r++);gg.splice(r,0,e),0===r&&bg(e)}};var Pg=De.version;if("19.2.4"!==Pg)throw Error(Ue(527,Pg,"19.2.4"));ft.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Ue(188));throw e=Object.keys(e).join(","),Error(Ue(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(Ue(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(a=n.return)){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return Ke(n),e;if(s===a)return Ke(n),t;s=s.sibling}throw Error(Ue(188))}if(r.return!==a.return)r=n,a=s;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=s;break}if(o===a){i=!0,a=n,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,a=n;break}if(o===a){i=!0,a=s,r=n;break}o=o.sibling}if(!i)throw Error(Ue(189))}}if(r.alternate!==a)throw Error(Ue(190))}if(3!==r.tag)throw Error(Ue(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?Ge(e):null)?null:e.stateNode};var Og={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:mt,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bg.isDisabled&&Bg.supportsFiber)try{Yt=Bg.inject(Og),Zt=Bg}catch(Hk){}}Ne.createRoot=function(e,t){if(!Fe(e))throw Error(Ue(299));var r=!1,a="",n=sc,s=ic,i=oc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gp(e,1,!1,null,0,r,a,null,n,s,i,Sg),e[Nr]=t.current,Ah(e),new _g(t)},Ne.hydrateRoot=function(e,t,r){if(!Fe(e))throw Error(Ue(299));var a=!1,n="",s=sc,i=ic,o=oc,l=null;return null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(i=r.onCaughtError),void 0!==r.onRecoverableError&&(o=r.onRecoverableError),void 0!==r.formState&&(l=r.formState)),(t=Gp(e,1,!0,t,0,a,n,l,s,i,o,Sg)).context=Wp(null),r=t.current,(n=Zi(a=xr(a=_u()))).callback=null,eo(r,n,a),r=a,t.current.lanes=r,pr(t,r),fh(t),e[Nr]=t.current,Ah(e),new Eg(t)},Ne.version="19.2.4",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(Hk){}}(),je.exports=Ne;const Tg=R(je.exports);var Rg=(e=>(e.PENDING="PENDING",e.ONGOING="ONGOING",e.SERVED="SERVED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(Rg||{});
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),zg=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Ig={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},Mg=ve.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:s,iconNode:i,...o},l)=>ve.createElement("svg",{ref:l,...Ig,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:Ag("lucide",n),...!s&&!Lg(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>ve.createElement(e,t)),...Array.isArray(s)?s:[s]])),Dg=(e,t)=>{const r=ve.forwardRef(({className:r,...a},n)=>{return ve.createElement(Mg,{ref:n,iconNode:t,className:Ag(`lucide-${s=zg(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...a});var s});return r.displayName=zg(e),r},$g=Dg("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Ug=Dg("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Fg=Dg("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),qg=Dg("bell-ring",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]),Vg=Dg("bluetooth-connected",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}],["line",{x1:"18",x2:"21",y1:"12",y2:"12",key:"1rsjjs"}],["line",{x1:"3",x2:"6",y1:"12",y2:"12",key:"11yl8c"}]]),Hg=Dg("bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]),Kg=Dg("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Gg=Dg("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Wg=Dg("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Qg=Dg("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jg=Dg("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),Xg=Dg("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]),Yg=Dg("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Zg=Dg("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),em=Dg("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tm=Dg("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),rm=Dg("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),am=Dg("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),nm=Dg("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sm=Dg("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),im=Dg("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),om=Dg("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),lm=Dg("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),cm=Dg("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),dm=Dg("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),um=Dg("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),hm=Dg("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),pm=Dg("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gm=Dg("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),mm=Dg("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),fm=Dg("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),xm=Dg("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),bm=Dg("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ym=Dg("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),km=Dg("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),vm=Dg("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),wm=Dg("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),jm=Dg("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),Nm=Dg("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Cm=Dg("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Sm=Dg("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),_m=Dg("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Em=Dg("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Pm=Dg("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Om=Dg("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Bm=Dg("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Tm=Dg("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),Rm=Dg("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Am=Dg("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zm=Dg("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Im=Dg("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),Lm=Dg("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Mm=Dg("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Dm=Dg("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),$m=Dg("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Um=Dg("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Fm=Dg("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),qm=Dg("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vm=Dg("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hm=Dg("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),Km=Dg("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),Gm=Dg("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Wm=Dg("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Qm=Dg("thermometer-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 8a4 4 0 0 0-1.645 7.647",key:"wz5p04"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}]]),Jm=Dg("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Xm=Dg("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ym=Dg("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Zm=Dg("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ef=Dg("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tf=Dg("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),rf=Dg("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),af=Dg("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),nf=Dg("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),sf=Dg("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),of=Dg("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lf=({restaurants:e,cart:t,orders:r,onAddToCart:a,onRemoveFromCart:n,onPlaceOrder:s,locationName:i,tableNo:o,onLoginClick:l,areaType:c="MULTI",allRestaurants:d=[]})=>{var u,h,p,g,m,f,x;const[b,y]=ve.useState(e),[k,v]=ve.useState(r),[w,j]=ve.useState(""),[N,C]=ve.useState(!1);ve.useEffect(()=>{y(e)},[e]),ve.useEffect(()=>{v(r)},[r]);const[S,_]=ve.useState(null),[E,P]=ve.useState(""),[O,B]=ve.useState(void 0),[T,R]=ve.useState(""),[A,z]=ve.useState({}),[I,L]=ve.useState(3),[M,$]=ve.useState(""),[U,F]=ve.useState(()=>{try{const e=localStorage.getItem("qs_dismissed_orders");return e?JSON.parse(e):[]}catch{return[]}}),q=ve.useRef({}),V=t.reduce((e,t)=>e+t.price*t.quantity,0),H=ve.useMemo(()=>t.filter(e=>{const t=d.find(t=>t.id===e.restaurantId);return t&&!1===t.isOnline}),[t,d]);ve.useEffect(()=>{if("SINGLE"===c)return;const e=()=>{const e=window.scrollY+180;for(const t of b){const r=q.current[t.id];r&&r.offsetTop<=e&&r.offsetTop+r.offsetHeight>e&&j(t.id)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[b,c]),ve.useEffect(()=>{!(b.length>0)||w&&b.find(e=>e.id===w)||j(b[0].id)},[b,w]);const K=(e,t)=>{const r=A[e.name]||{name:e.name,price:e.price,quantity:0},a=Math.max(0,Math.min(e.maxQuantity||99,r.quantity+t));if(0===a){const t={...A};delete t[e.name],z(t)}else z({...A,[e.name]:{name:e.name,price:e.price,quantity:a}})},G=()=>Object.values(A).reduce((e,t)=>e+t.price*t.quantity,0),W=ve.useMemo(()=>{const e=Date.now()-18e5;return k.filter(t=>{if(!(t.locationName===i&&t.tableNumber===o))return!1;return!U.includes(t.id)&&(t.status!==Rg.COMPLETED&&(t.status===Rg.SERVED||(t.status!==Rg.CANCELLED||t.timestamp>e)))})},[k,i,o,U]);return D.jsxs("div",{className:"relative min-h-screen pb-28 bg-gray-50 dark:bg-gray-900 transition-colors",children:["SINGLE"!==c&&D.jsxs("div",{className:"sticky top-16 z-40 bg-white/95 dark:bg-gray-800/95 backdrop-blur-md border-b dark:border-gray-700 shadow-md",children:[D.jsxs("div",{className:"px-4 py-2 border-b dark:border-gray-700 flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(tf,{size:14,className:"text-orange-500"}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] dark:text-gray-300",children:"Available Kitchens"})]}),D.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[b.length," Stores Online"]})]}),D.jsx("nav",{className:"overflow-x-auto hide-scrollbar flex items-center px-4 py-3 gap-3",children:b.map(e=>D.jsxs("button",{onClick:()=>(e=>{j(e);const t=q.current[e];if(t){const e=140,r=document.body.getBoundingClientRect().top,a=t.getBoundingClientRect().top-r-e;window.scrollTo({top:a,behavior:"smooth"})}})(e.id),className:"whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-xl text-[11px] font-black uppercase tracking-tight transition-all duration-300 border-2 "+(w===e.id?"bg-orange-500 border-orange-500 text-white shadow-lg shadow-orange-100 dark:shadow-none scale-105":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-orange-200"),children:[D.jsx("img",{src:e.logo,className:"w-4 h-4 rounded-full object-cover"}),e.name]},e.id))})]}),D.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-4",children:[D.jsxs("div",{className:"mb-4 px-3 py-2 bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm flex items-center justify-between gap-2",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Em,{size:14,className:"text-orange-500 shrink-0"}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Serving At"}),D.jsx("h2",{className:"text-[11px] font-black dark:text-white leading-tight uppercase tracking-tight truncate",children:i||"QuickServe Hub"})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[o&&D.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg font-black text-[10px] uppercase tracking-tighter",children:[D.jsx(xm,{size:12,className:"text-orange-500"}),"Table ",o]}),D.jsx("button",{onClick:()=>{L(e=>3===e?2:3)},className:"p-2 bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-300 rounded-lg hover:text-orange-500 transition-colors flex items-center gap-1.5 border dark:border-gray-600",children:3===I?D.jsx(vm,{size:14}):D.jsx(fm,{size:14})})]})]}),W.length>0&&D.jsx("div",{className:"mb-6 space-y-2",children:W.map(e=>D.jsxs("div",{className:"relative p-4 rounded-2xl border flex flex-col gap-2 transition-all shadow-sm "+(e.status===Rg.CANCELLED?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/30":"bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-900/30"),children:[D.jsx("button",{onClick:()=>(e=>{const t=[...U,e];F(t),localStorage.setItem("qs_dismissed_orders",JSON.stringify(t))})(e.id),className:"absolute top-3 right-3 p-1.5 hover:bg-black/5 dark:hover:bg-white/5 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx(sf,{size:14})}),D.jsx("div",{className:"flex items-center justify-between pr-8",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-2 h-2 rounded-full "+(e.status===Rg.CANCELLED?"bg-red-500":e.status===Rg.SERVED?"bg-green-500":"bg-orange-500 animate-pulse")}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest "+(e.status===Rg.CANCELLED?"text-red-700 dark:text-red-400":e.status===Rg.SERVED?"text-green-700 dark:text-green-400":"text-orange-800 dark:text-orange-200"),children:e.status===Rg.CANCELLED?`Rejected: ${e.id}`:e.status===Rg.SERVED?`Served: ${e.id} - Please pay at counter`:`Preparing Your Meal: ${e.id}`})]})}),e.status===Rg.CANCELLED&&D.jsx("div",{className:"pl-4 border-l-2 border-red-200 dark:border-red-800",children:D.jsxs("p",{className:"text-[10px] font-bold text-red-800 dark:text-red-300",children:["Reason: ",e.rejectionReason]})})]},e.id))}),D.jsx("div",{className:"space-y-12",children:b.map(e=>D.jsxs("section",{id:e.id,ref:t=>{q.current[e.id]=t},className:"SINGLE"===c?"mt-4":"scroll-mt-48",children:[D.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden border dark:border-gray-700 shadow-sm",children:D.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full object-cover"})}),D.jsx("h2",{className:"text-sm font-black text-gray-900 dark:text-white leading-tight tracking-tight uppercase",children:e.name})]})}),D.jsx("div",{className:"grid gap-3 md:gap-6 "+(3===I?"grid-cols-3":"grid-cols-2"),children:e.menu.filter(e=>!e.isArchived).map(t=>D.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden flex flex-col",children:[D.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100 dark:bg-gray-700",children:[D.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),D.jsx("div",{className:"absolute top-2 left-2 bg-black/50 backdrop-blur-md px-2 py-0.5 rounded-lg text-[8px] font-black text-white shadow-sm uppercase tracking-widest",children:t.category})]}),D.jsxs("div",{className:"p-2 md:p-4 flex-1 flex flex-col",children:[D.jsxs("div",{className:"mb-2",children:[D.jsx("h4",{className:"font-black text-gray-900 dark:text-white leading-tight line-clamp-1 mb-1 "+(3===I?"text-[10px] md:text-sm":"text-xs md:text-base"),children:t.name}),D.jsxs("p",{className:"font-black text-orange-500 text-xs md:text-lg",children:["RM",t.price.toFixed(2)]})]}),D.jsx("button",{onClick:()=>((e,t)=>{var r,n,s,i,o;z({}),e.sizes&&e.sizes.length>0||e.tempOptions&&e.tempOptions.enabled||e.otherVariantsEnabled&&e.otherVariants&&e.otherVariants.length>0||e.addOns&&e.addOns.length>0?(_({item:e,resId:t}),P((null==(n=null==(r=e.sizes)?void 0:r[0])?void 0:n.name)||""),B((null==(s=e.tempOptions)?void 0:s.enabled)?"Hot":void 0),R(e.otherVariantsEnabled&&(null==(o=null==(i=e.otherVariants)?void 0:i[0])?void 0:o.name)||"")):a({...e,quantity:1,restaurantId:t})})(t,e.id),className:"mt-auto w-full py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black uppercase tracking-tighter hover:bg-orange-500 dark:hover:bg-orange-500 hover:text-white transition-all active:scale-95 shadow-sm text-[9px] md:text-xs",children:"Add to Order"})]})]},t.id))})]},e.id))})]}),S&&D.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in fade-in duration-300",children:[D.jsxs("div",{className:"relative h-48",children:[D.jsx("img",{src:S.item.image,className:"w-full h-full object-cover"}),D.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),D.jsx("button",{onClick:()=>_(null),className:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-md text-white rounded-full hover:bg-white/40 transition-colors",children:D.jsx(sf,{size:20})}),D.jsxs("div",{className:"absolute bottom-6 left-6",children:[D.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:S.item.name}),D.jsx("p",{className:"text-[10px] text-orange-300 font-bold uppercase tracking-[0.3em]",children:S.item.category})]})]}),D.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:D.jsxs("div",{className:"space-y-6",children:[S.item.sizes&&S.item.sizes.length>0&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Choose Portion"}),D.jsx("div",{className:"grid grid-cols-2 gap-3",children:S.item.sizes.map(e=>D.jsxs("button",{onClick:()=>P(e.name),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(E===e.name?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 shadow-lg":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[D.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:e.name}),D.jsxs("p",{className:"font-black text-sm",children:["+",e.price>0?`RM${e.price.toFixed(2)}`:"FREE"]})]},e.name))})]}),S.item.otherVariantsEnabled&&S.item.otherVariants&&S.item.otherVariants.length>0&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:S.item.otherVariantName||"Additional Options"}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("button",{onClick:()=>R(""),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(""===T?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[D.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:"None"}),D.jsx("p",{className:"font-black text-sm",children:"Default"})]}),S.item.otherVariants.map(e=>D.jsxs("button",{onClick:()=>R(e.name),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(T===e.name?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 shadow-lg":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[D.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:e.name}),D.jsxs("p",{className:"font-black text-sm",children:["+",e.price>0?`RM${e.price.toFixed(2)}`:"FREE"]})]},e.name))]})]}),(null==(u=S.item.tempOptions)?void 0:u.enabled)&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Temperature"}),D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("button",{onClick:()=>B("Hot"),className:"flex-1 py-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all "+("Hot"===O?"border-orange-500 bg-orange-50 text-orange-600":"border-gray-50 text-gray-500"),children:[D.jsx(Qm,{size:20,className:"text-orange-500"}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Hot"})]}),D.jsxs("button",{onClick:()=>B("Cold"),className:"flex-1 py-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all "+("Cold"===O?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-50 text-gray-500"),children:[D.jsx(ym,{size:20,className:"text-blue-500"}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cold"})]})]})]}),S.item.addOns&&S.item.addOns.length>0&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Add-Ons"}),D.jsx("div",{className:"space-y-3",children:S.item.addOns.map((e,t)=>{const r=A[e.name],a=(null==r?void 0:r.quantity)||0;return D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[D.jsxs("div",{children:[D.jsx("p",{className:"font-black text-xs dark:text-white",children:e.name}),D.jsxs("p",{className:"text-[9px] text-orange-500 font-black",children:["+RM",e.price.toFixed(2)]}),e.required&&D.jsx("span",{className:"text-[8px] font-black text-red-500 uppercase tracking-widest",children:"Required"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>K(e,-1),className:"p-1.5 bg-white dark:bg-gray-800 rounded-lg text-gray-500 hover:bg-orange-500 hover:text-white transition-all",disabled:0===a,children:D.jsx(Bm,{size:14})}),D.jsx("span",{className:"font-black text-xs w-6 text-center dark:text-white",children:a}),D.jsx("button",{onClick:()=>K(e,1),className:"p-1.5 bg-white dark:bg-gray-800 rounded-lg text-gray-500 hover:bg-orange-500 hover:text-white transition-all",disabled:a>=(e.maxQuantity||99),children:D.jsx(Am,{size:14})})]})]},t)})})]})]})}),D.jsx("div",{className:"p-8 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80",children:D.jsxs("div",{className:"flex items-center justify-between gap-6",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Total"}),D.jsxs("p",{className:"text-2xl font-black dark:text-white",children:["RM",(S.item.price+((null==(p=null==(h=S.item.sizes)?void 0:h.find(e=>e.name===E))?void 0:p.price)||0)+("Hot"===O?(null==(g=S.item.tempOptions)?void 0:g.hot)||0:"Cold"===O&&(null==(m=S.item.tempOptions)?void 0:m.cold)||0)+((null==(x=null==(f=S.item.otherVariants)?void 0:f.find(e=>e.name===T))?void 0:x.price)||0)+G()).toFixed(2)]})]}),D.jsx("button",{onClick:()=>{var e,t,r,n;if(!S)return;const{item:s,resId:i}=S;let o=s.price;if(E){const t=null==(e=s.sizes)?void 0:e.find(e=>e.name===E);t&&(o+=t.price)}if("Hot"===O&&(null==(t=s.tempOptions)?void 0:t.hot)&&(o+=s.tempOptions.hot),"Cold"===O&&(null==(r=s.tempOptions)?void 0:r.cold)&&(o+=s.tempOptions.cold),T){const e=null==(n=s.otherVariants)?void 0:n.find(e=>e.name===T);e&&(o+=e.price)}o+=G();const l={id:s.id,name:s.name,description:s.description,price:o,image:s.image,category:s.category,isArchived:s.isArchived,sizes:s.sizes,otherVariantName:s.otherVariantName,otherVariants:s.otherVariants,otherVariantsEnabled:s.otherVariantsEnabled,tempOptions:s.tempOptions,addOns:s.addOns,quantity:1,restaurantId:i,selectedSize:E,selectedTemp:O,selectedOtherVariant:T,selectedAddOns:Object.values(A)};a(l),_(null),z({})},className:"flex-1 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-orange-600 transition-all active:scale-95",children:"Add to Cart"})]})})]})}),t.length>0&&D.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-[340px] px-4 z-50",children:D.jsxs("button",{onClick:()=>C(!0),className:"w-full py-3 px-4 rounded-2xl shadow-2xl flex items-center justify-between transition-all border-2 "+(H.length>0?"bg-red-600 text-white border-red-400":"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-orange-500"),children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-500 text-white flex items-center justify-center font-black text-sm shadow-lg",children:t.length}),D.jsx("span",{className:"font-black text-[10px] uppercase tracking-widest",children:"View Tray"})]}),D.jsxs("span",{className:"font-black text-lg",children:["RM",V.toFixed(2)]})]})}),N&&D.jsx("div",{className:"fixed inset-0 z-[80] bg-black/70 backdrop-blur-md flex justify-end",children:D.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 h-full flex flex-col",children:[D.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[D.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:"Your Tray"}),D.jsx("button",{onClick:()=>C(!1),className:"p-3",children:D.jsx(sf,{size:24})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:t.map((e,t)=>D.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl border",children:[D.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-gray-200 dark:bg-gray-700 shrink-0",children:D.jsx("img",{src:e.image||"https://picsum.photos/seed/default/100/100",alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://picsum.photos/seed/default/100/100"}})}),D.jsxs("div",{className:"flex-1",children:[D.jsx("p",{className:"font-black text-sm uppercase",children:e.name}),D.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.selectedSize&&D.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded",children:e.selectedSize}),e.selectedOtherVariant&&D.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-purple-100 text-purple-600 rounded",children:e.selectedOtherVariant}),e.selectedTemp&&D.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 rounded "+("Hot"===e.selectedTemp?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"),children:e.selectedTemp})]}),e.selectedAddOns&&e.selectedAddOns.length>0&&D.jsxs("div",{className:"mt-2 space-y-1",children:[D.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Add-ons:"}),e.selectedAddOns.map((e,t)=>D.jsxs("div",{className:"flex justify-between text-[9px] pl-2 border-l-2 border-orange-200",children:[D.jsxs("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:["x",e.quantity," ",e.name]}),D.jsxs("span",{className:"font-black text-orange-500",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))]})]}),D.jsxs("div",{className:"text-right min-w-[80px]",children:[D.jsxs("p",{className:"font-black text-orange-500 text-xs",children:["RM",(e.price*e.quantity).toFixed(2)]}),D.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[D.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 bg-white dark:bg-gray-700 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-all",children:D.jsx(Bm,{size:12})}),D.jsx("span",{className:"font-black text-xs w-4 text-center dark:text-white",children:e.quantity}),D.jsx("button",{onClick:()=>a(e),className:"p-1.5 bg-white dark:bg-gray-700 rounded-lg text-green-500 hover:bg-green-500 hover:text-white transition-all",children:D.jsx(Am,{size:12})})]})]})]},t))}),D.jsxs("div",{className:"p-8 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[D.jsxs("div",{className:"flex justify-between items-center mb-4",children:[D.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Subtotal"}),D.jsxs("span",{className:"font-black dark:text-white",children:["RM",V.toFixed(2)]})]}),D.jsxs("div",{className:"mb-4",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Special Instructions"}),D.jsx("textarea",{value:M,onChange:e=>$(e.target.value),placeholder:"Any special requests? (e.g., no spicy, extra sauce)",className:"w-full p-3 bg-white dark:bg-gray-700 border dark:border-gray-600 rounded-xl text-xs font-medium dark:text-white resize-none",rows:2})]}),D.jsxs("button",{onClick:()=>{s(M),C(!1),$("")},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-orange-600 transition-all active:scale-95 shadow-lg",children:["Place Order  RM",V.toFixed(2)]})]})]})}),D.jsx("style",{children:"\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 4px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #e5e7eb;\n          border-radius: 10px;\n        }\n      "})]})},cf=async(e,t="quickserve",r="uploads")=>{const a=new FormData;a.append("file",e),a.append("filename",`${r}/${Date.now()}-${e.name}`);try{const e=await fetch("/api/upload",{method:"POST",body:a}),t=await e.json();if(!e.ok)throw new Error(t.error||"Upload failed");return t.url}catch(n){throw n}};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function df(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}function uf(e,t,r,a){return new(r||(r=Promise))(function(n,s){function i(e){try{l(a.next(e))}catch(Vk){s(Vk)}}function o(e){try{l(a.throw(e))}catch(Vk){s(Vk)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class hf extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class pf extends hf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gf extends hf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mf extends hf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ff,xf;(xf=ff||(ff={})).Any="any",xf.ApNortheast1="ap-northeast-1",xf.ApNortheast2="ap-northeast-2",xf.ApSouth1="ap-south-1",xf.ApSoutheast1="ap-southeast-1",xf.ApSoutheast2="ap-southeast-2",xf.CaCentral1="ca-central-1",xf.EuCentral1="eu-central-1",xf.EuWest1="eu-west-1",xf.EuWest2="eu-west-2",xf.EuWest3="eu-west-3",xf.SaEast1="sa-east-1",xf.UsEast1="us-east-1",xf.UsWest1="us-west-1",xf.UsWest2="us-west-2";class bf{constructor(e,{headers:t={},customFetch:r,region:a=ff.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uf(this,arguments,void 0,function*(e,t={}){var r;let a,n;try{const{headers:s,method:i,body:o,signal:l,timeout:c}=t;let d={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let p;u&&"any"!==u&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=o):"string"==typeof o?(d["Content-Type"]="text/plain",p=o):"undefined"!=typeof FormData&&o instanceof FormData?p=o:(d["Content-Type"]="application/json",p=JSON.stringify(o)):p=!o||"string"==typeof o||"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer||"undefined"!=typeof FormData&&o instanceof FormData?o:JSON.stringify(o);let g=l;c&&(n=new AbortController,a=setTimeout(()=>n.abort(),c),l?(g=n.signal,l.addEventListener("abort",()=>n.abort())):g=n.signal);const m=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:g}).catch(e=>{throw new pf(e)}),f=m.headers.get("x-relay-error");if(f&&"true"===f)throw new gf(m);if(!m.ok)throw new mf(m);let x,b=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return x="application/json"===b?yield m.json():"application/octet-stream"===b||"application/pdf"===b?yield m.blob():"text/event-stream"===b?m:"multipart/form-data"===b?yield m.formData():yield m.text(),{data:x,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof mf||s instanceof gf?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var yf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kf=class{constructor(e){var t,r,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,this.urlLengthLimit=null!==(a=e.urlLengthLimit)&&void 0!==a?a:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let a=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,a=null,n=null,s=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(a="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(o=r.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(n=parseInt(u[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(a)&&(a.length>1?(t={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,n=null,s=406,i="Not Acceptable"):a=1===a.length?a[0]:null)}else{var d;const n=await e.text();try{t=JSON.parse(n),Array.isArray(t)&&404===e.status&&(a=[],t=null,s=200,i="OK")}catch(u){404===e.status&&""===n?(s=204,i="No Content"):t={message:n}}if(t&&r.isMaybeSingle&&(null==t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,s=200,i="OK"),t&&r.shouldThrowOnError)throw new yf(t)}return{error:t,data:a,count:n,status:s,statusText:i}});return this.shouldThrowOnError||(a=a.catch(e=>{var t;let r="",a="",n="";const s=null==e?void 0:e.cause;if(s){var i,o,l,c;const t=null!==(i=null==s?void 0:s.message)&&void 0!==i?i:"",a=null!==(o=null==s?void 0:s.code)&&void 0!==o?o:"";r=`${null!==(l=null==e?void 0:e.name)&&void 0!==l?l:"FetchError"}: ${null==e?void 0:e.message}`,r+=`\n\nCaused by: ${null!==(c=null==s?void 0:s.name)&&void 0!==c?c:"Error"}: ${t}`,a&&(r+=` (${a})`),(null==s?void 0:s.stack)&&(r+=`\n${s.stack}`)}else{var d;r=null!==(d=null==e?void 0:e.stack)&&void 0!==d?d:""}const u=this.url.toString().length;return"AbortError"===(null==e?void 0:e.name)||"ABORT_ERR"===(null==e?void 0:e.code)?(n="",a="Request was aborted (timeout or manual cancellation)",u>this.urlLengthLimit&&(a+=`. Note: Your request URL is ${u} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):"HeadersOverflowError"!==(null==s?void 0:s.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null==s?void 0:s.code)||(n="",a="HTTP headers exceeded server limits (typically 16KB)",u>this.urlLengthLimit&&(a+=`. Your request URL is ${u} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:r,hint:a,code:n},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},vf=class extends kf{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:n=a}={}){const s=n?`${n}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:a=r}={}){const n=void 0===a?"offset":`${a}.offset`,s=void 0===a?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:n=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wf=new RegExp("[,()]");var jf=class extends vf{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&wf.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&wf.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a}={}){let n="";"plain"===a?n="pl":"phrase"===a?n="ph":"websearch"===a&&(n="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Nf=class{constructor(e,{headers:t={},schema:r,fetch:a,urlLengthLimit:n=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=a,this.urlLengthLimit=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:a}=null!=t?t:{},n=r?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),a&&l.append("Prefer",`count=${a}`),new jf({method:n,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var a;const{url:n,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);n.searchParams.set("columns",e.join(","))}}return new jf({method:"POST",url:n,headers:s,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:n=!0}={}){var s;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&i.searchParams.set("on_conflict",t),a&&o.append("Prefer",`count=${a}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);i.searchParams.set("columns",e.join(","))}}return new jf({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const{url:a,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new jf({method:"PATCH",url:a,headers:n,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const{url:r,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new jf({method:"DELETE",url:r,headers:a,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sf(e){var t=function(e,t){if("object"!=Cf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Cf(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cf(t)?t:t+""}function _f(e,t,r){return(t=Sf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(r),!0).forEach(function(t){_f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Of=class e{constructor(e,{headers:t={},schema:r,fetch:a,timeout:n,urlLengthLimit:s=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=s;const i=null!=a?a:globalThis.fetch;this.fetch=void 0!==n&&n>0?(e,t)=>{const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=null==t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(a),i(e,t);const n=()=>{clearTimeout(a),r.abort()};return s.addEventListener("abort",n,{once:!0}),i(e,Pf(Pf({},t),{},{signal:r.signal})).finally(()=>{clearTimeout(a),s.removeEventListener("abort",n)})}return i(e,Pf(Pf({},t),{},{signal:r.signal})).finally(()=>clearTimeout(a))}:i}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Nf(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:a=!1,count:n}={}){var s;let i;const o=new URL(`${this.url}/rpc/${e}`);let l;const c=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(c)),d=r&&Object.values(t).some(c);d?(i="POST",l=t):r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(i="POST",l=t);const u=new Headers(this.headers);return d?u.set("Prefer",n?`count=${n},return=minimal`:"return=minimal"):n&&u.set("Prefer",`count=${n}`),new jf({method:i,url:o,headers:u,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class Bf{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Tf="2.0.0",Rf=Tf,Af=1e4;var zf,If,Lf,Mf,Df,$f,Uf,Ff,qf,Vf,Hf;(If=zf||(zf={}))[If.connecting=0]="connecting",If[If.open=1]="open",If[If.closing=2]="closing",If[If.closed=3]="closed",(Mf=Lf||(Lf={})).closed="closed",Mf.errored="errored",Mf.joined="joined",Mf.joining="joining",Mf.leaving="leaving",($f=Df||(Df={})).close="phx_close",$f.error="phx_error",$f.join="phx_join",$f.reply="phx_reply",$f.leave="phx_leave",$f.access_token="access_token",(Uf||(Uf={})).websocket="websocket",(qf=Ff||(Ff={})).Connecting="connecting",qf.Open="open",qf.Closing="closing",qf.Closed="closed";class Kf{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const a=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,r;const a=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},n=(new TextEncoder).encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,r){var a,n;const s=e.topic,i=null!==(a=e.ref)&&void 0!==a?a:"",o=null!==(n=e.join_ref)&&void 0!==n?n:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`ref length ${i.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,o.length),p.setUint8(g++,i.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,d.length),p.setUint8(g++,t),Array.from(o,e=>p.setUint8(g++,e.charCodeAt(0))),Array.from(i,e=>p.setUint8(g++,e.charCodeAt(0))),Array.from(s,e=>p.setUint8(g++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(g++,e.charCodeAt(0))),Array.from(d,e=>p.setUint8(g++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const r=JSON.parse(e),[a,n,s,i,o]=r;return t({join_ref:a,ref:n,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),a=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,a)}_decodeUserBroadcast(e,t,r){const a=t.getUint8(1),n=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=r.decode(e.slice(o,o+a));o+=a;const c=r.decode(e.slice(o,o+n));o+=n;const d=r.decode(e.slice(o,o+s));o+=s;const u=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(r.decode(u)):u,p={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class Gf{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Hf=Vf||(Vf={})).abstime="abstime",Hf.bool="bool",Hf.date="date",Hf.daterange="daterange",Hf.float4="float4",Hf.float8="float8",Hf.int2="int2",Hf.int4="int4",Hf.int4range="int4range",Hf.int8="int8",Hf.int8range="int8range",Hf.json="json",Hf.jsonb="jsonb",Hf.money="money",Hf.numeric="numeric",Hf.oid="oid",Hf.reltime="reltime",Hf.text="text",Hf.time="time",Hf.timestamp="timestamp",Hf.timestamptz="timestamptz",Hf.timetz="timetz",Hf.tsrange="tsrange",Hf.tstzrange="tstzrange";const Wf=(e,t,r={})=>{var a;const n=null!==(a=r.skipTypes)&&void 0!==a?a:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=Qf(a,e,t,n),r),{}):{}},Qf=(e,t,r,a)=>{const n=t.find(t=>t.name===e),s=null==n?void 0:n.type,i=r[e];return s&&!a.includes(s)?Jf(s,i):Xf(i)},Jf=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return tx(t,r)}switch(e){case Vf.bool:return Yf(t);case Vf.float4:case Vf.float8:case Vf.int2:case Vf.int4:case Vf.int8:case Vf.numeric:case Vf.oid:return Zf(t);case Vf.json:case Vf.jsonb:return ex(t);case Vf.timestamp:return rx(t);case Vf.abstime:case Vf.date:case Vf.daterange:case Vf.int4range:case Vf.int8range:case Vf.money:case Vf.reltime:case Vf.text:case Vf.time:case Vf.timestamptz:case Vf.timetz:case Vf.tsrange:case Vf.tstzrange:default:return Xf(t)}},Xf=e=>e,Yf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zf=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ex=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},tx=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,a=e[r];if("{"===e[0]&&"}"===a){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch(n){a=s?s.split(","):[]}return a.map(e=>Jf(t,e))}return e},rx=e=>"string"==typeof e?e.replace(" ","T"):e,ax=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nx{constructor(e,t,r={},a=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sx,ix,ox,lx,cx,dx,ux,hx;(ix=sx||(sx={})).SYNC="sync",ix.JOIN="join",ix.LEAVE="leave";class px{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=px.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=px.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=px.syncDiff(this.state,e,t,r),a())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const n=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(n,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=n[e];if(r){const a=t.map(e=>e.presence_ref),n=r.map(e=>e.presence_ref),s=t.filter(e=>n.indexOf(e.presence_ref)<0),l=r.filter(e=>a.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(n,{joins:i,leaves:o},r,a)}static syncDiff(e,t,r,a){const{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(n,(t,a)=>{var n;const s=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(a),s.length>0){const r=e[t].map(e=>e.presence_ref),a=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...a)}r(t,s,a)}),this.map(s,(t,r)=>{let n=e[t];if(!n)return;const s=r.map(e=>e.presence_ref);n=n.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=n,a(t,n,r),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return t[r]="metas"in a?a.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(lx=ox||(ox={})).ALL="*",lx.INSERT="INSERT",lx.UPDATE="UPDATE",lx.DELETE="DELETE",(dx=cx||(cx={})).BROADCAST="broadcast",dx.PRESENCE="presence",dx.POSTGRES_CHANGES="postgres_changes",dx.SYSTEM="system",(hx=ux||(ux={})).SUBSCRIBED="SUBSCRIBED",hx.TIMED_OUT="TIMED_OUT",hx.CLOSED="CLOSED",hx.CHANNEL_ERROR="CHANNEL_ERROR";class gx{constructor(e,t={config:{}},r){var a,n;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Lf.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new nx(this,Df.join,this.params,this.timeout),this.rejoinTimer=new Gf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lf.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lf.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Lf.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lf.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Lf.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Df.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new px(this),this.broadcastEndpointURL=ax(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(n=null===(a=this.params.config)||void 0===a?void 0:a.broadcast)||void 0===n?void 0:n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Lf.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(a=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==a?a:[],c=!!this.bindings[cx.PRESENCE]&&this.bindings[cx.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(ux.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(ux.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==t){const a=this.bindings.postgres_changes,n=null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0,s=[];for(let r=0;r<n;r++){const n=a[r],{filter:{event:i,schema:o,table:l,filter:c}}=n,d=t&&t[r];if(!(d&&d.event===i&&gx.isFilterValueEqual(d.schema,o)&&gx.isFilterValueEqual(d.table,l)&&gx.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=Lf.errored,void(null==e||e(ux.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(ux.SUBSCRIBED))}null==e||e(ux.SUBSCRIBED)}).receive("error",t=>{this.state=Lf.errored,null==e||e(ux.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(ux.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Lf.joined&&e===cx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var a;if(null==t)return Promise.reject("Payload is required for httpSend()");const n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(a=r.timeout)&&void 0!==a?a:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var r,a;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var a,n,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(n=null===(a=this.params)||void 0===a?void 0:a.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(a=e.body)||void 0===a?void 0:a.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Lf.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Df.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new nx(this,Df.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lf.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const a=new AbortController,n=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(n),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new nx(this,e,t,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,n;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Df;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(a=this.bindings.postgres_changes)||void 0===a||a.filter(e=>{var t,r,a;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(a=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===a?void 0:a.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(n=this.bindings[s])||void 0===n||n.filter(e=>{var r,a,n,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(a=t.ids)||void 0===a?void 0:a.includes(s))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:a,type:n,errors:s}=e,i={schema:t,table:r,commit_timestamp:a,eventType:n,new:{},old:{},errors:s};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===Lf.closed}_isJoined(){return this.state===Lf.joined}_isJoining(){return this.state===Lf.joining}_isLeaving(){return this.state===Lf.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const a=e.toLocaleLowerCase(),n={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(n):this.bindings[a]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var a;return!((null===(a=e.type)||void 0===a?void 0:a.toLocaleLowerCase())===r&&gx.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Df.close,{},e)}_onError(e){this._on(Df.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lf.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Wf(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Wf(e.columns,e.old_record)),t}}const mx=()=>{},fx=25e3,xx=10,bx=100,yx=[1e3,2e3,5e3,1e4];class kx{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Af,this.transport=null,this.heartbeatIntervalMs=fx,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mx,this.ref=0,this.reconnectTimer=null,this.vsn=Rf,this.logger=mx,this.conn=null,this.sendBuffer=[],this.serializer=new Kf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Uf.websocket}`,this.httpEndpoint=ax(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zf.connecting:return Ff.Connecting;case zf.open:return Ff.Open;case zf.closing:return Ff.Closing;default:return Ff.Closed}}isConnected(){return this.connectionState()===Ff.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(e=>e.topic===r);if(a)return a;{const r=new gx(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:a,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${n})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Vk){this.log("error","error in heartbeat callback",Vk)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},bx)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Vk){this.log("error","error in heartbeat callback",Vk)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Vk){this.log("error","error in heartbeat callback",Vk)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(Vk){this.log("error","error in heartbeat callback",Vk)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:r,payload:a,ref:n}=e,s=n?`(${n})`:"",i=a.status||"";this.log("receive",`${i} ${t} ${r} ${s}`.trim(),a),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,a,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zf.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zf.open||this.conn.readyState===zf.connecting)try{this.conn.close()}catch(Vk){this.log("error","Error closing connection",Vk)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(Vk){this.log("error","error in heartbeat callback",Vk)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Df.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(Vk){this.log("error","Error fetching access token from callback",Vk),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.97.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(Df.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(Vk){this.log("error",`error in ${e} callback`,Vk)}})}catch(Vk){this.log("error",`error triggering ${e} callbacks`,Vk)}}_setupReconnectionTimer(){this.reconnectTimer=new Gf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xx)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,a,n,s,i,o,l,c,d,u,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:Af,this.heartbeatIntervalMs=null!==(a=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==a?a:fx,this.worker=null!==(n=null==e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(s=null==e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null==e?void 0:e.heartbeatCallback)&&void 0!==i?i:mx,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:Rf,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>yx[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case Tf:this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var vx=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null==(r=t.icebergType)?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function wx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:n,body:s,headers:i}){const o=function(e,t,r){const a=new URL(t,e);if(r)for(const[n,s]of Object.entries(r))void 0!==s&&a.searchParams.set(n,s);return a.toString()}(e.baseUrl,a,n),l=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),c=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...i},body:s?JSON.stringify(s):void 0}),d=await c.text(),u=(c.headers.get("content-type")||"").includes("application/json"),h=u&&d?JSON.parse(d):d;if(!c.ok){const e=u?h:void 0,t=null==e?void 0:e.error;throw new vx((null==t?void 0:t.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:null==t?void 0:t.type,icebergCode:null==t?void 0:t.code,details:e})}return{status:c.status,headers:c.headers,data:h}}}}function jx(e){return e.join("")}var Nx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:jx(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null==t?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jx(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jx(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jx(e.namespace)}`}),!0}catch(t){if(t instanceof vx&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof vx&&409===r.status)return;throw r}}};function Cx(e){return e.join("")}var Sx=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((null==t?void 0:t.purge)??!1)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cx(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof vx&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof vx&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_x=class{constructor(e){var t;let r="v1";e.catalogName&&(r+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wx({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null==(t=e.accessDelegation)?void 0:t.join(","),this.namespaceOps=new Nx(this.client,r),this.tableOps=new Sx(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ex=class extends Error{constructor(e,t="storage",r,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function Px(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var Ox=class extends Ex{constructor(e,t,r,a="storage"){super(e,a,t,r),this.name="vectors"===a?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bx=class extends Ex{constructor(e,t,r="storage"){super(e,r),this.name="vectors"===r?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Tx=e=>{if(Array.isArray(e))return e.map(e=>Tx(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const a=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Tx(r)}),t};function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ax(e){var t=function(e,t){if("object"!=Rx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Rx(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rx(t)?t:t+""}function zx(e,t,r){return(t=Ax(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(r),!0).forEach(function(t){zx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Mx=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Dx=(e,t,r,a)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&a?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(a)?(n.headers=Lx({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,(null==t?void 0:t.duplex)&&(n.duplex=t.duplex),Lx(Lx({},n),r)):Lx(Lx({},n),r)};async function $x(e,t,r,a,n,s,i){return new Promise((o,l)=>{e(r,Dx(t,a,n,s)).then(e=>{if(!e.ok)throw e;if(null==a?void 0:a.noResolveJson)return e;if("vectors"===i){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>(async(e,t,r,a)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){const r=e,n=r.status||500;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||n+"";t(new Ox(Mx(e),n,r,a))}).catch(()=>{if("vectors"===a){const e=n+"";t(new Ox(r.statusText||`HTTP ${n} error`,n,e,a))}else{const e=n+"";t(new Ox(r.statusText||`HTTP ${n} error`,n,e,a))}});else{const e=n+"";t(new Ox(r.statusText||`HTTP ${n} error`,n,e,a))}}else t(new Bx(Mx(e),e,a))})(e,l,a,i))})}function Ux(e="storage"){return{get:async(t,r,a,n)=>$x(t,"GET",r,a,n,void 0,e),post:async(t,r,a,n,s)=>$x(t,"POST",r,n,s,a,e),put:async(t,r,a,n,s)=>$x(t,"PUT",r,n,s,a,e),head:async(t,r,a,n)=>$x(t,"HEAD",r,Lx(Lx({},a),{},{noResolveJson:!0}),n,void 0,e),remove:async(t,r,a,n,s)=>$x(t,"DELETE",r,n,s,a,e)}}const Fx=Ux("storage"),{get:qx,post:Vx,put:Hx,head:Kx,remove:Gx}=Fx,Wx=Ux("vectors");var Qx=class{constructor(e,t={},r,a="storage"){var n;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(n=r)?(...e)=>n(...e):(...e)=>fetch(...e),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Lx(Lx({},this.headers),{},{[e]:t}),this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Px(t))return{data:null,error:t};throw t}}},Jx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Px(e))return{data:null,error:e};throw e}}};let Xx;Xx=Symbol.toStringTag;var Yx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Xx]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Px(e))return{data:null,error:e};throw e}}};const Zx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tb=class extends Qx{constructor(e,t={},r,a){super(e,t,a,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,a){var n=this;return n.handleOperation(async()=>{let s;const i=Lx(Lx({},eb),a);let o=Lx(Lx({},n.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",n.encodeMetadata(l)),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",n.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=n.toBase64(n.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&s instanceof ReadableStream||s&&"object"==typeof s&&"pipe"in s&&"function"==typeof s.pipe)&&!i.duplex&&(i.duplex="half")),(null==a?void 0:a.headers)&&(o=Lx(Lx({},o),a.headers));const c=n._removeEmptyFolders(t),d=n._getFinalPath(c),u=await("PUT"==e?Hx:Vx)(n.fetch,`${n.url}/object/${d}`,s,Lx({headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{path:c,id:u.Id,fullPath:u.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,a){var n=this;const s=n._removeEmptyFolders(e),i=n._getFinalPath(s),o=new URL(n.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),n.handleOperation(async()=>{let e;const t=Lx({upsert:eb.upsert},a),i=Lx(Lx({},n.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType),{path:s,fullPath:(await Hx(n.fetch,o.toString(),e,{headers:i})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e);const n=Lx({},r.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=await Vx(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:n}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new Ex("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var a=this;return a.handleOperation(async()=>await Vx(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:a.headers}))}async copy(e,t,r){var a=this;return a.handleOperation(async()=>({path:(await Vx(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,r){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e),s=await Vx(a.fetch,`${a.url}/object/sign/${n}`,Lx({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:a.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{signedUrl:encodeURI(`${a.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var a=this;return a.handleOperation(async()=>{const n=await Vx(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n.map(e=>Lx(Lx({},e),{},{signedUrl:e.signedURL?encodeURI(`${a.url}${e.signedURL}${s}`):null}))})}download(e,t,r){const a=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e);return new Yx(()=>qx(this.fetch,`${this.url}/${a}/${i}${s}`,{headers:this.headers,noResolveJson:!0},r),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Tx(await qx(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Kx(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Px(a)&&a instanceof Bx){const e=a.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&a.push(n);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&a.push(i);let o=a.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Gx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var a=this;return a.handleOperation(async()=>{const n=Lx(Lx(Lx({},Zx),t),{},{prefix:e||""});return await Vx(a.fetch,`${a.url}/object/list/${a.bucketId}`,n,{headers:a.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const a=Lx({},e);return await Vx(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const rb={"X-Client-Info":"storage-js/2.97.0"};var ab=class extends Qx{constructor(e,t={},r,a){const n=new URL(e);(null==a?void 0:a.useNewHostname)&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));super(n.href.replace(/\/$/,""),Lx(Lx({},rb),t),r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await qx(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qx(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Vx(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Hx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Vx(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nb=class extends Qx{constructor(e,t={},r){super(e.replace(/\/$/,""),Lx(Lx({},rb),t),r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Vx(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);const a=r.toString(),n=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await qx(t.fetch,n,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!=typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Ex("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _x({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(n){if(a)throw n;return{data:null,error:n}}}}})}},sb=class extends Qx{constructor(e,t={},r){super(e.replace(/\/$/,""),Lx(Lx({},rb),{},{"Content-Type":"application/json"},t),r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Wx.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Wx.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},ib=class extends Qx{constructor(e,t={},r){super(e.replace(/\/$/,""),Lx(Lx({},rb),{},{"Content-Type":"application/json"},t),r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ob=class extends Qx{constructor(e,t={},r){super(e.replace(/\/$/,""),Lx(Lx({},rb),{},{"Content-Type":"application/json"},t),r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wx.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},lb=class extends ob{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cb(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(e={}){return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},cb=class extends sb{constructor(e,t,r,a){super(e,t,a),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,Lx(Lx({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return(()=>super.listIndexes)().call(this,Lx(Lx({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new db(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},db=class extends ib{constructor(e,t,r,a,n){super(e,t,n),this.vectorBucketName=r,this.indexName=a}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Lx(Lx({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Lx(Lx({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var t=this;return(()=>super.listVectors)().call(t,Lx(Lx({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Lx(Lx({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Lx(Lx({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},ub=class extends ab{constructor(e,t={},r,a){super(e,t,r,a)}from(e){return new tb(this.url,this.headers,e,this.fetch)}get vectors(){return new lb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nb(this.url+"/iceberg",this.headers,this.fetch)}};const hb="2.97.0",pb=3e4,gb=9e4,mb={"X-Client-Info":`gotrue-js/${hb}`},fb="X-Supabase-Api-Version",xb={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},bb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class yb extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function kb(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class vb extends yb{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class wb extends yb{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class jb extends yb{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class Nb extends jb{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cb(e){return kb(e)&&"AuthSessionMissingError"===e.name}class Sb extends jb{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _b extends jb{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eb extends jb{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pb extends jb{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ob extends jb{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bb extends jb{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Tb(e){return kb(e)&&"AuthRetryableFetchError"===e.name}class Rb extends jb{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ab extends jb{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ib=" \t\n\r=".split(""),Lb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ib.length;t+=1)e[Ib[t].charCodeAt(0)]=-2;for(let t=0;t<zb.length;t+=1)e[zb[t].charCodeAt(0)]=t;return e})();function Mb(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(zb[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(zb[e]),t.queuedBits-=6}}function Db(e,t,r){const a=Lb[e];if(!(a>-1)){if(-2===a)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function $b(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,a,r)};for(let i=0;i<e.length;i+=1)Db(e.charCodeAt(i),n,s);return t.join("")}function Ub(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Fb(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)Db(e.charCodeAt(n),r,a);return new Uint8Array(t)}function qb(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const t=1024*(a-55296)&65535;a=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Ub(a,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Vb(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};return e.forEach(e=>Mb(e,r,a)),Mb(null,r,a),t.join("")}const Hb=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Kb={tested:!1,writable:!1},Gb=()=>{if(!Hb())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Vk){return!1}if(Kb.tested)return Kb.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kb.tested=!0,Kb.writable=!0}catch(Vk){Kb.tested=!0,Kb.writable=!1}return Kb.writable};const Wb=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Qb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Jb=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(a){return r}},Xb=async(e,t)=>{await e.removeItem(t)};class Yb{constructor(){this.promise=new Yb.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Zb(e){const t=e.split(".");if(3!==t.length)throw new Ab("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bb.test(t[r]))throw new Ab("JWT not in base64url format");return{header:JSON.parse($b(t[0])),payload:JSON.parse($b(t[1])),signature:Fb(t[2]),raw:{header:t[0],payload:t[1]}}}function ey(e){return("0"+e.toString(16)).substr(-2)}async function ty(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ry(e,t,r=!1){const a=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let a=0;a<56;a++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,ey).join("")}();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Qb(e,`${t}-code-verifier`,n);const s=await ty(a);return[s,a===s?"plain":"s256"]}Yb.promiseConstructor=Promise;const ay=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sy(e){if(!ny.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function iy(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oy(e){return JSON.parse(JSON.stringify(e))}const ly=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cy=[502,503,504];async function dy(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Bb(ly(e),0);if(cy.includes(e.status))throw new Bb(ly(e),e.status);let a,n;try{a=await e.json()}catch(Vk){throw new wb(ly(Vk),Vk)}const s=function(e){const t=e.headers.get(fb);if(!t)return null;if(!t.match(ay))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Vk){return null}}(e);if(s&&s.getTime()>=xb.timestamp&&"object"==typeof a&&a&&"string"==typeof a.code?n=a.code:"object"==typeof a&&a&&"string"==typeof a.error_code&&(n=a.error_code),n){if("weak_password"===n)throw new Rb(ly(a),e.status,(null===(t=a.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new Nb}else if("object"==typeof a&&a&&"object"==typeof a.weak_password&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Rb(ly(a),e.status,a.weak_password.reasons);throw new vb(ly(a),e.status||500,n)}async function uy(e,t,r,a){var n;const s=Object.assign({},null==a?void 0:a.headers);s[fb]||(s[fb]=xb.name),(null==a?void 0:a.jwt)&&(s.Authorization=`Bearer ${a.jwt}`);const i=null!==(n=null==a?void 0:a.query)&&void 0!==n?n:{};(null==a?void 0:a.redirectTo)&&(i.redirect_to=a.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,a,n,s){const i=((e,t,r,a)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))})(t,a,n,s);let o;try{o=await e(r,Object.assign({},i))}catch(Vk){throw new Bb(ly(Vk),0)}o.ok||await dy(o);if(null==a?void 0:a.noResolveJson)return o;try{return await o.json()}catch(Vk){await dy(Vk)}}(e,t,r+o,{headers:s,noResolveJson:null==a?void 0:a.noResolveJson},{},null==a?void 0:a.body);return(null==a?void 0:a.xform)?null==a?void 0:a.xform(l):{data:Object.assign({},l),error:null}}function hy(e){var t;let r=null;var a;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(a=e.expires_in,Math.round(Date.now()/1e3)+a)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function py(e){const t=hy(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function gy(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function my(e){return{data:e,error:null}}function fy(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s}=e,i=df(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s},user:Object.assign({},i)},error:null}}function xy(e){return e}const by=["global","local","others"];class yy{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Wb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=by[0]){if(by.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${by.join(", ")}`);try{return await uy(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kb(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await uy(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:gy})}catch(r){if(kb(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=df(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null==r?void 0:r.newEmail,delete a.newEmail),await uy(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fy,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(kb(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await uy(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gy})}catch(t){if(kb(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,n,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await uy(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null==e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:xy});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(kb(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){sy(e);try{return await uy(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gy})}catch(t){if(kb(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){sy(e);try{return await uy(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:gy})}catch(r){if(kb(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){sy(e);try{return await uy(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:gy})}catch(r){if(kb(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){sy(e.userId);try{const{data:t,error:r}=await uy(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(kb(t))return{data:null,error:t};throw t}}async _deleteFactor(e){sy(e.userId),sy(e.id);try{return{data:await uy(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(kb(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,a,n,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await uy(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null==e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:xy});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(kb(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await uy(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(kb(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await uy(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(kb(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await uy(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(kb(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await uy(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(kb(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await uy(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(kb(t))return{data:null,error:t};throw t}}}function ky(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vy=!!(globalThis&&Gb()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jy extends wy{}async function Ny(e,t,r){const a=new globalThis.AbortController;t>0&&setTimeout(()=>{a.abort()},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async a=>{if(!a){if(0===t)throw new jy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vy)try{await globalThis.navigator.locks.query()}catch(Vk){}return await r()}try{return await r()}finally{}})}catch(Vk){if("AbortError"===(null==Vk?void 0:Vk.name))throw new jy(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`);throw Vk}}function Cy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Sy(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class _y extends Error{constructor({message:e,code:t,cause:r,name:a}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(n=null!=a?a:r instanceof Error?r.name:void 0)&&void 0!==n?n:"Unknown Error",this.code=t}}class Ey extends _y{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Py({error:e,options:t}){var r,a,n;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new _y({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(r=s.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new _y({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(a=s.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new _y({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(n=s.authenticatorSelection)||void 0===n?void 0:n.userVerification))return new _y({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new _y({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new _y({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===s.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new _y({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _y({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!Iy(t))return new _y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rp.id!==t)return new _y({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _y({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new _y({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Oy({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new _y({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new _y({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!Iy(t))return new _y({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new _y({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new _y({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _y({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const By=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ty(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=df(e,["challenge","user","excludeCredentials"]),s=Fb(t).buffer,i=Object.assign(Object.assign({},r),{id:Fb(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:s,user:i});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Fb(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Ry(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=df(e,["challenge","allowCredentials"]),n=Fb(t).buffer,s=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Fb(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Ay(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vb(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vb(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function zy(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vb(new Uint8Array(n.authenticatorData)),clientDataJSON:Vb(new Uint8Array(n.clientDataJSON)),signature:Vb(new Uint8Array(n.signature)),userHandle:n.userHandle?Vb(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Iy(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ly(){var e,t;return!!(Hb()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const My={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $y(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),a={};for(const n of e)if(n)for(const e in n){const s=n[e];if(void 0!==s)if(Array.isArray(s))a[e]=s;else if(r(s))a[e]=s;else if(t(s)){const r=a[e];t(r)?a[e]=$y(r,s):a[e]=$y(s)}else a[e]=s}return a}class Uy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:a},n){var s;try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!i)return{data:null,error:o};const l=null!=a?a:By.createNewAbortSignal();if("create"===i.webauthn.type){const{user:e}=i.webauthn.credential_options.publicKey;if(!e.name){const t=r;if(t)e.name=`${e.id}:${t}`;else{const t=(await this.client.getUser()).data.user,r=(null===(s=null==t?void 0:t.user_metadata)||void 0===s?void 0:s.name)||(null==t?void 0:t.email)||(null==t?void 0:t.id)||"User";e.name=`${e.id}:${r}`}}e.displayName||(e.displayName=e.name)}switch(i.webauthn.type){case"create":{const t=function(e,t){return $y(My,e,t||{})}(i.webauthn.credential_options.publicKey,null==n?void 0:n.create),{data:r,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ey("Browser returned unexpected credential type",t)}:{data:null,error:new Ey("Empty credential response",t)}}catch(Hk){return{data:null,error:Py({error:Hk,options:e})}}}({publicKey:t,signal:l});return r?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:r}},error:null}:{data:null,error:a}}case"request":{const t=function(e,t){return $y(Dy,e,t||{})}(i.webauthn.credential_options.publicKey,null==n?void 0:n.request),{data:r,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ey("Browser returned unexpected credential type",t)}:{data:null,error:new Ey("Empty credential response",t)}}catch(Hk){return{data:null,error:Oy({error:Hk,options:e})}}}(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:t,signal:l}));return r?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:r}},error:null}:{data:null,error:a}}}}catch(i){return kb(i)?{data:null,error:i}:{data:null,error:new wb("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:a}={}},n){if(!t)return{data:null,error:new yb("rpId is required for WebAuthn authentication")};try{if(!Ly())return{data:null,error:new wb("Browser does not support WebAuthn",null)};const{data:s,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:a},{request:n});if(!s)return{data:null,error:i};const{webauthn:o}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(s){return kb(s)?{data:null,error:s}:{data:null,error:new wb("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:a}={}},n){if(!t)return{data:null,error:new yb("rpId is required for WebAuthn registration")};try{if(!Ly())return{data:null,error:new wb("Browser does not support WebAuthn",null)};const{data:s,error:i}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:a},{create:n});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(s){return kb(s)?{data:null,error:s}:{data:null,error:new wb("Unexpected error in register",s)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Vk){"undefined"!=typeof self&&(self.globalThis=self)}}();const Fy={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function qy(e,t,r){return await r()}const Vy={};class Hy{get jwks(){var e,t;return null!==(t=null===(e=Vy[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Vy[this.storageKey]=Object.assign(Object.assign({},Vy[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Vy[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vy[this.storageKey]=Object.assign(Object.assign({},Vy[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},Fy),e);if(this.storageKey=n.storageKey,this.instanceID=null!==(t=Hy.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Hy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&Hb()){this._logPrefix();this.logDebugMessages}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new yy({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Wb(n.fetch),this.lock=n.lock||qy,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,this.lockAcquireTimeout=n.lockAcquireTimeout,n.lock?this.lock=n.lock:this.persistSession&&Hb()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=Ny:this.lock=qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Gb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ky(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ky(this.memoryStorage)),Hb()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Vk){}null===(a=this.broadcastChannel)||void 0===a||a.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}n.skipAutoInitialize||this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hb}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(Hb()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(Vk){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Hb()&&this.detectSessionInUrl&&"none"!==r){const{data:a,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return kb(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return{error:n}}const{session:s,redirectType:i}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return kb(t)?this._returnResult({error:t}):this._returnResult({error:new wb("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const n=await uy(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(a=null==e?void 0:e.options)||void 0===a?void 0:a.captchaToken}},xform:hy}),{data:s,error:i}=n;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(kb(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var t,r,a;try{let n;if("email"in e){const{email:r,password:a,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ry(this.storage,this.storageKey)),n=await uy(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:a,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:hy})}else{if(!("phone"in e))throw new _b("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;n=await uy(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(a=null==i?void 0:i.channel)&&void 0!==a?a:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:hy})}}const{data:s,error:i}=n;if(i||!s)return await Xb(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:a,options:n}=e;t=await uy(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:py})}else{if(!("phone"in e))throw new _b("You must provide either an email or phone number and a password");{const{phone:r,password:a,options:n}=e;t=await uy(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:py})}}const{data:r,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const e=new Sb;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(t){if(kb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,a,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,a,n,s,i,o,l,c,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:g,options:m}=e;let f;if(Hb())if("object"==typeof u)f=u;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");f=e.ethereum}else{if("object"!=typeof u||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=u}const x=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href),b=await f.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=Cy(b[0]);let k=null===(r=null==m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!k){const e=await f.request({method:"eth_chainId"});k=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const p=`${d?`${d}://${a}`:a} wants you to sign in with your Ethereum account:\n${Cy(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let g=`URI: ${u}\nVersion: ${h}\nChain ID: ${r}${i?`\nNonce: ${i}`:""}\nIssued At: ${s.toISOString()}`;if(n&&(g+=`\nExpiration Time: ${n.toISOString()}`),o&&(g+=`\nNot Before: ${o.toISOString()}`),l&&(g+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}g+=e}return`${p}\n${g}`}({domain:x.host,address:y,statement:g,uri:x.href,version:"1",chainId:k,nonce:null===(a=null==m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.nonce,issuedAt:null!==(s=null===(n=null==m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null==m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null==m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await f.request({method:"personal_sign",params:[Sy(h),y]})}try{const{data:t,error:r}=await uy(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:hy});if(r)throw r;if(!t||!t.session||!t.user){const e=new Sb;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(kb(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var t,r,a,n,s,i,o,l,c,d,u,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:u,wallet:h,statement:m,options:f}=e;let x;if(Hb())if("object"==typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof h||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const b=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==f?void 0:f.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),g=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(a=null===(r=null==f?void 0:f.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==a?a:(new Date).toISOString()}`,...(null===(n=null==f?void 0:f.signInWithSolana)||void 0===n?void 0:n.notBefore)?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...(null===(s=null==f?void 0:f.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...(null===(i=null==f?void 0:f.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...(null===(o=null==f?void 0:f.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...(null===(l=null==f?void 0:f.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==f?void 0:f.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...f.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=e}}try{const{data:t,error:r}=await uy(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Vb(g)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:hy});if(r)throw r;if(!t||!t.session||!t.user){const e=new Sb;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(m){if(kb(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await Jb(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new Ob;const{data:t,error:n}=await uy(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:hy});if(await Xb(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){const e=new Sb;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=a?a:null}),error:n})}catch(n){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:n,nonce:s}=e,i=await uy(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:hy}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Sb;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(kb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,a,n,s;try{if("email"in e){const{email:a,options:n}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ry(this.storage,this.storageKey));const{error:o}=await uy(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(r=null==n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await uy(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(a=null==r?void 0:r.data)&&void 0!==a?a:{},create_user:null===(n=null==r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new _b("You must provide either an email or phone number.")}catch(i){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,r;try{let a,n;"options"in e&&(a=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await uy(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:a,xform:hy});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(kb(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,r,a,n,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ry(this.storage,this.storageKey));const l=await uy(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(a=null==e?void 0:e.options)||void 0===a?void 0:a.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:my});return(null===(n=l.data)||void 0===n?void 0:n.url)&&Hb()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Nb;const{error:a}=await uy(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(kb(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:n}=e,{error:s}=await uy(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:r,type:a,options:n}=e,{data:s,error:i}=await uy(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:i})}throw new _b("You must provide either an email or phone number and a type")}catch(t){if(kb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Vk){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Vk){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Jb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<gb;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await Jb(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=iy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,a)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,a)}return t.value||"string"!=typeof r||(t.value=!0),Reflect.get(e,r,a)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await uy(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gy}):await this._useSession(async e=>{var t,r,a;const{data:n,error:s}=e;if(s)throw s;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await uy(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0,xform:gy}):{data:{user:null},error:new Nb}})}catch(t){if(kb(t))return Cb(t)&&(await this._removeSession(),await Xb(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:a,error:n}=r;if(n)throw n;if(!a.session)throw new Nb;const s=a.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ry(this.storage,this.storageKey));const{data:l,error:c}=await uy(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:gy});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nb;const t=Date.now()/1e3;let r=t,a=!0,n=null;const{payload:s}=Zb(e.access_token);if(s.exp&&(r=s.exp,a=r<=t),a){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:a,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(t){if(kb(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:n}=t;if(n)throw n;e=null!==(r=a.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Nb;const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(kb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Hb())throw new Eb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Pb("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Eb("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pb("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const a=new URL(window.location.href);return a.searchParams.delete("code"),window.history.replaceState(window.history.state,"",a.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:n,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!(n&&i&&s&&l))throw new Eb("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:p}=await this._getUser(n);if(p)throw p;const g={provider_token:r,provider_refresh_token:a,access_token:n,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(kb(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Jb(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n&&!Cb(n))return this._returnResult({error:n});const s=null===(r=a.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return kb(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!Cb(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await Xb(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:a},error:n}=t;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(Hk){await(null===(a=this.stateChangeEmitters.get(e))||void 0===a?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",Hk)}})}async resetPasswordForEmail(e,t={}){let r=null,a=null;"pkce"===this.flowType&&([r,a]=await ry(this.storage,this.storageKey,!0));try{return await uy(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:a}=await this._useSession(async t=>{var r,a,n,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(a=e.options)||void 0===a?void 0:a.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await uy(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(a)throw a;return Hb()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(r){if(kb(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:a,data:{session:n}}=t;if(a)throw a;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,d=await uy(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==n?void 0:n.access_token)&&void 0!==r?r:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:hy}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Sb})}catch(a){if(await Xb(this.storage,`${this.storageKey}-code-verifier`),kb(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)throw s;return await uy(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0})})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await uy(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hy})),a=(e,t)=>{const r=200*Math.pow(2,e);return t&&Tb(t)&&Date.now()+r-n<pb},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!a(n,null,t))return void e(t)}catch(Vk){if(!a(n,Vk))return void t(Vk)}})()}))}catch(n){if(this._debug(t,"error",n),kb(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}var r,a}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Hb()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Jb(this.storage,this.storageKey);if(n&&this.userStorage){let t=await Jb(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await Qb(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:iy()}else if(n&&!n.user&&!n.user){const e=await Jb(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await Xb(this.storage,this.storageKey+"-user"),await Qb(this.storage,this.storageKey,n)):n.user=iy()}if(this._debug(r,"session from storage",n),!this._isValidSession(n))return this._debug(r,"session is not valid"),void(null!==n&&await this._removeSession());const s=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<gb;if(this._debug(r,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(Tb(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(Hk){return void this._debug(r,"error",Hk)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Nb;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yb;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Nb;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const a={data:t.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(a,"error",n),kb(n)){const e={data:null,error:n};return Tb(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(Vk){a.push(Vk)}});if(await Promise.all(n),a.length>0){for(let e=0;e<a.length;e+=1);throw a[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xb(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Qb(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const a=oy(e);await Qb(this.storage,this.storageKey,a)}else{const e=oy(t);await Qb(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xb(this.storage,this.storageKey),await Xb(this.storage,this.storageKey+"-code-verifier"),await Xb(this.storage,this.storageKey+"-user"),this.userStorage&&await Xb(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hb()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Vk){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pb);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*r.expires_at-e)/pb);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&await this._callRefreshToken(r.refresh_token)})}catch(Vk){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Vk){if(!(Vk.isAcquireTimeout||Vk instanceof wy))throw Vk;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hb()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await ry(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});a.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);a.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?this._returnResult({data:null,error:n}):await uy(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await uy(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(a=null==o?void 0:o.totp)||void 0===a?void 0:a.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return this._returnResult({data:null,error:n});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Ay(e.webauthn.credential_response):zy(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await uy(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return this._returnResult({data:null,error:n});const s=await uy(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ty(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ry(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const n of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])a.all.push(n),"verified"===n.status&&a[n.factor_type].push(n);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,a,n;if(e)try{const{payload:a}=Zb(e);let n=null;a.aal&&(n=a.aal);let s=n;const{data:{user:i},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!==(r=null===(t=null==i?void 0:i.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(s="aal2");return{data:{currentLevel:n,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}catch(d){if(kb(d))return this._returnResult({data:null,error:d});throw d}const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zb(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;(null!==(n=null===(a=s.user.factors)||void 0===a?void 0:a.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await uy(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Nb})})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new Nb});const s=await uy(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Hb()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(kb(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new Nb});const s=await uy(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Hb()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(kb(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await uy(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Nb})})}catch(e){if(kb(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?(await uy(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nb})})}catch(t){if(kb(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>a)return r;const{data:n,error:s}=await uy(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=a,r=n.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:a,payload:n,signature:s,raw:{header:i,payload:o}}=Zb(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(a.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:n,header:a,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,d,s,qb(`${i}.${o}`))))throw new Ab("Invalid JWT signature");return{data:{claims:n,header:a,signature:s},error:null}}catch(r){if(kb(r))return this._returnResult({data:null,error:r});throw r}}}Hy.nextInstanceID={};const Ky=Hy;let Gy="";Gy="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Wy={headers:{"X-Client-Info":`supabase-js-${Gy}/2.97.0`}},Qy={schema:"public"},Jy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xy={};function Yy(e){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zy(e){var t=function(e,t){if("object"!=Yy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Yy(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yy(t)?t:t+""}function ek(e,t,r){return(t=Zy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function rk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(t){ek(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ak=(e,t,r)=>{const a=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),n=Headers;return async(r,s)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new n(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),a(r,rk(rk({},s),{},{headers:l}))}};var nk=class extends Ky{constructor(e){super(e)}},sk=class{constructor(e,t,r){var a,n;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o=function(e,t){var r,a;const{db:n,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:rk(rk({},l),n),auth:rk(rk({},c),s),realtime:rk(rk({},d),i),storage:{},global:rk(rk(rk({},u),o),{},{headers:rk(rk({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(a=null==o?void 0:o.headers)&&void 0!==a?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:Qy,realtime:Xy,auth:rk(rk({},Jy),{},{storageKey:i}),global:Wy});var l;(this.storageKey=null!==(a=o.auth.storageKey)&&void 0!==a?a:"",this.headers=null!==(n=o.global.headers)&&void 0!==n?n:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=ak(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(rk({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new Of(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new ub(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new bf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return null!==(e=null===(t=a.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:n,storageKey:s,flowType:i,lock:o,debug:l,throwOnError:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nk({url:this.authUrl.href,headers:rk(rk({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:n,flowType:i,lock:o,debug:l,throwOnError:c,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new kx(this.realtimeUrl.href,rk(rk({},e),{},{params:rk(rk({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};!function(){if("undefined"!=typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(null==t)return!1;const r=t.match(/^v(\d+)\./);!!r&&parseInt(r[1],10)}();const ik=((e,t,r)=>new sk(e,t,r))("https://anknjpuiklglykguneax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFua25qcHVpa2xnbHlrZ3VuZWF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5ODkwNTAsImV4cCI6MjA4NzU2NTA1MH0.DUMHeKg0v-1oI9nLT-nZP9cg1eYPI0R4fRNBzE9K2MI");function ok(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lk=ok(new class{grayscale(e){for(let t=0;t<e.data.length;t+=4){const r=.299*e.data[t]+.587*e.data[t+1]+.114*e.data[t+2];e.data.fill(r,t,t+3)}return e}threshold(e,t){for(let r=0;r<e.data.length;r+=4){const a=.299*e.data[r]+.587*e.data[r+1]+.114*e.data[r+2]<t?0:255;e.data.fill(a,r,r+3)}return e}bayer(e,t){const r=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];for(let a=0;a<e.data.length;a+=4){const n=.299*e.data[a]+.587*e.data[a+1]+.114*e.data[a+2],s=a/4%e.width,i=Math.floor(a/4/e.width),o=Math.floor((n+r[s%4][i%4])/2)<t?0:255;e.data.fill(o,a,a+3)}return e}floydsteinberg(e){const t=e.width,r=new Uint8ClampedArray(e.width*e.height);for(let a=0,n=0;n<e.data.length;a++,n+=4)r[a]=.299*e.data[n]+.587*e.data[n+1]+.114*e.data[n+2];for(let a=0,n=0;n<e.data.length;a++,n+=4){const s=r[a]<129?0:255,i=Math.floor((r[a]-s)/16);e.data.fill(s,n,n+3),r[a+1]+=7*i,r[a+t-1]+=3*i,r[a+t]+=5*i,r[a+t+1]+=1*i}return e}atkinson(e){const t=e.width,r=new Uint8ClampedArray(e.width*e.height);for(let a=0,n=0;n<e.data.length;a++,n+=4)r[a]=.299*e.data[n]+.587*e.data[n+1]+.114*e.data[n+2];for(let a=0,n=0;n<e.data.length;a++,n+=4){const s=r[a]<129?0:255,i=Math.floor((r[a]-s)/8);e.data.fill(s,n,n+3),r[a+1]+=i,r[a+2]+=i,r[a+t-1]+=i,r[a+t]+=i,r[a+t+1]+=i,r[a+2*t]+=i}return e}}),ck=ok(new class{flatten(e,t){for(let r=0;r<e.data.length;r+=4){const a=e.data[r+3],n=255-a;e.data[r]=(a*e.data[r]+n*t[0])/255,e.data[r+1]=(a*e.data[r+1]+n*t[1])/255,e.data[r+2]=(a*e.data[r+2]+n*t[2])/255,e.data[r+3]=255}return e}});const dk={ascii:{name:"ASCII",languages:["en"],value:new Array(256).fill(1,0,128).map((e,t)=>t)},cp437:{name:"USA, Standard Europe",languages:["en"],extends:"ascii",value:[[,9786,9787,9829,9830,9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788],[9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660],,,,,,[,,,,,,,,,,,,,,,8962],[199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197],[201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402],[225,237,243,250,241,209,170,186,191,8976,172,189,188,161,171,187],[9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488],[9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575],[9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600],[945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745],[8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]]},cp720:{name:"Arabic",languages:["ar"],extends:"cp437",value:[,,,,,,,,[65533,65533,,,65533,,65533,,,,,,,65533,65533,65533],[65533,1617,1618,,164,1600,,,1569,1570,1571,1572,,1573,1574,1575],[1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,,,],,,,[1590,1591,1592,1593,1594,1601,,1602,1603,1604,1605,1606,1607,1608,1609,1610],[,1611,1612,1613,1614,1615,1616,,,,,,,,,,]]},cp737:{name:"Greek",languages:["el"],extends:"cp437",value:[,,,,,,,,[913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928],[929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952],[953,954,955,956,957,958,959,960,961,963,962,964,965,966,967,968],,,,[969,940,941,942,970,943,972,973,971,974,902,904,905,906,908,910],[911,,,,938,939,,,,,,,,,,,]]},cp771:{name:"Lithuanian KBL",languages:["lt"],extends:"cp866",value:[,,,,,,,,,,,,,[,,,,,,,,,,,,260,261,268,269],,[280,281,278,279,302,303,352,353,370,371,362,363,381,382,,,]]},cp772:{name:"Lithuanian LST 1284",languages:["lt"],extends:"cp866",value:[,,,,,,,,,,,[,,,,,260,268,280,278,,,,,302,352,,],[,,,,,,370,362,,,,,,,,381],[261,269,281,279,303,353,371,363,382,,,,,,,,],,[,,8805,8804,8222,8220,247,8776,,,,,8319,178,,,]]},cp774:{name:"Lithuanian LST 1283",languages:["lt"],extends:"cp437",value:[,,,,,,,,,,,[,,,,,260,268,280,278,,,,,302,352,,],[,,,,,,370,362,,,,,,,,381],[261,269,281,279,303,353,371,363,382,,,,,,,,],[,946,,,,,,,,,,,,,,8898],[,,,,8222,8220,,,,,729,,,,,,]]},cp775:{name:"Baltic Rim",languages:["et","lt"],extends:"cp437",value:[,,,,,,,,[262,,,257,,291,,263,322,275,342,343,299,377,,,],[,,,333,,290,162,346,347,,,248,,216,215,164],[256,298,,379,380,378,8221,166,169,174,,,,321,,,],[,,,,,260,268,280,278,,,,,302,352,,],[,,,,,,370,362,,,,,,,,381],[261,269,281,279,303,353,371,363,382,,,,,,,,],[211,,332,323,245,213,,324,310,311,315,316,326,274,325,8217],[173,,8220,190,182,167,,8222,,,,185,179,,,,]]},cp850:{name:"Multilingual",languages:["en"],extends:"cp437",value:[,,,,,,,,,[,,,,,,,,,,,248,,216,215,,],[,,,,,,,,,174,,,,,,,],[,,,,,193,194,192,169,,,,,162,165,,],[,,,,,,227,195,,,,,,,,164],[240,208,202,203,200,305,205,206,207,,,,,166,204,,],[211,,212,210,245,213,,254,222,218,219,217,253,221,175,180],[173,,8215,190,182,167,,184,,168,,185,179,,,,]]},cp851:{name:"Greek",languages:["el"],extends:"cp437",value:[,,,,,,,,[,,,,,,902,,,,,,,904,,905],[906,65533,908,,,910,,,911,,,940,,941,942,943],[970,912,972,973,913,914,915,916,917,918,919,,920,921,,,],[,,,,,922,923,924,925,,,,,926,927,,],[,,,,,,928,929,,,,,,,,931],[932,933,934,935,936,937,945,946,947,,,,,948,949,,],[950,951,952,953,954,955,956,957,958,959,960,961,963,962,964,180],[173,,965,966,967,167,968,184,,168,969,971,944,974,,,]]},cp852:{name:"Latin 2",languages:["hu","pl","cz"],extends:"cp850",value:[,,,,,,,,[,,,,,367,263,,322,,336,337,,377,,262],[,313,314,,,317,318,346,347,,,356,357,321,,269],[,,,,260,261,381,382,280,281,,378,268,351,,,],[,,,,,,,282,350,,,,,379,380,,],[,,,,,,258,259,,,,,,,,,],[273,272,270,,271,327,,,283,,,,,354,366,,],[,,,323,324,328,352,353,340,,341,368,,,355,,],[,733,731,711,728,,,,,,729,369,344,345,,,]]},cp853:{name:"Turkish",languages:["tr"],extends:"cp437",value:[,,,,,,,,[,,,,,,265,,,,,,,,,264],[,267,266,,,,,,304,,,285,,284,215,309],[,,,,,,286,287,292,293,65533,,308,351,,,],[,,,,,193,194,192,350,,,,,379,380,,],[,,,,,,348,349,,,,,,,,164],[65533,65533,202,203,200,305,205,206,207,,,,,65533,204,,],[211,,212,210,288,289,,294,295,218,219,217,364,365,65533,180],[173,65533,8467,329,728,167,,184,,168,729,65533,179,,,,]]},cp855:{name:"Cyrillic",languages:["bg"],extends:"cp437",value:[,,,,,,,,[1106,1026,1107,1027,1105,1025,1108,1028,1109,1029,1110,1030,1111,1031,1112,1032],[1113,1033,1114,1034,1115,1035,1116,1036,1118,1038,1119,1039,1102,1070,1098,1066],[1072,1040,1073,1041,1094,1062,1076,1044,1077,1045,1092,1060,1075,1043,,,],[,,,,,1093,1061,1080,1048,,,,,1081,1049,,],[,,,,,,1082,1050,,,,,,,,164],[1083,1051,1084,1052,1085,1053,1086,1054,1087,,,,,1055,1103,,],[1071,1088,1056,1089,1057,1090,1058,1091,1059,1078,1046,1074,1042,1100,1068,8470],[173,1099,1067,1079,1047,1096,1064,1101,1069,1097,1065,1095,1063,167,,,]]},cp857:{name:"Turkish",languages:["tr"],extends:"cp437",value:[,,,,,,,,[,,,,,,,,,,,,,305,,,],[,,,,,,,,304,,,248,,216,350,351],[,,,,,,286,287,,174,,,,,,,],[,,,,,193,194,192,169,,,,,162,165,,],[,,,,,,227,195,,,,,,,,164],[186,170,202,203,200,8364,205,206,207,,,,,166,204,,],[211,,212,210,245,213,,65533,215,218,219,217,236,255,175,180],[173,,65533,190,182,167,,184,,168,,185,179,,,,]]},cp858:{name:"Euro",languages:["en"],extends:"cp850",value:[,,,,,,,,,,,,,[,,,,,8364,,,,,,,,,,,],,,]},cp860:{name:"Portuguese",languages:["pt"],extends:"cp437",value:[,,,,,,,,[,,,,227,,193,,,202,,205,212,,195,194],[,192,200,,245,,218,,204,213,,,,217,,211],[,,,,,,,,,210,,,,,,,],,,,,,]},cp861:{name:"Icelandic",languages:["is"],extends:"cp437",value:[,,,,,,,,[,,,,,,,,,,,208,240,222,,,],[,,,,,254,,221,253,,,248,,216,,,],[,,,,193,205,211,218,,,,,,,,,],,,,,,]},cp862:{name:"Hebrew",languages:["he"],extends:"cp437",value:[,,,,,,,,[1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503],[1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,,,,,,],,,,,,,]},cp863:{name:"Canadian French",languages:["fr"],extends:"cp437",value:[,,,,,,,,[,,,,194,,182,,,,,,,8215,192,167],[,200,202,,203,207,,,164,212,,,,217,219,,],[166,180,,,168,184,179,175,206,,,,,190,,,],,,,,,]},cp864:{name:"Arabic",languages:["ar"],extends:"cp437",offset:128,value:[176,183,8729,8730,9618,9472,9474,9532,9508,9516,9500,9524,9488,9484,9492,9496,946,8734,966,177,189,188,8776,171,187,65271,65272,65533,65533,65275,65276,65533,160,173,65154,163,164,65156,65533,65533,65166,65167,65173,65177,1548,65181,65185,65189,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,65233,1563,65201,65205,65209,1567,162,65152,65153,65155,65157,65226,65163,65165,65169,65171,65175,65179,65183,65187,65191,65193,65195,65197,65199,65203,65207,65211,65215,65217,65221,65227,65231,166,172,247,215,65225,1600,65235,65239,65243,65247,65251,65255,65259,65261,65263,65267,65213,65228,65230,65229,65249,65149,1617,65253,65257,65260,65264,65266,65232,65237,65269,65270,65245,65241,65265,9632,65533]},cp865:{name:"Nordic",languages:["sv","dk"],extends:"cp437",value:[,,,,,,,,,[,,,,,,,,,,,248,,216,,,],[,,,,,,,,,,,,,,,164],,,,,,]},cp866:{name:"Cyrillic 2",languages:["ru"],extends:"cp437",value:[,,,,,,,,[1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055],[1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071],[1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087],,,,[1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103],[1025,1105,1028,1108,1031,1111,1038,1118,,,,,8470,164,,,]]},cp869:{name:"Greek",languages:["el"],extends:"cp437",value:[,,,,,,,,[65533,65533,65533,65533,65533,65533,902,65533,183,172,166,8216,8217,904,8213,905],[906,938,908,65533,65533,910,939,169,911,178,179,940,,941,942,943],[970,912,972,973,913,914,915,916,917,918,919,,920,921,,,],[,,,,,922,923,924,925,,,,,926,927,,],[,,,,,,928,929,,,,,,,,931],[932,933,934,935,936,937,945,946,947,,,,,948,949,,],[950,951,952,953,954,955,956,957,958,959,960,961,963,962,964,900],[173,,965,966,967,167,968,901,,168,969,971,944,974,,,]]},cp874:{name:"Thai",languages:["th"],extends:"ascii",offset:128,value:[8364,65533,65533,65533,65533,8230,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,8216,8217,8220,8221,8226,8211,8212,65533,65533,65533,65533,65533,65533,65533,65533,160,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,65533,65533,65533,65533,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,65533,65533,65533,65533]},cp1001:{name:"Arabic",languages:["ar"],extends:"cp437",value:[,,,,,,,,[1569,1570,1571,1572,1573,65163,1575,1576,65169,1577,1578,65175,1579,65179,1583,1584],[1585,1586,1587,65203,65204,1588,65207,65208,1589,65211,65212,1590,65215,65216,1591,1592],[1593,65227,1594,65231,1601,65235,1602,65239,1603,1705,1604,65271,65273,65275,9496,1605],[65251,1606,65255,1607,65259,1608,1609,1657,65267,9474,1548,1563,1567,65154,65156,65162],[,1580,65183,1581,65187,1582,65191,65226,65228,65230,65231,65272,65274,65276,65259,65260],[1632,65264,9472,65533,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,65533,65533],[65533,65533,65275,65533,65533,65533,65533,9524,,,,,,,,,],,]},cp1098:{name:"Farsi",languages:["fa"],extends:"cp437",value:[,,[,,,,,65533,,,,,65533,,,,,,],,,,,,[65533,65533,1548,1563,1567,1611,1570,65154,63738,1575,65166,63739,1569,1571,65156,63737],[1572,65163,1576,65169,64342,64344,1578,65175,1579,65179,1580,65183,64378,64380,215,1581],[65187,1582,65191,1583,1584,1585,1586,64394,1587,65203,1588,65207,1589,65211,,,],[,,,,,1590,65215,65217,65219,,,,,164,65221,,],[,,,,,,65223,1593,,,,,,,,65533],[65226,65227,65228,1594,65230,65231,65232,1601,65235,,,,,1602,65239,,],[64398,65243,64402,64404,1604,65247,1605,65251,1606,65255,1608,1607,65259,65260,64420,64508],[173,64509,64510,1600,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,,,]]},cp1125:{name:"Ukrainian",languages:["uk"],extends:"cp866",value:[,,,,,,,,,,,,,,,[,,1168,1169,1028,1108,1030,1110,1031,1111,247,177,,,,,]]},cp3001:{name:"Estonian 1 or 1116",languages:["et"],extends:"cp850",value:[,,,,,,,,,,,,,[353,352,,,,,,,,,,,,,,,],[,,,,,,,382,381,,,,,,,,],,]},cp3002:{name:"Estonian 2",languages:["et"],extends:"iso8859-1",value:[,,,,,,,,[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533],[32,,,,,,,,,,,,,,,8254],,,[352,,,,,,,,,,,,,,381,,],,[353,,,,,,,,,,,,,,382,,]]},cp3011:{name:"Latvian 1",languages:["lv"],extends:"cp437",value:[,,,,,,,,,,,[,,,,,256,,326,,,,,,,,,],[,,,,,,257,,,,,,,,,,],[352,,269,268,,,291,298,299,,,,,363,362,,],,[274,275,290,311,310,316,315,382,381,,,,325,353,,,]]},cp3012:{name:"Latvian 2 (modified 866)",languages:["lv"],extends:"cp866",value:[,,,,,,,,,,,[,,,,,256,,326,,,,,,332,,,],[,,,,,,257,,,,,,,,,,],[352,,269,268,,,291,298,299,,,,,363,362,,],,[274,275,290,311,310,316,315,382,381,333,,,325,353,,,]]},cp3021:{name:"Bulgarian (MIK)",languages:["bg"],extends:"cp866",value:[,,,,,,,,,,,[1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103],[,,,,,,9571,9553,,,,,,,,9488],[9617,9618,9619,9474,9508,8470,167,9559,9565,,,,,,,,],[945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745],[8801,177,8805,8804,8992,8993,247,8776,,,,,8319,178,,,]]},cp3041:{name:"Maltese ISO 646",languages:["mt"],extends:"ascii",value:[,,,,,[,,,,,,,,,,,289,380,295,,,],[267,,,,,,,,,,,,,,,,],[,,,,,,,,,,,288,379,294,266,,],,,,,,,,,]},cp3840:{name:"Russian (modified 866)",languages:["ru"],extends:"cp866",value:[,,,,,,,,,,,,,,,[8801,177,8805,8804,8992,8993,247,8776,,,,,8319,178,,,]]},cp3841:{name:"Ghost",languages:["ru"],extends:"cp437",offset:128,value:[1171,1241,1105,1110,1111,1112,1181,1257,1118,1199,1277,1224,1209,1207,1108,163,1170,1240,1025,1030,1031,1032,1180,1256,1038,1198,1276,1223,1208,1206,1028,1066,32,33,34,35,164,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,1102,1072,1073,1094,1076,1077,1092,1075,1093,1080,1081,1082,1083,1084,1085,1086,1087,1103,1088,1089,1090,1091,1078,1074,1100,1099,1079,1096,1101,1097,1095,1098,1070,1040,1041,1062,1044,1045,1060,1043,1061,1048,1049,1050,1051,1052,1053,1054,1055,1071,1056,1057,1058,1059,1046,1042,1068,1067,1047,1064,1069,1065,1063,8709]},cp3843:{name:"Polish (Mazovia)",languages:["pl"],extends:"cp437",value:[,,,,,,,,[,,,,,,261,,,,,,,263,,260],[280,281,322,,,262,,,346,,,,321,,347,,],[377,379,,211,324,323,378,380,,,,,,,,,],,,,,,]},cp3844:{name:"Czech (Kamenick)",languages:["cz"],extends:"cp437",value:[,,,,,,,,[268,,,271,,270,356,269,283,282,313,205,318,314,,193],[,382,381,,,211,367,218,253,,,352,317,221,344,357],[,,,,328,327,366,212,353,345,341,340,,167,,,],,,,,,]},cp3845:{name:"Hungarian (CWI-2)",languages:["hu"],extends:"cp437",value:[,,,,,,,,[,,,,,,,,,,,,,205,,193],[,,,337,,211,369,218,368,,,,,,,,],[,,,,,,,336,,,,,,,,,],,,,,,]},cp3846:{name:"Turkish",languages:["tr"],extends:"cp437",value:[,,,,,,,,[,,,,,,,,,,,,,305,,,],[,,,,,,,,304,,,,,,350,351],[,,,,,,286,287,,,,,,,,,],,,,,,]},cp3847:{name:"Brazil ABNT",languages:["pt"],extends:"iso8859-1",value:[,,,,,,,,,,,,,[,,,,,,,65533,,,,,,,,,],,[,,,,,,,65533,,,,,,,,,]]},cp3848:{name:"Brazil ABICOMP",languages:["pt"],extends:"ascii",value:[,,,,,,,,,,[160,192,193,194,195,196,199,200,201,202,203,204,205,206,205,209],[210,211,212,213,214,198,217,218,219,220,376,168,163,166,167,176],[161,224,225,226,227,228,231,232,233,234,235,236,237,238,239,241],[242,243,244,245,246,230,249,250,251,252,255,223,170,186,191,177],,,]},"iso8859-1":{name:"Latin 1",languages:["en"],extends:"ascii",offset:128,value:[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},"iso8859-2":{name:"Latin 2",languages:["hu","pl","cz"],extends:"iso8859-1",value:[,,,,,,,,,,[,260,728,321,,317,346,,,352,350,356,377,,381,379],[,261,731,322,,318,347,711,,353,351,357,378,733,382,380],[340,,,258,,313,262,,268,,280,,282,,,270],[272,323,327,,,336,,,344,366,,368,,,354,,],[341,,,259,,314,263,,269,,281,,283,,,271],[273,324,328,,,337,,,345,367,,369,,,355,729]]},"iso8859-7":{name:"Greek",languages:["el"],extends:"iso8859-1",value:[,,,,,,,,,,[,8216,8217,,8364,8367,,,,,890,,,,,8213],[,,,,900,901,902,,904,905,906,,908,,910,911],[912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927],[928,929,,931,932,933,934,935,936,937,938,939,940,941,942,943],[944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959],[960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,,]]},"iso8859-15":{name:"Latin 9",languages:["fr"],extends:"iso8859-1",value:[,,,,,,,,,,[,,,,8364,,352,,353,,,,,,,,],[,,,,381,,,,382,,,,338,339,376,,],,,,,]},windows1250:{name:"Latin 2",languages:["hu","pl","cz"],extends:"windows1252",value:[,,,,,,,,[,,,65533,,,,,65533,,,,346,356,,377],[,,,,,,,,65533,,,,347,357,,378],[,711,728,321,,260,,,,,350,,,,,379],[,,731,322,,,,,,261,351,,317,733,318,380],[340,,,258,,313,262,,268,,280,,282,,,270],[272,323,327,,,336,,,344,366,,368,,,354,,],[341,,,259,,314,263,,269,,281,,283,,,271],[273,324,328,,,337,,,345,367,,369,,,355,729]]},windows1251:{name:"Cyrillic",languages:["ru"],extends:"windows1252",value:[,,,,,,,,[1026,1027,,1107,,,,,8364,,1033,,1034,1036,1035,1039],[1106,,,,,,,,65533,,1113,,1114,1116,1115,1119],[,1038,1118,1032,,1168,,,1025,,1028,,,,,1031],[,,1030,1110,1169,,,,1105,8470,1108,,1112,1029,1109,1111],[1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055],[1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071],[1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087],[1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103]]},windows1252:{name:"Latin",languages:["fr"],extends:"iso8859-1",value:[,,,,,,,,[8364,65533,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,65533,381,65533],[65533,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,65533,382,376],,,,,,,]},windows1253:{name:"Greek",languages:["el"],extends:"windows1252",value:[,,,,,,,,[,,,,,,,,65533,,65533,,65533,,65533,,],[,,,,,,,,65533,,65533,,65533,,65533,65533],[,901,902,,,,,,,,65533,,,,,8213],[,,,,900,,,,904,905,906,,908,,910,911],[912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927],[928,929,65533,931,932,933,934,935,936,937,938,939,940,941,942,943],[944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959],[960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,65533]]},windows1254:{name:"Turkish",languages:["tr"],extends:"windows1252",value:[,,,,,,,,[,,,,,,,,,,,,,,65533,,],[,,,,,,,,,,,,,,65533,,],,,,[286,,,,,,,,,,,,,304,350,,],,[287,,,,,,,,,,,,,305,351,,]]},windows1255:{name:"Hebrew",languages:["he"],extends:"windows1252",value:[,,,,,,,,[,,,,,,,,,,65533,,65533,,65533,,],[,,,,,,,,,,65533,,65533,,65533,65533],[,,,,8362,,,,,,215,,,,,,],[,,,,,,,,,,247,,,,,,],[1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,65533,1467,1468,1469,1470,1471],[1472,1473,1474,1475,1520,1521,1522,1523,1524,65533,65533,65533,65533,65533,65533,65533],[1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503],[1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,65533,65533,8206,8207,65533]]},windows1256:{name:"Arabic",languages:["ar"],extends:"windows1252",value:[,,,,,,,,[,1662,,,,,,,,,1657,,,1670,1688,1672],[1711,,,,,,,,1705,,1681,,,8204,8205,1722],[,1548,,,,,,,,,1726,,,,,,],[,,,,,,,,,,1563,,,,,1567],[1729,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583],[1584,1585,1586,1587,1588,1589,1590,,1591,1592,1593,1594,1600,1601,1602,1603],[,1604,,1605,1606,1607,1608,,,,,,1609,1610,,,],[1611,1612,1613,1614,,1615,1616,,1617,,1618,,,8206,8207,1746]]},windows1257:{name:"Baltic Rim",languages:["et","lt"],extends:"windows1252",value:[,,,,,,,,[,,,65533,,,,,65533,,65533,,65533,168,711,184],[,,,,,,,,65533,,65533,,65533,175,731,65533],[,65533,,,,65533,,,216,,342,,,,,198],[,,,,,,,,248,,343,,,,,230],[260,302,256,262,,,280,274,268,,377,278,290,310,298,315],[352,323,325,,332,,,,370,321,346,362,,379,381,,],[261,303,257,263,,,281,275,269,,378,279,291,311,299,316],[353,324,326,,333,,,,371,322,347,363,,380,382,729]]},windows1258:{name:"Vietnamese",languages:["vi"],extends:"windows1252",value:[,,,,,,,,[,,,,,,,,,,65533,,,,65533,,],[,,,,,,,,,,65533,,,,65533,,],,,[,,,258,,,,,,,,,768,,,,],[272,,777,,,416,,,,,,,,431,771,,],[,,,259,,,,,,,,,769,,,,],[273,,803,,,417,,,,,,,,432,8363,,]]},rk1048:{name:"Kazakh",languages:["kk"],extends:"windows1251",value:[,,,,,,,,[,,,,,,,,,,,,,1178,1210,,],[,,,,,,,,,,,,,1179,1211,,],[,1200,1201,1240,,1256,,,,,1170,,,,,1198],[,,,,1257,,,,,,1171,,1241,1186,1187,1199],,,,,]},thai11:{name:"Thai (Charcter Code 11)",languages:["th"],extends:"thai13",value:[,,,,,,,,,[,,,,,,,,,9484,9488,9492,9496,9474,9500,9508],,,,[,,,,,,,,,,,9472,9524,9516,9532,,],,[,,,,,,,,,,,3658,3650,3651,3652,65533]]},thai13:{name:"Thai (Charcter Code 13)",languages:["th"],extends:"cp874",value:[,,,,,,,,[65533,,,,,65533,,,,,,,,,,,],[,65533,65533,65533,65533,65533,65533,65533,,,,,,,,,],,,,[,,,,,,,,,,,3619,,,3648,,],,[,,,,,,,,,,,,8592,8593,8594,8595]]},thai14:{name:"Thai (Charcter Code 14)",languages:["th"],extends:"cp874",value:[,,,,,,,,[9484,9488,9492,9496,9474,9472,9500,9508,9524,9516,9532,9608,,,,,],[3619,3634,65533,3632,65533,65533,65533,65533,,,,,,,,3648],,,,,,[,,,,,,,,,,3675,65533,,,,3652]]},thai16:{name:"Thai (Charcter Code 16)",languages:["th"],extends:"thai18",value:[,,,,,,,,,[3650,3651,,,,,,,,,,,,,,,],,,,,,,]},thai18:{name:"Thai (Charcter Code 18)",languages:["th"],extends:"thai14",value:[,,,,,,,,[,,,,,,,,,,,,8592,8593,8594,8595],,,,,,[,,,,,,,,,,,,,,3652,,],[,,,,,,,,,,,,,,,65533]]},thai42:{name:"Thai (Charcter Code 42)",languages:["th"],extends:"thai18",value:[,,,,,,,,,[3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3587,3589,3619,3634,3652,,],[,,,3588,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601],[3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617],[3618,3619,3620,3621,3623,3624,3625,3626,3627,3628,3629,3630,3632,3622,3634,3635],[3648,3649,3650,3651,3652,3654,3631,3640,3641,3636,3637,3638,3639,3658,3661,3655],[3656,3657,3658,3659,3660,65533,65533,65533,65533,65533,65533,3632,65533,65533,65533,65533],[65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,65533,,,,,160]]},tcvn3:{name:"Vietnamese (VSCII3 / TCVN3)",languages:["vi"],extends:"ascii",value:[,,,,,,,,,,[,,,,,,,,259,226,234,244,417,432,273,,],[,,,,,224,7843,227,225,7841,,7857,7859,7861,7855,,],[,,,,,,7863,7847,7849,7851,7845,7853,232,,7867,7869],[233,7865,7873,7875,7877,7871,7879,236,7881,,,,297,237,7883,242],[,7887,245,243,7885,7891,7893,7895,7889,7897,7901,7903,7905,7899,7907,249],[,7911,361,250,7909,7915,7917,7919,7913,7921,7923,7927,7929,253,7925,,]]},tcvn3capitals:{name:"Vietnamese (VSCII3 / TCVN3 Capitals)",languages:["vi"],extends:"ascii",value:[,,,,,,,,,,[,258,194,,,,,208,,,202,212,416,431,,,],[,,,,,192,7842,195,193,7840,,7856,7858,7860,7854,,],[,,,,,,7862,7846,7848,7850,7844,7852,200,,7866,7868],[201,7864,7872,7874,7876,7870,7878,204,7880,,,,296,205,7882,210],[,7886,213,211,7884,7890,7892,7894,7888,7896,7900,7902,7904,7898,7906,217],[,7910,360,218,7908,7914,7916,7918,7912,7920,7922,7926,7928,221,7924,,]]},viscii:{name:"Vietnamese (VISCII)",languages:["vi"],extends:"ascii",value:[[,,7858,,,7860,7850,,,,,,,,,,],[,,,,7926,,,,,7928,,,,,7924,,],,,,,,,[7840,7854,7856,7862,7844,7846,7848,7852,7868,7864,7870,7872,7874,7876,7878,7888],[7890,7892,7894,7896,7906,7898,7900,7902,7882,7886,7884,7880,7910,360,7908,7922],[213,7855,7857,7863,7845,7847,7849,7853,7869,7865,7871,7873,7875,7877,7879,7889],[7891,7893,7895,7904,416,7897,7901,7903,7883,7920,7912,7914,7916,417,7899,431],[192,193,194,195,7842,258,7859,7861,200,201,202,7866,204,205,296,7923],[272,7913,210,211,212,7841,7927,7915,7917,217,218,7929,7925,221,7905,432],[224,225,226,227,7843,259,7919,7851,232,233,234,7867,236,237,297,7881],[273,7921,242,243,244,245,7887,7885,7909,249,250,361,7911,253,7907,7918]]},khmer:{name:"Khmer",languages:["km"],extends:"ascii",value:[,,,,,,,,[6016,6017,6016,6019,6020,6021,6022,6023,6024,6025,6026,6027,6028,6029,6030,6031],[6032,6033,6032,6035,6036,6037,6038,6039,6040,6041,6042,6043,6044,6045,6046,6047],[6048,6049,6048,6051,6052,6053,6054,6055,6056,6057,6058,6059,6060,6061,6062,6063],[6064,6065,6064,6067,6068,6069,6070,6071,6072,6073,6074,6075,6076,6077,6078,6079],[6080,6081,6080,6083,6084,6085,6086,6087,6088,6089,6090,6091,6092,6093,6094,6095],[6096,6097,6096,6099,6100,6101,6102,6103,6104,6105,6106,6107,6108,6109,,,],[6112,6113,6112,6115,6116,6117,6118,6119,6120,6121,,,,,,,],[6128,6129,6128,6131,6132,6133,6134,,,,,,,,,,]]},latvian:{name:"Latvian (based on cp3012)",languages:["lv"],extends:"cp3012",value:[,,,,,,,,,,,,,[,,,,298,299,,,,,,,,,,,],,,]},"epson/katakana":{name:"Katakana",languages:["ja"],extends:"cp437",offset:128,value:[9601,9602,9603,9604,9605,9606,9607,9608,9615,9614,9613,9612,9611,9610,9609,9532,9524,9516,9508,9500,9620,9472,9474,9621,9484,9488,9492,9496,9581,9582,9584,9583,32,65377,65378,65379,65380,65381,65382,65383,65384,65385,65386,65387,65388,65389,65390,65391,65392,65393,65394,65395,65396,65397,65398,65399,65400,65401,65402,65403,65404,65405,65406,65407,65408,65409,65410,65411,65412,65413,65414,65415,65416,65417,65418,65419,65420,65421,65422,65423,65424,65425,65426,65427,65428,65429,65430,65431,65432,65433,65434,65435,65436,65437,65438,65439,9552,9566,9578,9569,9698,9699,9701,9700,9824,9829,9830,9827,9679,9675,9585,9586,9587,20870,24180,26376,26085,26178,20998,31186,12306,24066,21306,30010,26449,20154,9618,160]},"epson/iso8859-2":{name:"Latin 2 modified with box drawing characters",languages:["hu","pl","cz"],extends:"iso8859-2",value:[,,,,,,,,[9617,9618,9619,9474,9508,9496,9484,9608,169,9571,9553,9559,9565,162,165,9488],[9492,9524,9516,9500,9472,9532,9604,9600,9562,9556,9577,9574,9568,9552,9580,174],,,,,,,]},"star/standard":{name:"Standard",languages:["en"],extends:"cp437",offset:128,value:[160,129904,129910,129905,129911,129906,129912,129907,129913,129908,129914,129909,9500,129915,129916,129918,129919,129917,9624,9623,9622,9629,9585,9586,9701,9700,9484,9524,9516,9508,9830,9587,196,214,220,223,167,170,186,65533,162,189,65533,65533,165,188,256,235,233,232,275,234,239,237,236,299,238,246,243,242,333,244,252,250,249,363,251,231,191,65533,65533,274,8580,161,197,248,216,228,225,224,257,226,176,8451,8457,937,181,931,963,65533,65533,967,8734,177,247,960,9612,9604,9600,9616,9532,9496,9492,9488,9608,9618,9162,8592,8593,8594,8595,9581,9161,129923,65533,9601,9613,65533,129928,9626,9630,9698,9699,129840,9208,9584,9583,9582]},"star/katakana":{name:"Katakana",languages:["ja"],extends:"star/standard",value:[,,,,,,,,,,[32,65377,65378,65379,65380,65381,65382,65383,65384,65385,65386,65387,65388,65389,65390,65391],[65392,65393,65394,65395,65396,65397,65398,65399,65400,65401,65402,65403,65404,65405,65406,65407],[65408,65409,65410,65411,65412,65413,65414,65415,65416,65417,65418,65419,65420,65421,65422,65423],[65424,65425,65426,65427,65428,65429,65430,65431,65432,65433,65434,65435,65436,65437,65438,65439],,,]},"star/cp874":{name:"Thai",languages:["th"],extends:"cp874",value:[,,,,,,,,,[,,,,,9474,9472,9532,9484,9488,9492,9496,9500,9516,9508,9524],,,,[,,,,,,,,,,,3657,3658,3659,3660,,],,[,,,,,,,,,,,,162,172,166,,]]},"star/cp928":{name:"Greek",languages:["el"],extends:"cp437",value:[,,,,,,,,,,[160,8216,8217,163,65533,65533,166,167,168,169,65533,171,172,173,65533,8213],[176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911],[912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927],[928,929,65533,931,932,933,934,935,936,937,938,939,940,941,942,943],[944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959],[960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,65533]]},"bixolon/cp866":{name:"Cyrillic 2 (modified with euro sign)",languages:["ru"],extends:"cp866",value:[,,,,,,,,,,,,,,,[,,,,9093,1055,8801,9824,8364,,,,,,,,]]},"bixolon/hebrew":{name:"Hebrew",languages:["he"],extends:"cp437",value:[,,,,,,,,,,[32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],[48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63],[64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79],[80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95],[1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503],[1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,123,124,125,126,,]]},"xprinter/hebrew":{name:"Hebrew (based on CP862 minus CP437)",languages:["he"],extends:"ascii",value:[,,,,,,,,[1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503],[1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,,,,,,],,,,,,,]},"pos8360/hebrew":{name:"Hebrew (based on cp862 with repeated characters)",languages:["he"],extends:"cp862",value:[,,,,,,,,,,,,,,[1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503],[1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,,,,,,]]}},uk={cp2001:"cp771",cp1119:"cp772",cp1118:"cp774",cp1162:"cp874",iso88591:"iso8859-1",iso88592:"iso8859-2",iso88597:"iso8859-7",iso885915:"iso8859-15",shiftjis:"epson/katakana",katakana:"epson/katakana",cp928:"star/cp928"},hk={en:"The quick brown fox jumps over the lazy dog.",jp:"   ",pt:"O prximo vo  noite sobre o Atlntico, pe freqentemente o nico mdico.",fr:"Les nafs githales htifs pondant  Nol o il gle sont srs d'tre dus en voyant leurs drles d'ufs abms.",sv:"Flygande bckasiner ska strax hwila p mjuka tuvor.",dk:"Quizdeltagerne spiste jordbr med flde",el:"   ",tr:"Pijamal hasta, yaz ofre abucak gvendi.",ru:"         ",hu:"rvztr tkrfrgp",pl:"Pchn w t d jea lub om skrzy fig",cz:"Mohu jst sklo, neubl mi.",ar:"        .",et:"Ma vin klaasi sa, see ei tee mulle midagi.",lt:"A galiu valgyti stikl ir jis mans neeidia.",bg:"   ,    .",is:"g get eti gler n ess a meia mig.",he:"       .",fa:".       ",uk:"   ,     .",vi:"Ti c th n thy tinh m khng hi g.",kk:"",lv:"Es varu st stiklu, tas man nekait.",mt:"Nista' niekol il-ie u ma jagmilli xejn.",th:" "};class pk{static getEncodings(){return Object.keys(dk)}static getEncoding(e){return void 0!==uk[e]&&(e=uk[e]),void 0===dk[e]&&(e="ascii"),void 0===dk[e].codepoints&&(dk[e].codepoints=this.getCodepoints(e,!0)),structuredClone(dk[e])}static getTestStrings(e){return void 0!==uk[e]&&(e=uk[e]),void 0!==dk[e]&&void 0!==dk[e].languages?dk[e].languages.map(e=>({language:e,string:hk[e]})):[]}static supports(e){return void 0!==uk[e]&&(e=uk[e]),void 0!==dk[e]}static encode(e,t){const r=new Uint8Array(e.length),a=this.getEncoding(t);for(let n=0;n<e.length;n++){const t=e.codePointAt(n),s=a.codepoints.findIndex(e=>e===t);r[n]=-1!==s?s:63}return r}static autoEncode(e,t){const r=[];let a,n=-1;for(let s=0;s<e.length;s++){const i=e.codePointAt(s);let o,l=0;if(!o&&a){const e=this.getEncoding(a).codepoints.findIndex(e=>e===i);-1!==e&&(o=a,l=e)}if(!o)for(let e=0;e<t.length;e++){const r=this.getEncoding(t[e]).codepoints.findIndex(e=>e===i);if(-1!==r){o=t[e],l=r;break}}o||(o=a||t[0],l=63),a!=o&&(a&&(r[n].bytes=new Uint8Array(r[n].bytes)),n++,r[n]={codepage:o,bytes:[]},a=o),r[n].bytes.push(l)}return a&&(r[n].bytes=new Uint8Array(r[n].bytes)),r}static getCodepoints(e,t){let r=new Array(256);if(t&&(r=void 0===dk[e].extends?r.fill(65533):this.getEncoding(dk[e].extends).codepoints),16===dk[e].value.length){for(let a=0;a<16;a++)if("object"==typeof dk[e].value[a])for(let t=0;t<16;t++)"number"==typeof dk[e].value[a][t]&&(r[16*a+t]=dk[e].value[a][t])}else{const t=dk[e].offset||0;for(let a=0;a<dk[e].value.length;a++)"number"==typeof dk[e].value[a]&&(r[t+a]=dk[e].value[a])}return r}}var gk=ImageData,mk=ok(gk);const fk=gk;function xk(e,t){let r=0;for(let a=0;a<t.height;a++)for(let n=0;n<t.width;n++){const s=Math.floor(n*e.width/t.width);let i=4*(Math.floor(a*e.height/t.height)*e.width+s);t.data[r++]=e.data[i++],t.data[r++]=e.data[i++],t.data[r++]=e.data[i++],t.data[r++]=e.data[i++]}}function bk(e,t){function r(e,t,r,a,n){return Math.round((e-t)*n+(r-e)*a)}function a(t,a,n,s,i){const o=e.data[4*(n*e.width+s)+t];return s===i?o:r(a,s,i,o,e.data[4*(n*e.width+i)+t])}function n(e,t,n,s,i,o,l){const c=a(e,t,o,n,s);return o===l?c:r(i,o,l,c,a(e,t,l,n,s))}let s=0;for(let i=0;i<t.height;i++)for(let r=0;r<t.width;r++){const a=r*e.width/t.width,o=i*e.height/t.height,l=Math.floor(a),c=Math.floor(o),d=Math.min(Math.ceil(a),e.width-1),u=Math.min(Math.ceil(o),e.height-1);t.data[s++]=n(0,a,l,d,o,c,u),t.data[s++]=n(1,a,l,d,o,c,u),t.data[s++]=n(2,a,l,d,o,c,u),t.data[s++]=n(3,a,l,d,o,c,u)}}var yk=ok(function(e,t,r,a){let n;switch(a=a||"bilinear-interpolation"){case"nearest-neighbor":n=xk;break;case"bilinear-interpolation":case"biliniear-interpolation":n=bk;break;default:throw new Error(`Unknown algorithm: ${a}`)}const s=new fk(t,r);return n(e,s),s});class kk{initialize(){return[27,64,28,46,27,77,0]}font(e){return[27,77,e.charCodeAt(0)-65]}align(e){let t=0;return"center"===e?t=1:"right"===e&&(t=2),[27,97,t]}barcode(e,t,r){let a=[];const n={upca:0,upce:1,ean13:2,ean8:3,code39:4,coda39:4,itf:5,"interleaved-2-of-5":5,"nw-7":6,codabar:6,code93:72,code128:73,"gs1-128":72,"gs1-databar-omni":75,"gs1-databar-truncated":76,"gs1-databar-limited":77,"gs1-databar-expanded":78,"code128-auto":79};if(void 0===n[t])throw new Error("Symbology not supported by printer");if(r.width<1||r.width>3)throw new Error("Width must be between 1 and 3");let s=r.width+1;"itf"===t&&(s=2*r.width),"gs1-128"!==t&&"gs1-databar-omni"!=t&&"gs1-databar-truncated"!=t&&"gs1-databar-limited"!=t&&"gs1-databar-expanded"!=t||(s=r.width),a.push(29,104,r.height,29,119,s,29,72,r.text?2:0),"code128"!=t||e.startsWith("{")||(e="{B"+e),"gs1-128"==t&&(e=e.replace(/[\(\)\*]/g,""));const i=pk.encode(e,"ascii");return n[t]>64?a.push(29,107,n[t],i.length,...i):a.push(29,107,n[t],...i,0),a}qrcode(e,t){let r=[];const a={1:49,2:50};if(!(t.model in a))throw new Error("Model must be 1 or 2");if(r.push(29,40,107,4,0,49,65,a[t.model],0),"number"!=typeof t.size)throw new Error("Size must be a number");if(t.size<1||t.size>8)throw new Error("Size must be between 1 and 8");r.push(29,40,107,3,0,49,67,t.size);const n={l:48,m:49,q:50,h:51};if(!(t.errorlevel in n))throw new Error("Error level must be l, m, q or h");r.push(29,40,107,3,0,49,69,n[t.errorlevel]);const s=pk.encode(e,"iso8859-1"),i=s.length+3;return r.push(29,40,107,255&i,i>>8&255,49,80,48,...s),r.push(29,40,107,3,0,49,81,48),r}pdf417(e,t){let r=[];if("number"!=typeof t.columns)throw new Error("Columns must be a number");if(0!==t.columns&&(t.columns<1||t.columns>30))throw new Error("Columns must be 0, or between 1 and 30");if(r.push(29,40,107,3,0,48,65,t.columns),"number"!=typeof t.rows)throw new Error("Rows must be a number");if(0!==t.rows&&(t.rows<3||t.rows>90))throw new Error("Rows must be 0, or between 3 and 90");if(r.push(29,40,107,3,0,48,66,t.rows),"number"!=typeof t.width)throw new Error("Width must be a number");if(t.width<2||t.width>8)throw new Error("Width must be between 2 and 8");if(r.push(29,40,107,3,0,48,67,t.width),"number"!=typeof t.height)throw new Error("Height must be a number");if(t.height<2||t.height>8)throw new Error("Height must be between 2 and 8");if(r.push(29,40,107,3,0,48,68,t.height),"number"!=typeof t.errorlevel)throw new Error("Errorlevel must be a number");if(t.errorlevel<0||t.errorlevel>8)throw new Error("Errorlevel must be between 0 and 8");r.push(29,40,107,4,0,48,69,48,t.errorlevel+48),r.push(29,40,107,3,0,48,70,t.truncated?1:0);const a=pk.encode(e,"ascii"),n=a.length+3;return r.push(29,40,107,255&n,n>>8&255,48,80,48,...a),r.push(29,40,107,3,0,48,81,48),r}image(e,t,r,a){let n=[];const s=(a,n)=>a<t&&n<r?e.data[4*(t*n+a)]>0?0:1:0;return"column"==a&&(n.push(27,51,36),((e,t)=>{const r=[];for(let a=0;a<Math.ceil(t/24);a++){const t=new Uint8Array(3*e);for(let r=0;r<e;r++)for(let e=0;e<3;e++)for(let n=0;n<8;n++)t[3*r+e]|=s(r,24*a+n+8*e)<<7-n;r.push(t)}return r})(t,r).forEach(e=>{n.push(27,42,33,255&t,t>>8&255,...e,10)}),n.push(27,50)),"raster"==a&&n.push(29,118,48,0,t>>3&255,t>>3>>8&255,255&r,r>>8&255,...((e,t)=>{const r=new Uint8Array(e*t>>3);for(let a=0;a<t;a++)for(let t=0;t<e;t+=8)for(let n=0;n<8;n++)r[a*(e>>3)+(t>>3)]|=s(t+n,a)<<7-n;return r})(t,r)),n}cut(e){let t=0;return"partial"==e&&(t=1),[29,86,t]}pulse(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=100),void 0===r&&(r=500),[27,112,e?1:0,255&(t=Math.min(500,Math.round(t/2))),255&(r=Math.min(500,Math.round(r/2)))]}bold(e){let t=0;return e&&(t=1),[27,69,t]}underline(e){let t=0;return e&&(t=1),[27,45,t]}italic(e){let t=0;return e&&(t=1),[27,52,t]}invert(e){let t=0;return e&&(t=1),[29,66,t]}size(e,t){return[29,33,t-1|e-1<<4]}codepage(e){return[27,116,e]}flush(){return[]}}class vk{initialize(){return[27,64,24]}font(e){let t=0;return"B"===e&&(t=1),"C"===e&&(t=2),[27,30,70,t]}align(e){let t=0;return"center"===e?t=1:"right"===e&&(t=2),[27,29,97,t]}barcode(e,t,r){let a=[];const n={upce:0,upca:1,ean8:2,ean13:3,code39:4,itf:5,"interleaved-2-of-5":5,code128:6,code93:7,"nw-7":8,codabar:8,"gs1-128":9,"gs1-databar-omni":10,"gs1-databar-truncated":11,"gs1-databar-limited":12,"gs1-databar-expanded":13};if(void 0===n[t])throw new Error("Symbology not supported by printer");if(r.width<1||r.width>3)throw new Error("Width must be between 1 and 3");"code128"===t&&e.startsWith("{")&&(e=e.slice(2));const s=pk.encode(e,"ascii");return a.push(27,98,n[t],r.text?2:1,r.width,r.height,...s,30),a}qrcode(e,t){let r=[];const a={1:1,2:2};if(!(t.model in a))throw new Error("Model must be 1 or 2");if(r.push(27,29,121,83,48,a[t.model]),"number"!=typeof t.size)throw new Error("Size must be a number");if(t.size<1||t.size>8)throw new Error("Size must be between 1 and 8");r.push(27,29,121,83,50,t.size);const n={l:0,m:1,q:2,h:3};if(!(t.errorlevel in n))throw new Error("Error level must be l, m, q or h");r.push(27,29,121,83,49,n[t.errorlevel]);const s=pk.encode(e,"iso8859-1"),i=s.length;return r.push(27,29,121,68,49,0,255&i,i>>8&255,...s),r.push(27,29,121,80),r}pdf417(e,t){let r=[];if("number"!=typeof t.columns)throw new Error("Columns must be a number");if(0!==t.columns&&(t.columns<1||t.columns>30))throw new Error("Columns must be 0, or between 1 and 30");if("number"!=typeof t.rows)throw new Error("Rows must be a number");if(0!==t.rows&&(t.rows<3||t.rows>90))throw new Error("Rows must be 0, or between 3 and 90");if(r.push(27,29,120,83,48,1,t.rows,t.columns),"number"!=typeof t.width)throw new Error("Width must be a number");if(t.width<2||t.width>8)throw new Error("Width must be between 2 and 8");if(r.push(27,29,120,83,50,t.width),"number"!=typeof t.height)throw new Error("Height must be a number");if(t.height<2||t.height>8)throw new Error("Height must be between 2 and 8");if(r.push(27,29,120,83,51,t.height),"number"!=typeof t.errorlevel)throw new Error("Errorlevel must be a number");if(t.errorlevel<0||t.errorlevel>8)throw new Error("Errorlevel must be between 0 and 8");r.push(27,29,120,83,49,t.errorlevel);const a=pk.encode(e,"ascii"),n=a.length;return r.push(27,29,120,68,255&n,n>>8&255,...a),r.push(27,29,120,80),r}image(e,t,r,a){let n=[];const s=(r,a)=>void 0===e.data[4*(t*a+r)]||e.data[4*(t*a+r)]>0?0:1;n.push(27,48);for(let i=0;i<r/24;i++){const e=24*i,r=new Uint8Array(3*t);for(let a=0;a<t;a++){const t=3*a;r[t]=s(a,e+0)<<7|s(a,e+1)<<6|s(a,e+2)<<5|s(a,e+3)<<4|s(a,e+4)<<3|s(a,e+5)<<2|s(a,e+6)<<1|s(a,e+7),r[t+1]=s(a,e+8)<<7|s(a,e+9)<<6|s(a,e+10)<<5|s(a,e+11)<<4|s(a,e+12)<<3|s(a,e+13)<<2|s(a,e+14)<<1|s(a,e+15),r[t+2]=s(a,e+16)<<7|s(a,e+17)<<6|s(a,e+18)<<5|s(a,e+19)<<4|s(a,e+20)<<3|s(a,e+21)<<2|s(a,e+22)<<1|s(a,e+23)}n.push(27,88,255&t,t>>8&255,...r,10,13)}return n.push(27,122,1),n}cut(e){let t=0;return"partial"==e&&(t=1),[27,100,t]}pulse(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=200),void 0===r&&(r=200),[27,7,255&(t=Math.min(127,Math.round(t/10))),255&(r=Math.min(127,Math.round(r/10))),e?26:7]}bold(e){let t=70;return e&&(t=69),[27,t]}underline(e){let t=0;return e&&(t=1),[27,45,t]}italic(e){return[]}invert(e){let t=53;return e&&(t=52),[27,t]}size(e,t){return[27,105,t-1,e-1]}codepage(e){return[27,29,116,e]}flush(){return[27,29,80,48,27,29,80,49]}}class wk{constructor(a){O(this,e,{bold:!1,italic:!1,underline:!1,invert:!1,width:1,height:1}),O(this,t),O(this,r),B(this,t,structuredClone(P(this,e))),B(this,r,a.callback||(()=>{}))}store(){const r=[],a=new Map;for(const n in P(this,t))P(this,t)[n]!==P(this,e)[n]&&("width"===n||"height"===n?a.set("size",{width:P(this,e).width,height:P(this,e).height}):a.set(n,P(this,e)[n]));for(const e of a)r.push({type:"style",property:e[0],value:e[1]});return r}restore(){const r=[],a=new Map;for(const n in P(this,t))P(this,t)[n]!==P(this,e)[n]&&("width"===n||"height"===n?a.set("size",{width:P(this,t).width,height:P(this,t).height}):a.set(n,P(this,t)[n]));for(const e of a)r.push({type:"style",property:e[0],value:e[1]});return r}set bold(e){e!==P(this,t).bold&&(P(this,t).bold=e,P(this,r).call(this,{type:"style",property:"bold",value:e}))}get bold(){return P(this,t).bold}set italic(e){e!==P(this,t).italic&&(P(this,t).italic=e,P(this,r).call(this,{type:"style",property:"italic",value:e}))}get italic(){return P(this,t).italic}set underline(e){e!==P(this,t).underline&&(P(this,t).underline=e,P(this,r).call(this,{type:"style",property:"underline",value:e}))}get underline(){return P(this,t).underline}set invert(e){e!==P(this,t).invert&&(P(this,t).invert=e,P(this,r).call(this,{type:"style",property:"invert",value:e}))}get invert(){return P(this,t).invert}set width(e){e!==P(this,t).width&&(P(this,t).width=e,P(this,r).call(this,{type:"style",property:"size",value:{width:P(this,t).width,height:P(this,t).height}}))}get width(){return P(this,t).width}set height(e){e!==P(this,t).height&&(P(this,t).height=e,P(this,r).call(this,{type:"style",property:"size",value:{width:P(this,t).width,height:P(this,t).height}}))}get height(){return P(this,t).height}}e=new WeakMap,t=new WeakMap,r=new WeakMap;class jk{static wrap(e,t){const r=[];let a=[],n=t.indent||0;const s=t.width||1,i=t.columns||42,o=String(e).split(/\r\n|\n/g);for(const l of o){const e=l.match(/[^\s-]+?-\b|\S+|\s+|\r\n?|\n/g)||["~~empty~~"];for(const t of e)if("~~empty~~"!==t){if(n+t.length*s>i){if(t.length*s>i){const e=i-n,o=t.split("");let l;const c=[];for(e>8*s&&(l=o.splice(0,Math.floor(e/s)).join(""),a.push(l),r.push(a),a=[],n=0);(l=o.splice(0,Math.floor(i/s))).length;)c.push(l.join(""));for(const t of c)n+t.length*s>=i&&(r.push(a),a=[],n=0),a.push(t),n+=t.length*s;continue}r.push(a),a=[],n=0}t.match(/\s+/)&&0==n||(a.push(t),n+=t.length*s)}else r.push(a),a=[],n=0;a.length>0&&(r.push(a),a=[],n=0)}for(let l=0;l<r.length;l++)r[l]=r[l].join(""),l<r.length-1&&(r[l]=r[l].trimEnd());return r}}class Nk{constructor(e){O(this,d),O(this,a),O(this,n),O(this,s),O(this,i),O(this,o,0),O(this,l),O(this,c,[]),B(this,a,e.embedded||!1),B(this,n,e.columns||42),B(this,s,e.align||"left"),B(this,i,e.callback||(()=>{})),this.style=new wk({callback:e=>{this.add(e,0)}}),B(this,l,this.style.store())}text(e,t){const r=jk.wrap(e,{columns:P(this,n),width:this.style.width,indent:P(this,o)});for(let a=0;a<r.length;a++)r[a].length?(this.add({type:"text",value:r[a],codepage:t},r[a].length*this.style.width),a<r.length-1&&this.flush()):this.flush({forceNewline:!0})}space(e){this.add({type:"space",size:e},e)}raw(e,t){e instanceof Array&&(e=e.flat()),this.add({type:"raw",value:e},t||0)}add(e,t){t+P(this,o)>P(this,n)&&this.flush(),B(this,o,P(this,o)+t),B(this,c,P(this,c).concat(e))}end(){B(this,o,P(this,n))}fetch(e){if(0===P(this,o)&&!e.forceNewline){if(!P(this,c).length)return[];const e=T(this,d,u).call(this,[...P(this,c)]);return B(this,c,[]),e}let t=[];const r=this.style.restore(),i=this.style.store();if("right"===P(this,s)){let e;for(let t=P(this,c).length-1;t>=0;t--)if("text"===P(this,c)[t].type||"space"===P(this,c)[t].type){e=t;break}"number"==typeof e&&("space"===P(this,c)[e].type&&P(this,c)[e].size>this.style.width&&(P(this,c)[e].size-=this.style.width,B(this,o,P(this,o)-this.style.width)),"text"===P(this,c)[e].type&&P(this,c)[e].value.endsWith(" ")&&(P(this,c)[e].value=P(this,c)[e].value.slice(0,-1),B(this,o,P(this,o)-this.style.width))),t=T(this,d,u).call(this,[{type:"space",size:P(this,n)-P(this,o)},...P(this,l),...P(this,c),...i])}if("center"===P(this,s)){const e=P(this,n)-P(this,o)>>1;t=T(this,d,u).call(this,[{type:"space",size:e},...P(this,l),...P(this,c),...i,{type:"space",size:P(this,a)?P(this,n)-P(this,o)-e:0}])}return"left"===P(this,s)&&(t=T(this,d,u).call(this,[...P(this,l),...P(this,c),...i,{type:"space",size:P(this,a)?P(this,n)-P(this,o):0}])),B(this,l,r),B(this,c,[]),B(this,o,0),0===t.length&&e.forceNewline&&t.push({type:"empty"}),t}flush(e){e=Object.assign({forceNewline:!1},e||{});const t={current:P(this,s),next:null};for(let a=0;a<P(this,c).length-1;a++)"align"===P(this,c)[a].type&&(t.current=P(this,c)[a].value);if(P(this,c).length){const e=P(this,c)[P(this,c).length-1];"align"===e.type&&(t.next=e.value)}B(this,s,t.current);const r=this.fetch(e);r.length&&P(this,i).call(this,r),t.next&&B(this,s,t.next)}get cursor(){return P(this,o)}set align(e){this.add({type:"align",value:e},0)}get align(){let e=P(this,s);for(let t=0;t<P(this,c).length;t++)"align"===P(this,c)[t].type&&(e=P(this,c)[t].value);return e}set columns(e){B(this,n,e)}get columns(){return P(this,n)}}a=new WeakMap,n=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakSet,u=function(e){const t=[];let r=-1;for(let a of e){if("space"===a.type&&a.size>0&&(a={type:"text",value:" ".repeat(a.size),codepage:null}),"text"===a.type){if(r>=0&&"text"===t[r].type&&(t[r].codepage===a.codepage||null===t[r].codepage||null===a.codepage)){t[r].value+=a.value,t[r].codepage=t[r].codepage||a.codepage;continue}t.push(a),r++}"style"!==a.type&&"raw"!==a.type||(t.push(a),r++)}return t};const Ck={"esc-pos":{"bixolon/legacy":["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,,,,,,,,,,,,"cp858"],bixolon:["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,,,,,,,,,"windows1252","cp866","cp852","cp858",,"cp862","cp864","thai42","windows1253","windows1254","windows1257",,"windows1251","cp737","cp775","thai14","bixolon/hebrew","windows1255","thai11","thai18","cp885","cp857","iso8859-7","thai16","windows1256","windows1258","khmer",,,,"bixolon/cp866","windows1250",,"tcvn3","tcvn3capitals","viscii"],citizen:["cp437","epson/katakana","cp858","cp860","cp863","cp865","cp852","cp866","cp857",,,,,,,,"windows1252",,,,,"thai11",,,,,"thai13",,,,"tcvn3","tcvn3capitals","windows1258",,,,,,,,"cp864"],"epson/legacy":["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,,,,,,,,,"windows1252","cp866","cp852","cp858"],epson:["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,,,,"cp851","cp853","cp857","cp737","iso8859-7","windows1252","cp866","cp852","cp858","thai42","thai11",,,,,"thai13",,,,"tcvn3","tcvn3capitals","cp720","cp775","cp855","cp861","cp862","cp864","cp869","epson/iso8859-2","iso8859-15","cp1098","cp774","cp772","cp1125","windows1250","windows1251","windows1253","windows1254","windows1255","windows1256","windows1257","windows1258","rk1048"],fujitsu:["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,"cp857",,,,,,,,"windows1252","cp866","cp852","cp858",,,,,,,"thai13",,,,,,,,,,,,,,"cp864"],hp:["cp437","cp850","cp852","cp860","cp863","cp865","cp858","cp866","windows1252","cp862","cp737","cp874","cp857","windows1251","windows1255","rk1048"],metapace:["cp437","epson/katakana","cp850","cp860","cp863","cp865",,,,,,,,,,,,,,"cp858"],mpt:["cp437",,"cp850","cp860","cp863","cp865","windows1251","cp866","cp3021","cp3012"],"pos-5890":["cp437","epson/katakana","cp850","cp860","cp863","cp865","iso8859-1",,"cp862",,,,,,,,"windows1252","cp866","cp852","cp858",,,,"windows1251","cp737","windows1257",,"windows1258","cp864",,,,"windows1255",,,,,,,,,,,,,,,,,,,,,,,,"cp861",,,,"cp855","cp857",,,,"cp851","cp869",,"cp772","cp774",,,"windows1250",,"cp3840",,"cp3843","cp3844","cp3845","cp3846","cp3847","cp3848",,"cp771","cp3001","cp3002","cp3011","cp3012",,"cp3041","windows1253","windows1254","windows1256","cp720",,"cp775"],"pos-8360":["cp437","epson/katakana","cp850","cp860","cp863","cp865","iso8859-1","windows1253","cp862",,,,,,,,"windows1252","cp866","cp852","cp858",,"latvian",,"windows1251","cp737","windows1257",,"windows1258","cp864",,,"pos8360/hebrew","windows1255",,,,,,,,,,,,,,,,,,,,,,,,"cp861",,,,"cp855","cp857",,,,"cp851","cp869",,"cp772","cp774",,,"windows1250",,"cp3840",,"cp3843","cp3844","cp3845","cp3846","cp3847","cp3848",,"cp771","cp3001","cp3002","cp3011","cp3012",,,,"windows1254","windows1256","cp720",,"cp775"],star:["cp437","star/katakana","cp850","cp860","cp863","cp865",,,,,,,,,,,"windows1252","cp866","cp852","cp858","thai42","thai11","thai13","thai14","thai16",,"thai18"],xprinter:["cp437","epson/katakana","cp850","cp860","cp863","cp865","iso8859-1","windows1253","xprinter/hebrew","cp3012",,"windows1255",,,,,"windows1252","cp866","cp852","cp858",,"latvian","cp864","windows1251","cp737","windows1257",,,,,,,,"windows1256"],youku:["cp437","epson/katakana","cp850","cp860","cp863","cp865","windows1251","cp866","cp3021","cp3012",,,,,,"cp862","windows1252",,"cp852","cp858",,,"cp864","iso8859-1","cp737","windows1257",,,"cp855","cp857","windows1250","cp775","windows1254","windows1255","windows1256","windows1258",,,"iso8859-1",,,,,,"iso8859-15",,,"cp874"]},"star-prnt":{star:["star/standard","cp437","star/katakana",,"cp858","cp852","cp860","cp861","cp863","cp865","cp866","cp855","cp857","cp862","cp864","cp737","cp851","cp869","star/cp928","cp772","cp774","star/cp874",,,,,,,,,,,"windows1252","windows1250","windows1251",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"cp3840","cp3841","cp3843","cp3844","cp3845","cp3846","cp3847","cp3848","cp1001","cp771","cp3001","cp3002","cp3011","cp3012","cp3021","cp3041"]}};Ck["star-line"]=Ck["star-prnt"],Ck["esc-pos"].zijang=Ck["esc-pos"]["pos-5890"];const Sk={"bixolon-srp350":{vendor:"Bixolon",model:"SRP-350",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"bixolon/legacy",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"bixolon-srp350iii":{vendor:"Bixolon",model:"SRP-350III",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"bixolon",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56},C:{size:"9x24",columns:56}}},features:{cutter:{feed:4}}},"citizen-ct-s310ii":{vendor:"Citizen",model:"CT-S310II",media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"citizen",fonts:{A:{size:"12x24",columns:48},B:{size:"9x24",columns:64},C:{size:"8x16",columns:72}}},features:{cutter:{feed:3}}},"epson-tm-p20ii":{vendor:"Epson",model:"TM-P20II",media:{dpi:203,width:58},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:32},B:{size:"9x24",columns:42},C:{size:"9x17",columns:42},D:{size:"10x24",columns:38},E:{size:"8x16",columns:48}}},features:{images:{mode:"raster"},cutter:{feed:3}}},"epson-tm-t20iii":{vendor:"Epson",model:"TM-T20III",interfaces:{usb:{productName:"TM-T20III"}},media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:48},B:{size:"9x17",columns:64}}},features:{cutter:{feed:4}}},"epson-tm-t70":{vendor:"Epson",model:"TM-T70",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson/legacy",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{images:{mode:"raster"},cutter:{feed:4}}},"epson-tm-t70ii":{vendor:"Epson",model:"TM-T70II",interface:{usb:{productName:"TM-T70II"}},media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{images:{mode:"raster"},cutter:{feed:4}}},"epson-tm-t88ii":{vendor:"Epson",model:"TM-T88II",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson/legacy",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"epson-tm-t88iii":{vendor:"Epson",model:"TM-T88III",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson/legacy",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"epson-tm-t88iv":{vendor:"Epson",model:"TM-T88IV",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson/legacy",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"epson-tm-t88v":{vendor:"Epson",model:"TM-T88V",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"epson-tm-t88vi":{vendor:"Epson",model:"TM-T88VI",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"epson-tm-t88vii":{vendor:"Epson",model:"TM-T88VII",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"epson",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"fujitsu-fp1000":{vendor:"Fujitsu",model:"FP-1000",media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"fujitsu",fonts:{A:{size:"12x24",columns:48},B:{size:"9x24",columns:56},C:{size:"8x16",columns:64}}},features:{cutter:{feed:4}}},"hp-a779":{vendor:"HP",model:"A779",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"hp",newline:"\n",fonts:{A:{size:"12x24",columns:44}}},features:{cutter:{feed:4}}},"metapace-t1":{vendor:"Metapace",model:"T-1",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"metapace",fonts:{A:{size:"12x24",columns:42},B:{size:"9x17",columns:56}}},features:{cutter:{feed:4}}},"mpt-ii":{vendor:"",model:"MPT-II",media:{dpi:180,width:80},capabilities:{language:"esc-pos",codepages:"mpt",fonts:{A:{size:"12x24",columns:48},B:{size:"9x17",columns:64},C:{size:"0x0",columns:64}}}},"pos-5890":{vendor:"",model:"POS-5890",media:{dpi:203,width:58},capabilities:{language:"esc-pos",codepages:"pos-5890",fonts:{A:{size:"12x24",columns:32},B:{size:"9x17",columns:42}}},features:{images:{mode:"raster"},cutter:{feed:1}}},"pos-8360":{vendor:"",model:"POS-8360",media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"pos-8360",fonts:{A:{size:"12x24",columns:48},B:{size:"9x17",columns:64}}},features:{images:{mode:"raster"},cutter:{feed:4}}},"star-mc-print2":{vendor:"Star",model:"mC-Print2",interfaces:{usb:{productName:"mC-Print2"}},media:{dpi:203,width:58},capabilities:{language:"star-prnt",codepages:"star",fonts:{A:{size:"12x24",columns:32},B:{size:"9x24",columns:42}}},features:{cutter:{feed:3}}},"star-mpop":{vendor:"Star",model:"mPOP",interfaces:{usb:{productName:"mPOP"}},media:{dpi:203,width:58},capabilities:{language:"star-prnt",codepages:"star",fonts:{A:{size:"12x24",columns:32},B:{size:"9x24",columns:42}}},features:{cutter:{feed:3}}},"star-sm-l200":{vendor:"Star",model:"SM-L200",media:{dpi:203,width:58},capabilities:{language:"star-prnt",codepages:"star",fonts:{A:{size:"12x24",columns:32},B:{size:"9x24",columns:42},C:{size:"9x17",columns:42}}}},"star-tsp100iv":{vendor:"Star",model:"TSP100IV",media:{dpi:203,width:80},capabilities:{language:"star-prnt",codepages:"star",fonts:{A:{size:"12x24",columns:48},B:{size:"9x24",columns:64}}},features:{cutter:{feed:3}}},"star-tsp650ii":{vendor:"Star",model:"TSP650II",media:{dpi:203,width:80},capabilities:{language:"star-line",codepages:"star",fonts:{A:{size:"12x24",columns:48},B:{size:"9x24",columns:64}}},features:{cutter:{feed:3}}},"xprinter-xp-n160ii":{vendor:"Xprinter",model:"XP-N160II",interfaces:{usb:{productName:"Printer-80\0"}},media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"xprinter",fonts:{A:{size:"12x24",columns:48},B:{size:"9x17",columns:64}}},features:{cutter:{feed:4}}},"xprinter-xp-t80q":{vendor:"Xprinter",model:"XP-T80Q",media:{dpi:203,width:80},capabilities:{language:"esc-pos",codepages:"xprinter",fonts:{A:{size:"12x24",columns:48},B:{size:"9x17",columns:64}}},features:{cutter:{feed:4}}},"youku-58t":{vendor:"Youku",model:"58T",media:{dpi:203,width:58},capabilities:{language:"esc-pos",codepages:"youku",fonts:{A:{size:"12x24",columns:32},B:{size:"9x24",columns:42}}}}};h=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,f=new WeakMap,x=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,v=new WeakSet,w=function(){B(this,p,[]),B(this,y,"esc-pos"==P(this,h).language?"cp437":"star/standard"),P(this,k).codepage=0,P(this,k).font="A"},j=function(e,t){return"bold"===e?P(this,g).bold(t):"underline"===e?P(this,g).underline(t):"italic"===e?P(this,g).italic(t):"invert"===e?P(this,g).invert(t):"size"===e?P(this,g).size(t.width,t.height):void 0},N=function(e,t){if("auto"!==t){const r=pk.encode(e,t);return P(this,k).codepage!=P(this,x)[t]?(P(this,k).codepage=P(this,x)[t],[...P(this,g).codepage(P(this,x)[t]),...r]):[...r]}const r=pk.autoEncode(e,P(this,b)),a=[];for(const n of r)P(this,k).codepage=P(this,x)[n.codepage],a.push(...P(this,g).codepage(P(this,x)[n.codepage]),...n.bytes);return a};let _k=class e{constructor(e){var t,r,a,n,s;O(this,v),O(this,h,{}),O(this,p,[]),O(this,g),O(this,m),O(this,f,{A:{size:"12x24",columns:42},B:{size:"9x24",columns:56}}),O(this,x,{}),O(this,b,[]),O(this,y,"cp437"),O(this,k,{codepage:0,font:"A"});const i={columns:42,language:"esc-pos",imageMode:"column",feedBeforeCut:0,newline:"\n\r",codepageMapping:"epson",codepageCandidates:null};if("string"==typeof(e=e||{}).language&&(i.columns="esc-pos"===e.language?42:48,i.codepageMapping="esc-pos"===e.language?"epson":"star"),"string"==typeof e.printerModel){if(void 0===Sk[e.printerModel])throw new Error("Unknown printer model");const o=Sk[e.printerModel];i.columns=o.capabilities.fonts.A.columns,i.language=o.capabilities.language,i.codepageMapping=o.capabilities.codepages,i.newline=(null==(t=o.capabilities)?void 0:t.newline)||i.newline,i.feedBeforeCut=(null==(a=null==(r=o.features)?void 0:r.cutter)?void 0:a.feed)||i.feedBeforeCut,i.imageMode=(null==(s=null==(n=o.features)?void 0:n.images)?void 0:s.mode)||i.imageMode,B(this,f,o.capabilities.fonts)}if(e&&B(this,h,Object.assign(i,{debug:!1,embedded:!1,createCanvas:null},e)),P(this,h).width&&(P(this,h).columns=P(this,h).width),"esc-pos"===P(this,h).language)B(this,g,new kk);else{if("star-prnt"!==P(this,h).language&&"star-line"!==P(this,h).language)throw new Error("The specified language is not supported");B(this,g,new vk)}if(void 0===P(this,h).autoFlush&&(P(this,h).autoFlush=!P(this,h).embedded&&"star-prnt"==P(this,h).language),![32,35,42,44,48].includes(P(this,h).columns)&&!P(this,h).embedded)throw new Error("The width of the paper must me either 32, 35, 42, 44 or 48 columns");if("string"==typeof P(this,h).codepageMapping){if(void 0===Ck[P(this,h).language][P(this,h).codepageMapping])throw new Error("Unknown codepage mapping");B(this,x,Object.fromEntries(Ck[P(this,h).language][P(this,h).codepageMapping].map((e,t)=>[e,t]).filter(e=>e)))}else B(this,x,P(this,h).codepageMapping);P(this,h).codepageCandidates?B(this,b,P(this,h).codepageCandidates):B(this,b,Object.keys(P(this,x))),B(this,m,new Nk({embedded:P(this,h).embedded,columns:P(this,h).columns,align:"left",size:1,callback:e=>P(this,p).push(e)})),T(this,v,w).call(this)}initialize(){if(P(this,h).embedded)throw new Error("Initialize is not supported in table cells or boxes");return P(this,m).raw(P(this,g).initialize()),this}codepage(e){if("auto"===e)return B(this,y,e),this;if(!pk.supports(e))throw new Error("Unknown codepage");if(void 0===P(this,x)[e])throw new Error("Codepage not supported by printer");return B(this,y,e),this}text(e){return P(this,m).text(e,P(this,y)),this}newline(e){e=parseInt(e,10)||1;for(let t=0;t<e;t++)P(this,m).flush({forceNewline:!0});return this}line(e){return this.text(e),this.newline(),this}underline(e){return P(this,m).style.underline=void 0===e?!P(this,m).style.underline:e,this}italic(e){return P(this,m).style.italic=void 0===e?!P(this,m).style.italic:e,this}bold(e){return P(this,m).style.bold=void 0===e?!P(this,m).style.bold:e,this}invert(e){return P(this,m).style.invert=void 0===e?!P(this,m).style.invert:e,this}width(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Width must be a number");if(e<1||e>8)throw new Error("Width must be between 1 and 8");return P(this,m).style.width=e,this}height(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Height must be a number");if(e<1||e>8)throw new Error("Height must be between 1 and 8");return P(this,m).style.height=e,this}size(e,t){return"string"==typeof e?this.font("small"===e?"B":"A"):(void 0===t&&(t=e),this.width(e),this.height(t),this)}font(e){if(P(this,h).embedded)throw new Error("Changing fonts is not supported in table cells or boxes");if(P(this,m).cursor>0)throw new Error("Changing fonts is not supported in the middle of a line");const t=e.match(/^[0-9]+x[0-9]+$/);if(t&&(e=Object.entries(P(this,f)).find(e=>e[1].size==t[0])[0]),e=e.toUpperCase(),void 0===P(this,f)[e])throw new Error("Unsuppored font");return P(this,m).raw(P(this,g).font(e)),P(this,k).font=e,P(this,m).columns="A"===e?P(this,h).columns:P(this,h).columns/P(this,f).A.columns*P(this,f)[e].columns,this}align(e){if(!["left","center","right"].includes(e))throw new Error("Unknown alignment");return P(this,m).align=e,this}table(t,r){P(this,m).flush();for(let a=0;a<r.length;a++){const n=[];let s=0;for(let i=0;i<t.length;i++){const o=new e(Object.assign({},P(this,h),{width:t[i].width,embedded:!0}));o._codepage=P(this,y),o.align(t[i].align),"string"==typeof r[a][i]&&o.text(r[a][i]),"function"==typeof r[a][i]&&r[a][i](o);const l=o.commands();s=Math.max(s,l.length),n[i]=l}for(let e=0;e<t.length;e++)if(!(n[e].length>=s))for(let r=n[e].length;r<s;r++){let r="top";void 0!==t[e].verticalAlign&&(r=t[e].verticalAlign);const a={commands:[{type:"space",size:t[e].width}],height:1};"bottom"==r?n[e].unshift(a):n[e].push(a)}for(let e=0;e<s;e++){for(let r=0;r<t.length;r++)void 0!==t[r].marginLeft&&P(this,m).space(t[r].marginLeft),P(this,m).add(n[r][e].commands,t[r].width),void 0!==t[r].marginRight&&P(this,m).space(t[r].marginRight);P(this,m).flush()}}return this}rule(e){return e=Object.assign({style:"single",width:P(this,h).columns||10},e||{}),P(this,m).flush(),P(this,m).text(("double"===e.style?"":"").repeat(e.width),"cp437"),P(this,m).flush(),this}box(t,r){if((t=Object.assign({style:"single",width:P(this,h).columns,marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},t||{})).width+t.marginLeft+t.marginRight>P(this,h).columns)throw new Error("Box is too wide");let a;"single"==t.style?a=["","","","","",""]:"double"==t.style&&(a=["","","","","",""]);const n=new e(Object.assign({},P(this,h),{width:t.width-("none"==t.style?0:2)-t.paddingLeft-t.paddingRight,embedded:!0}));n.codepage(P(this,y)),n.align(t.align),"function"==typeof r&&r(n),"string"==typeof r&&n.text(r);const s=n.commands();P(this,m).flush(),"none"!=t.style&&(P(this,m).space(t.marginLeft),P(this,m).text(a[0],"cp437"),P(this,m).text(a[4].repeat(t.width-2),"cp437"),P(this,m).text(a[1],"cp437"),P(this,m).space(t.marginRight),P(this,m).flush());for(let e=0;e<s.length;e++)P(this,m).space(t.marginLeft),"none"!=t.style&&(P(this,m).style.height=s[e].height,P(this,m).text(a[5],"cp437"),P(this,m).style.height=1),P(this,m).space(t.paddingLeft),P(this,m).add(s[e].commands,t.width-("none"==t.style?0:2)-t.paddingLeft-t.paddingRight),P(this,m).space(t.paddingRight),"none"!=t.style&&(P(this,m).style.height=s[e].height,P(this,m).text(a[5],"cp437"),P(this,m).style.height=1),P(this,m).space(t.marginRight),P(this,m).flush();return"none"!=t.style&&(P(this,m).space(t.marginLeft),P(this,m).text(a[2],"cp437"),P(this,m).text(a[4].repeat(t.width-2),"cp437"),P(this,m).text(a[3],"cp437"),P(this,m).space(t.marginRight),P(this,m).flush()),this}barcode(e,t,r){let a={height:60,width:2,text:!1};if("object"==typeof r&&(a=Object.assign(a,r)),"number"==typeof r&&(a.height=r),P(this,h).embedded)throw new Error("Barcodes are not supported in table cells or boxes");return P(this,m).flush(),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align(P(this,m).align)),P(this,m).raw(P(this,g).barcode(e,t,a)),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align("left")),P(this,m).flush(),this}qrcode(e,t,r,a){let n={model:2,size:6,errorlevel:"m"};if("object"==typeof t&&(n=Object.assign(n,t)),"number"==typeof t&&(n.model=t),"number"==typeof r&&(n.size=r),"string"==typeof a&&(n.errorlevel=a),P(this,h).embedded)throw new Error("QR codes are not supported in table cells or boxes");return P(this,m).flush(),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align(P(this,m).align)),P(this,m).raw(P(this,g).qrcode(e,n)),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align("left")),P(this,m).flush(),this}pdf417(e,t){if(t=Object.assign({width:3,height:3,columns:0,rows:0,errorlevel:1,truncated:!1},t||{}),P(this,h).embedded)throw new Error("PDF417 codes are not supported in table cells or boxes");return P(this,m).flush(),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align(P(this,m).align)),P(this,m).raw(P(this,g).pdf417(e,t)),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align("left")),P(this,m).flush(),this}image(e,t,r,a,n){if(P(this,h).embedded)throw new Error("Images are not supported in table cells or boxes");if(t%8!=0)throw new Error("Width must be a multiple of 8");if(r%8!=0)throw new Error("Height must be a multiple of 8");void 0===a&&(a="threshold"),void 0===n&&(n=128);const s=e.constructor.name;let i,o;if(s.endsWith("Element")&&(i="element"),"ImageData"==s&&(i="imagedata"),"Canvas"==s&&void 0!==e.getContext&&(i="node-canvas"),"Image"==s&&(i="node-canvas-image"),"Image"==s&&void 0!==e.frames&&(i="node-read-image"),"Object"==s&&e.data&&e.info&&(i="node-sharp"),"View3duint8"==s&&e.data&&e.shape&&(i="ndarray"),"Object"==s&&e.data&&e.width&&e.height&&(i="object"),!i)throw new Error("Could not determine the type of image input");if("element"==i){const a=document.createElement("canvas");a.width=t,a.height=r;const n=a.getContext("2d");n.drawImage(e,0,0,t,r),o=n.getImageData(0,0,t,r)}if("node-canvas"==i&&(o=e.getContext("2d").getImageData(0,0,e.width,e.height)),"node-canvas-image"==i){if("function"!=typeof P(this,h).createCanvas)throw new Error("Canvas is not supported in this environment, specify a createCanvas function in the options");const a=P(this,h).createCanvas(t,r).getContext("2d");a.drawImage(e,0,0,t,r),o=a.getImageData(0,0,t,r)}if("node-read-image"==i&&(o=new mk(e.width,e.height),o.data.set(e.frames[0].data)),"node-sharp"==i&&(o=new mk(e.info.width,e.info.height),o.data.set(e.data)),"ndarray"==i&&(o=new mk(e.shape[0],e.shape[1]),o.data.set(e.data)),"object"==i&&(o=new mk(e.width,e.height),o.data.set(e.data)),"imagedata"==i&&(o=e),!o)throw new Error("Image could not be loaded");if(t===o.width&&r===o.height||(o=yk(o,t,r,"bilinear-interpolation")),t!==o.width||r!==o.height)throw new Error("Image could not be resized");switch(o=ck.flatten(o,[255,255,255]),a){case"threshold":o=lk.threshold(o,n);break;case"bayer":o=lk.bayer(o,n);break;case"floydsteinberg":o=lk.floydsteinberg(o);break;case"atkinson":o=lk.atkinson(o)}return P(this,m).flush(),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align(P(this,m).align)),P(this,m).raw(P(this,g).image(o,t,r,P(this,h).imageMode)),"left"!==P(this,m).align&&P(this,m).raw(P(this,g).align("left")),P(this,m).flush(),this}cut(e){if(P(this,h).embedded)throw new Error("Cut is not supported in table cells or boxes");P(this,m).flush();for(let t=0;t<P(this,h).feedBeforeCut;t++)P(this,m).flush({forceNewline:!0});return P(this,m).raw(P(this,g).cut(e)),P(this,m).flush(),this}pulse(e,t,r){if(P(this,h).embedded)throw new Error("Pulse is not supported in table cells or boxes");return P(this,m).flush(),P(this,m).raw(P(this,g).pulse(e,t,r)),P(this,m).flush(),this}raw(e){return P(this,m).raw(e),this}commands(){const e=[],t=P(this,m).fetch(!0);for(t.length&&P(this,p).push(t),P(this,h).autoFlush&&!P(this,h).embedded&&P(this,p).push(P(this,g).flush());P(this,p).length;){const t=P(this,p).shift(),r=t.filter(e=>"style"===e.type&&"size"===e.property).map(e=>e.value.height).reduce((e,t)=>Math.max(e,t),1);P(this,h).debug,e.push({commands:t,height:r})}return T(this,v,w).call(this),e}encode(){const e=this.commands(),t=[];for(const r of e){for(const e of r.commands)"raw"===e.type&&t.push(e.value),"text"===e.type&&t.push(T(this,v,N).call(this,e.value,e.codepage)),"style"===e.type&&t.push(T(this,v,j).call(this,e.property,e.value));"\n\r"===P(this,h).newline&&t.push([10,13]),"\n"===P(this,h).newline&&t.push([10])}return Uint8Array.from(t.flat())}static get printerModels(){return Object.entries(Sk).map(e=>({id:e[0],name:e[1].vendor+" "+e[1].model}))}get columns(){return P(this,m).columns}get language(){return P(this,h).language}};class Ek extends _k{constructor(e){(e=e||{}).language="esc-pos",super(e)}}const Pk=new class{constructor(){_(this,"device",null),_(this,"server",null),_(this,"service",null),_(this,"characteristic",null),_(this,"encoder"),_(this,"reconnectAttempts",0),_(this,"maxReconnectAttempts",3),_(this,"isPrinting",!1),_(this,"keepAliveInterval",null),_(this,"lastPrintTime",0),_(this,"connectionPromise",null),_(this,"disconnectRequested",!1),_(this,"printQueue",[]),_(this,"isProcessingQueue",!1),_(this,"maxQueueSize",50),this.encoder=new Ek}sanitizeText(e){if(null==e)return"";return String(e).replace(/[^\x20-\x7E\n\r\t\s]/g,"").replace(/[]/g,"").replace(/[^\w\s\-.,!?$%&*()@#\/\\:]/g,"").trim()}formatPrice(e){if(null==e)return"0.00";const t=Number(e);return isNaN(t)?"0.00":t.toFixed(2)}formatDate(e){return`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`}formatTime(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}async scanForPrinters(){try{const e=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["000018f0-0000-1000-8000-00805f9b34fb","00001800-0000-1000-8000-00805f9b34fb"]});return[{id:e.id,name:e.name||"Unknown Printer"}]}catch(e){return[]}}async connect(e){if(this.connectionPromise)return this.connectionPromise;this.connectionPromise=this._connect(e);const t=await this.connectionPromise;return this.connectionPromise=null,t}async _connect(e){var t;try{await this.disconnect(),this.disconnectRequested=!1,this.device=await navigator.bluetooth.requestDevice({filters:[{name:e}],optionalServices:["000018f0-0000-1000-8000-00805f9b34fb","00001800-0000-1000-8000-00805f9b34fb"]}),this.device.addEventListener("gattserverdisconnected",()=>{this.disconnectRequested||(this.server=null,this.service=null,this.characteristic=null)});const a=await(null==(t=this.device.gatt)?void 0:t.connect());if(!a)throw new Error("Failed to connect to GATT server");this.server=a;try{this.service=await this.server.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb")}catch(Vk){try{this.service=await this.server.getPrimaryService("00001800-0000-1000-8000-00805f9b34fb")}catch(r){throw new Error("Could not find printer service")}}const n=await this.service.getCharacteristics();for(const e of n){if(e.properties.writeWithoutResponse){this.characteristic=e;break}e.properties.write&&(this.characteristic=e)}if(!this.characteristic)throw new Error("No writable characteristic found");return this.startKeepAlive(),this.reconnectAttempts=0,!0}catch(a){return await this.cleanup(),!1}}startKeepAlive(){this.stopKeepAlive(),this.keepAliveInterval=setInterval(async()=>{if(this.isConnected()&&this.characteristic&&!this.isPrinting&&!this.isProcessingQueue)try{const e=new Uint8Array([0]);await this.characteristic.writeValue(e)}catch(e){}},3e4)}stopKeepAlive(){this.keepAliveInterval&&(clearInterval(this.keepAliveInterval),this.keepAliveInterval=null)}async cleanup(){this.stopKeepAlive(),this.server=null,this.service=null,this.characteristic=null}async ensureConnection(){var e;if(this.isConnected()&&this.characteristic)return!0;if(this.device&&!this.disconnectRequested)try{const t=await(null==(e=this.device.gatt)?void 0:e.connect());if(t){this.server=t;try{this.service=await this.server.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb")}catch(Vk){this.service=await this.server.getPrimaryService("00001800-0000-1000-8000-00805f9b34fb")}if(!this.service)throw new Error("Could not find printer service");const e=await this.service.getCharacteristics();for(const t of e)if(t.properties.writeWithoutResponse||t.properties.write){this.characteristic=t;break}if(!this.characteristic)throw new Error("No writable characteristic found");return this.startKeepAlive(),!0}}catch(t){return!1}return!1}isConnected(){var e;return(null==(e=this.server)?void 0:e.connected)||!1}async disconnect(){var e;this.disconnectRequested=!0,this.stopKeepAlive(),this.clearQueue(),this.device&&this.device.removeEventListener("gattserverdisconnected",()=>{});try{(null==(e=this.server)?void 0:e.connected)&&await this.server.disconnect()}catch(Vk){}await this.cleanup(),this.device=null}clearQueue(){this.printQueue.forEach(e=>{e.reject(new Error("Printer disconnected - queue cleared"))}),this.printQueue=[]}getQueueSize(){return this.printQueue.length}isBusy(){return this.isPrinting||this.isProcessingQueue||this.printQueue.length>0}async processNextJob(){if(!this.isProcessingQueue&&0!==this.printQueue.length){for(this.isProcessingQueue=!0;this.printQueue.length>0;){const t=this.printQueue[0];try{if(!(await this.ensureConnection()))throw new Error("Printer not connected");if(!this.characteristic)throw new Error("No writable characteristic found");await this.executePrint(t.order,t.restaurant)?t.resolve(!0):t.reject(new Error("Print failed")),this.printQueue.shift(),this.printQueue.length>0&&await new Promise(e=>setTimeout(e,2e3))}catch(e){t.reject(e),this.printQueue.shift(),await new Promise(e=>setTimeout(e,3e3))}}this.isProcessingQueue=!1}}async executePrint(e,t){try{const r=new Date(e.timestamp),a=this.formatDate(r),n=this.formatTime(r),s=this.sanitizeText(null==t?void 0:t.name)||"RESTAURANT",i=this.sanitizeText(e.id)||"ORDER",o=this.sanitizeText(e.tableNumber)||"0",l=this.sanitizeText(e.remark);let c=this.encoder.initialize().align("center").size(2,2).line(s).size(1,1).line("=".repeat(32)).align("left").line(`${a} ${n} | #${i}`);e.tableNumber&&(c=c.line("").line(`Table: ${o}`)),c=c.line("-".repeat(32)),e.items&&Array.isArray(e.items)&&e.items.length>0?e.items.forEach(e=>{const t=this.sanitizeText(e.name)||"ITEM",r=e.quantity||1;if(c=c.line(`${r}x ${t}`),e.selectedSize){const t=this.sanitizeText(e.selectedSize);t&&(c=c.line(`   ${t}`))}if(e.selectedTemp){const t=this.sanitizeText(e.selectedTemp);t&&(c=c.line(`   ${t}`))}if(e.selectedOtherVariant){const t=this.sanitizeText(e.selectedOtherVariant);t&&(c=c.line(`   ${t}`))}e.selectedAddOns&&Array.isArray(e.selectedAddOns)&&e.selectedAddOns.length>0&&e.selectedAddOns.forEach(e=>{const t=this.sanitizeText(e.name)||"ADDON",r=e.quantity||1;c=r>1?c.line(`   + ${t} x${r}`):c.line(`   + ${t}`)}),c=c.line("")}):c=c.line("No items").line(""),l&&(c=c.line("-".repeat(32)).line("Note:").line(l).line(""));const d=this.formatPrice(e.total);c=c.line("-".repeat(32)).align("right").line(`TOTAL: RM ${d}`).align("center").line("=".repeat(32)).line("Thank you!").line("Please come again").newline().newline().cut();const u=c.encode();await this.characteristic.writeValue(u),await new Promise(e=>setTimeout(e,3e3));const h=new Uint8Array([27,64]);return await this.characteristic.writeValue(h),await new Promise(e=>setTimeout(e,1e3)),this.lastPrintTime=Date.now(),!0}catch(r){try{if(this.characteristic){const e=new Uint8Array([27,64]);await this.characteristic.writeValue(e)}}catch(a){}return!1}}async printTestPage(){if(this.isPrinting)return new Promise((e,t)=>{const r={id:"TEST",tableNumber:"TEST",timestamp:Date.now(),total:0,items:[],remark:""};this.printQueue.push({id:`test-${Date.now()}`,order:r,restaurant:{name:"QUICKSERVE"},resolve:e,reject:t,timestamp:Date.now()}),this.processNextJob()});this.isPrinting=!0;try{if(!(await this.ensureConnection()))throw new Error("Printer not connected");if(!this.characteristic)throw new Error("No writable characteristic found");const e=new Date,t=this.encoder.initialize().align("center").size(2,2).line("QUICKSERVE").size(1,1).line("=".repeat(32)).line("TEST PAGE").line("").line(this.formatDate(e)+" "+this.formatTime(e)).line("").line("Printer is working!").line("=".repeat(32)).cut().encode();await this.characteristic.writeValue(t),await new Promise(e=>setTimeout(e,2e3));const r=new Uint8Array([27,64]);return await this.characteristic.writeValue(r),this.lastPrintTime=Date.now(),!0}catch(e){return!1}finally{this.isPrinting=!1}}async printReceipt(e,t){return!(this.printQueue.length>=this.maxQueueSize)&&new Promise((r,a)=>{const n=`job-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;this.printQueue.push({id:n,order:{...e},restaurant:{...t},resolve:r,reject:a,timestamp:Date.now()}),this.processNextJob()})}getConnectionStatus(){var e;return{connected:this.isConnected(),deviceName:null==(e=this.device)?void 0:e.name,hasCharacteristic:!!this.characteristic,isPrinting:this.isPrinting,isProcessingQueue:this.isProcessingQueue,queueSize:this.printQueue.length,lastPrintTime:this.lastPrintTime}}},Ok=["Item out of stock","Kitchen too busy","Restaurant closed early","Other"],Bk=({restaurant:e,orders:t,onUpdateOrder:r,onUpdateMenu:a,onAddMenuItem:n,onPermanentDeleteMenuItem:s,onToggleOnline:i,lastSyncTime:o,onFetchPaginatedOrders:l,onFetchAllFilteredOrders:c,onSwitchToPos:d})=>{var u,h,p,g,m,f;const[x,b]=ve.useState("ORDERS"),[y,k]=ve.useState(!1),[v,w]=ve.useState("ONGOING_ALL"),[j,N]=ve.useState(null),[C,S]=ve.useState(!1),[_,E]=ve.useState("IDLE"),[P,O]=ve.useState(null),[B,T]=ve.useState("KITCHEN"),[R,A]=ve.useState(!1),[z,I]=ve.useState(!1),[L,M]=ve.useState(""),[$,U]=ve.useState(""),[F,q]=ve.useState(!1),[V,H]=ve.useState([]),[K,G]=ve.useState([]),[W,Q]=ve.useState("list"),[J,X]=ve.useState(null),[Y,Z]=ve.useState(""),[ee,te]=ve.useState(null),[re,ae]=ve.useState("list"),[ne,se]=ve.useState(null),[ie,oe]=ve.useState(null),[le,ce]=ve.useState([]),[de,ue]=ve.useState(""),[he,pe]=ve.useState("SINGLE"),[ge,me]=ve.useState("1"),[fe,xe]=ve.useState("1"),[be,ye]=ve.useState("10"),[ke,we]=ve.useState(null),[je,Ne]=ve.useState(Ok[0]),[Ce,Se]=ve.useState(""),[_e,Ee]=ve.useState("grid"),[Pe,Oe]=ve.useState("All"),[Be,Te]=ve.useState("ACTIVE"),[Re,Ae]=ve.useState(""),[ze,Ie]=ve.useState("ALL"),[Le,Me]=ve.useState(()=>{const e=new Date;return e.setDate(e.getDate()-30),e.toISOString().split("T")[0]}),[De,$e]=ve.useState(()=>(new Date).toISOString().split("T")[0]),[Ue,Fe]=ve.useState(30),[qe,Ve]=ve.useState(1),[He,Ke]=ve.useState(null),[Ge,We]=ve.useState(null),[Qe,Je]=ve.useState(!1),[Xe,Ye]=ve.useState(!0),[Ze,et]=ve.useState(!1),[tt,rt]=ve.useState([]),[at,nt]=ve.useState(null),[st,it]=ve.useState("disconnected"),[ot,lt]=ve.useState(""),[ct,dt]=ve.useState("idle"),[ut,ht]=ve.useState(()=>{const t=localStorage.getItem(`order_settings_${e.id}`);return t?JSON.parse(t):{autoAccept:!1,autoPrint:!1}}),[pt,gt]=ve.useState(!1),mt=ve.useMemo(()=>t.filter(e=>e.status===Rg.PENDING),[t]),ft=ve.useRef(mt.length);ve.useEffect(()=>{if(e.categories&&e.categories.length>0)H(e.categories);else{const t=localStorage.getItem(`categories_${e.id}`);t&&H(JSON.parse(t))}if(e.modifiers&&e.modifiers.length>0)G(e.modifiers);else{const t=localStorage.getItem(`modifiers_${e.id}`);t&&G(JSON.parse(t))}},[e.id,e.categories,e.modifiers]);ve.useEffect(()=>{localStorage.setItem(`categories_${e.id}`,JSON.stringify(V)),(async t=>{try{const{error:r}=await ik.from("restaurants").update({categories:t}).eq("id",e.id)}catch(r){}})(V)},[V,e.id]),ve.useEffect(()=>{localStorage.setItem(`modifiers_${e.id}`,JSON.stringify(K)),(async t=>{try{const{error:r}=await ik.from("restaurants").update({modifiers:t}).eq("id",e.id)}catch(r){}})(K)},[K,e.id]),ve.useEffect(()=>{if(mt.length>ft.current&&(St(),gt(!0),setTimeout(()=>gt(!1),5e3),ut.autoAccept)){t.filter(e=>e.status===Rg.PENDING&&e.timestamp>ft.current).forEach(e=>{qt(e.id)})}ft.current=mt.length},[mt.length]),ve.useEffect(()=>{"bluetooth"in navigator&&navigator.bluetooth||(Ye(!1),lt("Web Bluetooth is not supported in this browser. Please use Chrome, Edge, or Opera."))},[]),ve.useEffect(()=>{const t=localStorage.getItem(`printer_${e.id}`);if(t)try{const e=JSON.parse(t);nt(e),it("connected")}catch(Vk){}},[e.id]),ve.useEffect(()=>{localStorage.setItem(`order_settings_${e.id}`,JSON.stringify(ut))},[ut,e.id]);const[xt,bt]=ve.useState({name:"",description:"",price:0,image:"",category:"Main Dish",sizes:[],sizesEnabled:!1,otherVariantName:"",otherVariants:[],otherVariantsEnabled:!1,tempOptions:{enabled:!1,hot:0,cold:0},addOns:[]}),yt=ve.useRef(null),kt=ve.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return V.forEach(e=>t.add(e.name)),["All",...Array.from(t)]},[e.menu,V]),vt=t.filter(e=>"ALL"===v||("ONGOING_ALL"===v?e.status===Rg.PENDING||e.status===Rg.ONGOING:e.status===v)),wt=e.menu.filter(e=>{const t="ACTIVE"===Be?!e.isArchived:!!e.isArchived,r="All"===Pe||e.category===Pe;return t&&r}),jt=async(t=!1)=>{t||Je(!0);try{const r={restaurantId:e.id,startDate:Le,endDate:De,status:ze,search:Re};if(t&&c){return await c(r)}if(!t&&l){const e=await l(r,qe,Ue);return void We(e)}const a=new URLSearchParams({...r,page:t?"1":qe.toString(),limit:t?"10000":Ue.toString()}),n=await fetch(`/api/orders/report?${a.toString()}`);if(!n.ok)throw new Error("Failed to fetch report");const s=await n.json();if(t)return s.orders;We(s)}catch(r){}finally{t||Je(!1)}};ve.useEffect(()=>{"REPORTS"===x&&jt()},[x,Le,De,ze,Re,qe,Ue]),ve.useEffect(()=>{Ve(1)},[Ue,ze,Le,De,Re]);const Nt=Ge?Math.ceil(Ge.totalCount/Ue):0,Ct=(null==Ge?void 0:Ge.orders)||[],St=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),r.gain.setValueAtTime(0,e.currentTime),r.gain.linearRampToValueAtTime(.2,e.currentTime+.1),r.gain.linearRampToValueAtTime(0,e.currentTime+.8),t.start(),t.stop(e.currentTime+.8)}catch(Vk){}gt(!0),setTimeout(()=>gt(!1),5e3)},_t=e=>{N(null),bt({name:"",description:"",price:0,image:"",category:e||"Main Dish",sizes:[],sizesEnabled:!1,otherVariantName:"",otherVariants:[],otherVariantsEnabled:!1,tempOptions:{enabled:!1,hot:0,cold:0},addOns:[]}),S(!0)},Et=e=>{N(e),bt({...e,sizes:e.sizes?[...e.sizes]:[],sizesEnabled:!!(e.sizes&&e.sizes.length>0),otherVariantName:e.otherVariantName||"",otherVariants:e.otherVariants?[...e.otherVariants]:[],otherVariantsEnabled:!!e.otherVariantsEnabled,tempOptions:e.tempOptions?{...e.tempOptions}:{enabled:!1,hot:0,cold:0},addOns:e.addOns?[...e.addOns]:[]}),S(!0)},Pt=(e,t,r)=>{const a=[...xt.sizes||[]];a[e]={...a[e],[t]:r},bt({...xt,sizes:a})},Ot=(e,t,r)=>{const a=[...xt.otherVariants||[]];a[e]={...a[e],[t]:r},bt({...xt,otherVariants:a})},Bt=(e,t,r)=>{const a=[...xt.addOns||[]];a[e]={...a[e],[t]:r},bt({...xt,addOns:a})},Tt=t=>{a(e.id,{...t,isArchived:!0})},Rt=t=>{a(e.id,{...t,isArchived:!1})},At=()=>{L.trim()&&(kt.includes(L.trim())?alert("Category already exists."):(H(e=>[...e,{name:L.trim(),skipKitchen:F}]),M(""),q(!1),A(!1)))},zt=e=>{H(t=>t.map(t=>t.name===e?{...t,skipKitchen:!t.skipKitchen}:t)),te(null)},It=(t,r)=>{if(!r.trim()||t===r)return void X(null);H(e=>e.map(e=>e.name===t?{...e,name:r}:e));e.menu.filter(e=>e.category===t).forEach(t=>{a(e.id,{...t,category:r})}),X(null)},Lt=t=>{if(confirm(`Are you sure you want to remove the "${t}" category? Items in this category will be moved to "Main Dish".`)){H(e=>e.filter(e=>e.name!==t));e.menu.filter(e=>e.category===t).forEach(t=>{a(e.id,{...t,category:"Main Dish"})})}},Mt=(e,t,r)=>{const a=[...le];a[e]={...a[e],[t]:r},ce(a)},Dt=e=>{se(e.name),ue(e.name),ce([...e.options]),I(!0)},$t=e=>{confirm(`Are you sure you want to remove the "${e}" modifier?`)&&G(t=>t.filter(t=>t.name!==e))},Ut=(e,t)=>{t.trim()&&e!==t?(G(r=>r.map(r=>r.name===e?{...r,name:t}:r)),se(null)):se(null)},Ft=(e,t)=>`${window.location.origin+window.location.pathname}?loc=${encodeURIComponent(e)}&table=${t}`,qt=async t=>{if(await r(t,Rg.ONGOING),ut.autoPrint){if(!at)return void alert("Printer is not connected. Please connect a printer in Settings.");try{O(t);const{data:r,error:a}=await ik.from("orders").select("*").eq("id",t).single();if(a||!r)return void alert("Failed to fetch order details for printing.");const n={id:r.id,tableNumber:r.table_number,timestamp:r.timestamp,total:Number(r.total||0),items:Array.isArray(r.items)?r.items:"string"==typeof r.items?JSON.parse(r.items):[],remark:r.remark||""};await Pk.printReceipt(n,e)||alert("Failed to queue print job. Please try again.")}catch(a){alert("Error occurred while printing.")}finally{O(null)}}},Vt=e=>{ht(t=>({...t,[e]:!t[e]}))},Ht=!1!==e.isOnline,Kt=e=>{b(e),k(!1)};return D.jsxs("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden dark:bg-gray-900 transition-colors relative",children:[y&&D.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>k(!1)}),D.jsxs("aside",{className:`\n        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r dark:border-gray-700 \n        flex flex-col transition-transform duration-300 ease-in-out no-print\n        ${y?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[D.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center gap-3",children:[D.jsx("img",{src:e.logo,className:"w-10 h-10 rounded-lg shadow-sm"}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-black dark:text-white text-sm uppercase tracking-tight",children:e.name}),D.jsx("p",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest mt-0.5",children:"Kitchen Portal"})]})]}),D.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[D.jsxs("button",{onClick:()=>Kt("ORDERS"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl font-medium transition-all "+("ORDERS"===x?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Hm,{size:20})," Incoming Orders"]}),mt.length>0&&D.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full animate-bounce",children:mt.length})]}),D.jsxs("button",{onClick:()=>Kt("MENU"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("MENU"===x?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Kg,{size:20}),"Menu Editor"]}),!1!==(null==(u=e.settings)?void 0:u.showSalesReport)&&D.jsxs("button",{onClick:()=>Kt("REPORTS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("REPORTS"===x?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Qg,{size:20}),"Sales Reports"]}),!1!==(null==(h=e.settings)?void 0:h.showQrGenerator)&&D.jsxs("button",{onClick:()=>Kt("QR"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("QR"===x?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Lm,{size:20}),"QR Generator"]}),D.jsxs("button",{onClick:()=>Kt("SETTINGS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("SETTINGS"===x?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(qm,{size:20}),"Settings"]})]}),D.jsxs("div",{className:"p-4 mt-auto border-t dark:border-gray-700 space-y-4",children:[D.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all border border-orange-100 dark:border-orange-900/20",children:[D.jsx(om,{size:18})," Switch to POS Terminal"]}),D.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Store Presence"}),D.jsxs("button",{onClick:i,className:"w-full py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all flex items-center justify-center gap-3 shadow-lg "+(Ht?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"),children:[Ht?D.jsx(nf,{size:18}):D.jsx(af,{size:18}),Ht?"Online":"Offline"]}),D.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-xl border dark:border-gray-600",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:`w-2 h-2 rounded-full ${"SYNCING"===_?"bg-blue-500 scale-125":Ht?"bg-green-500":"bg-red-500"} transition-all duration-300 animate-pulse`}),D.jsx("span",{className:"text-[9px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Live Feed"})]}),"SYNCING"===_&&D.jsx(Dm,{size:10,className:"animate-spin text-blue-500"})]})]})]}),D.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 transition-all",children:[D.jsxs("div",{className:"lg:hidden flex items-center p-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-30 no-print",children:[D.jsx("button",{onClick:()=>k(!0),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:D.jsx(Pm,{size:24})}),D.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[D.jsx("img",{src:e.logo,className:"w-8 h-8 rounded-lg shadow-sm"}),D.jsx("h1",{className:"font-black dark:text-white uppercase tracking-tighter text-sm truncate",children:"ORDERS"===x?"Incoming Orders":"MENU"===x?"Menu Editor":"REPORTS"===x?"Sales Reports":"QR"===x?"QR Generator":"Settings"})]})]}),D.jsxs("div",{className:"p-4 md:p-8",children:["QR"===x&&D.jsxs("div",{className:"max-w-4xl mx-auto no-print",children:[D.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Table QR Codes"}),D.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:["Generate ordering labels for your tables at ",e.location,"."]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl border dark:border-gray-700 shadow-sm space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Generation Mode"}),D.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-700 p-1 rounded-lg",children:[D.jsx("button",{onClick:()=>pe("SINGLE"),className:"flex-1 py-2 rounded-lg text-xs font-bold transition-all "+("SINGLE"===he?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Single Table"}),D.jsx("button",{onClick:()=>pe("BATCH"),className:"flex-1 py-2 rounded-lg text-xs font-bold transition-all "+("BATCH"===he?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Batch Range"})]})]}),"SINGLE"===he?D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Table Number"}),D.jsxs("div",{className:"relative",children:[D.jsx(xm,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-sm font-bold dark:text-white",value:ge,onChange:e=>me(e.target.value)})]})]}):D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"From"}),D.jsx("input",{type:"number",className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-sm font-bold dark:text-white",value:fe,onChange:e=>xe(e.target.value)})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"To"}),D.jsx("input",{type:"number",className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-sm font-bold dark:text-white",value:be,onChange:e=>ye(e.target.value)})]})]}),D.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/10 rounded-lg border border-orange-100 dark:border-orange-900/20",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[D.jsx(um,{size:14,className:"text-orange-500"}),D.jsx("span",{className:"text-[10px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest",children:"Target Link"})]}),D.jsx("p",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400 break-all leading-tight",children:Ft(e.location,"SINGLE"===he?ge:"{ID}")})]}),D.jsxs("button",{onClick:()=>{requestAnimationFrame(()=>{setTimeout(()=>{window.print()},50)})},className:"w-full py-4 bg-orange-500 text-white rounded-lg font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-orange-600 transition-all",children:[D.jsx(Im,{size:18})," Print Labels"]})]}),D.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl border dark:border-gray-700 shadow-sm flex flex-col items-center justify-center text-center",children:"SINGLE"===he?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"p-6 bg-white rounded-xl shadow-xl border border-gray-100 mb-6",children:D.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(Ft(e.location,ge))}`,alt:"QR Code",className:"w-48 h-48"})}),D.jsx("p",{className:"font-black text-lg dark:text-white uppercase tracking-tighter",children:e.name}),D.jsxs("p",{className:"text-3xl font-black text-orange-500 uppercase",children:["TABLE ",ge]})]}):D.jsxs("div",{className:"space-y-4",children:[D.jsx(Lm,{size:80,className:"mx-auto text-orange-500 opacity-20"}),D.jsx("p",{className:"text-lg font-black dark:text-white uppercase",children:"Batch Range Ready"}),D.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:[(()=>{const e=parseInt(fe),t=parseInt(be);return isNaN(e)||isNaN(t)?0:Math.max(0,t-e+1)})()," Labels will be printed"]})]})})]})]}),"ORDERS"===x&&D.jsxs("div",{className:"max-w-5xl mx-auto",children:[D.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter",children:"kitchen order"}),o&&D.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] font-black px-3 py-1.5 rounded-full border transition-all duration-300 min-w-[140px] shrink-0 "+("SYNCING"===_?"bg-blue-50 border-blue-200 text-blue-600 shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-400"),children:[D.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("SYNCING"===_?"bg-blue-500 animate-ping":"bg-gray-300")}),"SYNCING"===_?"SYNCING...":`SYNC: ${o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`]})]}),D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm overflow-x-auto hide-scrollbar",children:[D.jsx("button",{onClick:()=>w("ONGOING_ALL"),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+("ONGOING_ALL"===v?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"ONGOING"}),D.jsx("button",{onClick:()=>w(Rg.SERVED),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+(v===Rg.SERVED?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"SERVED"}),D.jsx("button",{onClick:()=>w(Rg.COMPLETED),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+(v===Rg.COMPLETED?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"PAID"}),D.jsx("button",{onClick:()=>w(Rg.CANCELLED),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+(v===Rg.CANCELLED?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"CANCELLED"}),D.jsx("button",{onClick:()=>w("ALL"),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+("ALL"===v?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"ALL ORDER"})]})]}),D.jsx("div",{className:"space-y-4",children:0===vt.length?D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-20 text-center border border-dashed border-gray-300 dark:border-gray-700",children:[D.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:D.jsx(Hm,{size:24})}),D.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Kitchen Quiet"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Waiting for incoming signals..."})]}):vt.map(t=>D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row md:items-start gap-6 transition-all hover:border-orange-200",children:[D.jsxs("div",{className:"flex-1",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["ORDER #",t.id]}),D.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg",children:[D.jsx(xm,{size:12,className:"text-orange-500"}),D.jsxs("span",{className:"text-xs font-black",children:["Table ",t.tableNumber]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(nm,{size:14,className:"text-gray-400"}),D.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),D.jsx("div",{className:"space-y-3",children:t.items.map((e,t)=>D.jsxs("div",{className:"flex justify-between items-start text-sm border-l-2 border-gray-100 dark:border-gray-700 pl-3",children:[D.jsxs("div",{children:[D.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["x",e.quantity," ",e.name]}),D.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.selectedSize&&D.jsxs("span",{className:"text-[9px] font-black px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded uppercase tracking-tighter",children:["Size: ",e.selectedSize]}),e.selectedTemp&&D.jsxs("span",{className:"text-[9px] font-black px-1.5 py-0.5 rounded uppercase tracking-tighter "+("Hot"===e.selectedTemp?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"),children:["Temp: ",e.selectedTemp]})]})]}),D.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-bold",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))}),t.remark&&D.jsxs("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/20 rounded-lg",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[D.jsx(Om,{size:12,className:"text-orange-500"}),D.jsx("span",{className:"text-[9px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest",children:"Special Remark"})]}),D.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 italic",children:t.remark})]}),D.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-gray-700 flex justify-between items-center",children:[D.jsx("span",{className:"text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Grand Total"}),D.jsxs("span",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["RM",t.total.toFixed(2)]})]})]}),D.jsxs("div",{className:"flex md:flex-col gap-2 min-w-[140px] mt-2 md:mt-0",children:[t.status===Rg.PENDING&&D.jsxs(D.Fragment,{children:[D.jsxs("button",{onClick:()=>qt(t.id),className:"flex-1 py-3 px-4 bg-orange-500 text-white rounded-lg font-black text-xs uppercase tracking-widest hover:bg-orange-600 transition-all shadow-lg",children:["Accept ",ut.autoPrint&&"& Print"]}),at&&D.jsx("button",{onClick:()=>(async t=>{if(at){O(t.id);try{const{data:r,error:a}=await ik.from("orders").select("*").eq("id",t.id).single();if(a||!r)return void alert("Failed to fetch order details for printing.");const n={id:r.id,tableNumber:r.table_number,timestamp:r.timestamp,total:Number(r.total||0),items:Array.isArray(r.items)?r.items:"string"==typeof r.items?JSON.parse(r.items):[],remark:r.remark||""};await Pk.printReceipt(n,e)?alert("Order printed successfully!"):alert("Failed to print. Please try again.")}catch(r){alert("Error occurred while printing.")}finally{O(null)}}else alert("No printer connected. Please connect a printer in Settings.")})(t),disabled:P===t.id,className:"flex-1 py-3 px-4 bg-gray-600 text-white rounded-lg font-black text-xs uppercase tracking-widest hover:bg-gray-700 transition-all shadow-lg disabled:opacity-50",children:P===t.id?"Printing...":"Print Only"}),D.jsx("button",{onClick:()=>we(t.id),className:"flex-1 py-3 px-4 bg-red-50 text-red-500 rounded-lg font-black text-xs uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all border border-red-100",children:"Reject"})]}),t.status===Rg.ONGOING&&D.jsxs("button",{onClick:()=>r(t.id,Rg.SERVED),className:"flex-1 py-4 px-4 bg-green-500 text-white rounded-lg font-black text-xs uppercase tracking-widest hover:bg-green-600 transition-all flex items-center justify-center gap-2 shadow-lg",children:[D.jsx(tm,{size:18}),"Serve Order"]})]})]},t.id))})]}),"MENU"===x&&D.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter mb-4",children:"Kitchen Menu Editor"}),D.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>T("KITCHEN"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("KITCHEN"===B?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Kitchen Menu"}),D.jsx("button",{onClick:()=>T("CATEGORY"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("CATEGORY"===B?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Category"}),D.jsx("button",{onClick:()=>T("MODIFIER"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("MODIFIER"===B?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Modifier"})]}),"KITCHEN"===B?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsxs("button",{onClick:()=>Te("ACTIVE"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ACTIVE"===Be?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[D.jsx(pm,{size:14})," ",D.jsx("span",{className:"hidden sm:inline",children:"Active"})]}),D.jsxs("button",{onClick:()=>Te("ARCHIVED"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ARCHIVED"===Be?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[D.jsx(Ug,{size:14})," ",D.jsx("span",{className:"hidden sm:inline",children:"Archived"})]})]}),D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>Ee("grid"),className:"p-2 rounded-lg transition-all "+("grid"===_e?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>Ee("list"),className:"p-2 rounded-lg transition-all "+("list"===_e?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})]}),D.jsx("button",{onClick:()=>_t(),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg",children:"+ Add Item"})]}):"CATEGORY"===B?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"flex items-center gap-3",children:D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>Q("grid"),className:"p-2 rounded-lg transition-all "+("grid"===W?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>Q("list"),className:"p-2 rounded-lg transition-all "+("list"===W?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})}),D.jsxs("button",{onClick:()=>A(!0),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg flex items-center gap-2",children:[D.jsx(Wm,{size:16})," + New Category"]})]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"flex items-center gap-3",children:D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>ae("grid"),className:"p-2 rounded-lg transition-all "+("grid"===re?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>ae("list"),className:"p-2 rounded-lg transition-all "+("list"===re?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})}),D.jsxs("button",{onClick:()=>{I(!0),ue(""),ce([])},className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg flex items-center gap-2",children:[D.jsx(sm,{size:16})," + New Modifier"]})]})]})]}),"KITCHEN"===B&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex items-center gap-2 mb-8 bg-white dark:bg-gray-800 px-4 py-3 border dark:border-gray-700 rounded-lg shadow-sm overflow-x-auto hide-scrollbar sticky top-[72px] lg:top-0 z-20",children:[D.jsx(gm,{size:16,className:"text-gray-400 shrink-0"}),kt.map(e=>D.jsx("button",{onClick:()=>Oe(e),className:"whitespace-nowrap px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+(Pe===e?"bg-orange-100 text-orange-600 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"),children:e},e))]}),0===wt.length?D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-20 text-center border border-dashed border-gray-300 dark:border-gray-700",children:[D.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:D.jsx(Kg,{size:24})}),D.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Inventory Empty"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:"Start adding your signature dishes."})]}):"grid"===_e?D.jsx("div",{className:"grid grid-cols-5 gap-3",children:wt.map(t=>D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden border dark:border-gray-700 hover:shadow-md transition-all group flex flex-col",children:[D.jsxs("div",{className:"relative aspect-square",children:[D.jsx("img",{src:t.image,className:"w-full h-full object-cover"}),D.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:"ACTIVE"===Be?D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>Tt(t),className:"p-1.5 bg-red-50/90 backdrop-blur rounded-lg text-red-600 shadow-sm",children:D.jsx(Ug,{size:12})}),D.jsx("button",{onClick:()=>Et(t),className:"p-1.5 bg-white/90 backdrop-blur rounded-lg text-gray-700 shadow-sm",children:D.jsx(Rm,{size:12})})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>Rt(t),className:"p-1.5 bg-green-50/90 backdrop-blur rounded-lg text-green-600 shadow-sm",children:D.jsx($m,{size:12})}),D.jsx("button",{onClick:()=>{return r=t.id,void(confirm("Are you sure you want to permanently delete this item?")&&s(e.id,r));var r},className:"p-1.5 bg-red-50/90 backdrop-blur rounded-lg text-red-600 shadow-sm",children:D.jsx(Jm,{size:12})})]})})]}),D.jsxs("div",{className:"p-2",children:[D.jsx("h3",{className:"font-black text-xs text-gray-900 dark:text-white mb-1 uppercase tracking-tight line-clamp-1",children:t.name}),D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("span",{className:"text-sm font-black text-orange-500",children:["RM",t.price.toFixed(2)]}),D.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-400 truncate ml-1",children:t.category})]})]})]},t.id))}):D.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 overflow-hidden shadow-sm",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-4 py-3 text-left",children:"Dish Profile"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Base Cost"}),D.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:wt.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsx("td",{className:"px-4 py-3",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:e.image,className:"w-10 h-10 rounded-lg object-cover"}),D.jsxs("div",{children:[D.jsx("p",{className:"font-black text-gray-900 dark:text-white uppercase tracking-tight text-xs",children:e.name}),D.jsx("p",{className:"hidden sm:block text-[9px] text-gray-500 dark:text-gray-400 truncate max-w-xs",children:e.description})]})]})}),D.jsx("td",{className:"px-4 py-3 text-[9px] font-black uppercase text-gray-400",children:e.category}),D.jsxs("td",{className:"px-4 py-3 font-black text-gray-900 dark:text-white text-xs",children:["RM",e.price.toFixed(2)]}),D.jsx("td",{className:"px-4 py-3 text-right",children:D.jsxs("div",{className:"flex justify-end items-center gap-1",children:["ACTIVE"===Be?D.jsx("button",{onClick:()=>Tt(e),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:D.jsx(Ug,{size:16})}):D.jsx("button",{onClick:()=>Rt(e),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-all",children:D.jsx($m,{size:16})}),D.jsx("button",{onClick:()=>Et(e),className:"p-2 text-gray-400 hover:text-orange-500 rounded-lg transition-all",children:D.jsx(Rm,{size:16})})]})})]},e.id))})]})})})]}),"CATEGORY"===B&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[D.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 border-b dark:border-gray-700 flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[D.jsx(km,{size:16}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Category Manager"})]}),D.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[V.length," Total"]})]}),D.jsxs("div",{className:"grid"===W?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 p-4":"divide-y dark:divide-gray-700",children:[V.map(t=>{const r=e.menu.filter(e=>e.category===t.name&&!e.isArchived);return"grid"===W?D.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-gray-900/50 border dark:border-gray-700 rounded-lg hover:border-orange-200 transition-all",children:[D.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg flex items-center justify-center",children:D.jsx(km,{size:16})}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tight",children:t.name}),D.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:[r.length," Items"]})]})]}),D.jsxs("div",{className:"flex gap-1",children:[D.jsx("button",{onClick:()=>{X(t.name),Z(t.name)},className:"p-1.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg",children:D.jsx(Rm,{size:14})}),D.jsx("button",{onClick:()=>Lt(t.name),className:"p-1.5 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:D.jsx(Jm,{size:14})})]})]}),D.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t dark:border-gray-700",children:[D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Skip Kitchen"}),D.jsx("button",{onClick:()=>zt(t.name),className:"w-10 h-5 rounded-full transition-all relative "+(t.skipKitchen?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all "+(t.skipKitchen?"left-5":"left-0.5")})})]})]},t.name):D.jsxs("div",{className:"flex items-center justify-between p-3 px-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[D.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[D.jsx("div",{className:"w-8 h-8 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-lg flex items-center justify-center",children:D.jsx(km,{size:16})}),J===t.name?D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("input",{autoFocus:!0,className:"px-2 py-1 text-sm font-black border dark:border-gray-600 rounded bg-white dark:bg-gray-700",value:Y,onChange:e=>Z(e.target.value),onKeyDown:e=>"Enter"===e.key&&It(t.name,Y)}),D.jsx("button",{onClick:()=>It(t.name,Y),className:"text-green-500",children:D.jsx(tm,{size:16})}),D.jsx("button",{onClick:()=>X(null),className:"text-red-500",children:D.jsx(sf,{size:16})})]}):D.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-sm font-black dark:text-white uppercase tracking-tight",children:t.name}),D.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[r.length," Active Dishes"]})]}),D.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[D.jsx("span",{className:"text-[8px] font-black text-gray-400",children:"Skip Kitchen"}),D.jsx("button",{onClick:()=>zt(t.name),className:"w-8 h-4 rounded-full transition-all relative "+(t.skipKitchen?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all "+(t.skipKitchen?"left-4":"left-0.5")})})]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>{X(t.name),Z(t.name)},className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Rm,{size:16})}),D.jsx("button",{onClick:()=>Lt(t.name),className:"p-2 text-red-400 hover:text-red-500",children:D.jsx(Jm,{size:16})}),D.jsx("button",{onClick:()=>_t(t.name),className:"p-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg",children:D.jsx(Am,{size:16})})]})]},t.name)}),0===V.length&&D.jsxs("div",{className:"col-span-full text-center py-12",children:[D.jsx(km,{size:32,className:"mx-auto text-gray-300 mb-2"}),D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"No categories added yet"})]})]})]}),"MODIFIER"===B&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[D.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 border-b dark:border-gray-700 flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[D.jsx(sm,{size:16}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Modifier Manager"})]}),D.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[K.length," Total"]})]}),D.jsxs("div",{className:"grid"===re?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 p-4":"divide-y dark:divide-gray-700",children:[K.map(e=>"grid"===re?D.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-gray-900/50 border dark:border-gray-700 rounded-lg hover:border-orange-200 transition-all",children:[D.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg flex items-center justify-center",children:D.jsx(sm,{size:16})}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tight",children:e.name}),D.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:[e.options.length," Options"]})]})]}),D.jsxs("div",{className:"flex gap-1",children:[D.jsx("button",{onClick:()=>Dt(e),className:"p-1.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg",children:D.jsx(Rm,{size:14})}),D.jsx("button",{onClick:()=>$t(e.name),className:"p-1.5 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:D.jsx(Jm,{size:14})})]})]}),D.jsxs("div",{className:"space-y-1 mt-2 pt-2 border-t dark:border-gray-700",children:[e.options.slice(0,3).map((e,t)=>D.jsxs("div",{className:"flex items-center justify-between text-[8px]",children:[D.jsx("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:e.name}),D.jsxs("span",{className:"font-black text-orange-500",children:["+RM",e.price.toFixed(2)]})]},t)),e.options.length>3&&D.jsxs("p",{className:"text-[7px] text-gray-400 italic",children:["+",e.options.length-3," more"]}),0===e.options.length&&D.jsx("p",{className:"text-[8px] text-gray-400 italic text-center py-2",children:"No options"})]})]},e.name):D.jsxs("div",{className:"p-3 px-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[D.jsx("div",{className:"w-8 h-8 bg-purple-50 dark:bg-purple-900/20 text-purple-500 rounded-lg flex items-center justify-center",children:D.jsx(sm,{size:16})}),ne===e.name?D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("input",{autoFocus:!0,className:"px-2 py-1 text-sm font-black border dark:border-gray-600 rounded bg-white dark:bg-gray-700",value:Y,onChange:e=>Z(e.target.value),onKeyDown:t=>"Enter"===t.key&&Ut(e.name,Y)}),D.jsx("button",{onClick:()=>Ut(e.name,Y),className:"text-green-500",children:D.jsx(tm,{size:16})}),D.jsx("button",{onClick:()=>se(null),className:"text-red-500",children:D.jsx(sf,{size:16})})]}):D.jsxs("div",{children:[D.jsx("p",{className:"text-sm font-black dark:text-white uppercase tracking-tight",children:e.name}),D.jsxs("p",{className:"text-[9px] font-bold text-gray-400",children:[e.options.length," Options"]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>Dt(e),className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Rm,{size:16})}),D.jsx("button",{onClick:()=>$t(e.name),className:"p-2 text-red-400 hover:text-red-500",children:D.jsx(Jm,{size:16})})]})]}),e.options.length>0&&D.jsx("div",{className:"mt-3 pl-11 space-y-1",children:e.options.map((e,t)=>D.jsxs("div",{className:"flex items-center justify-between text-[9px]",children:[D.jsx("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:e.name}),D.jsxs("span",{className:"font-black text-orange-500",children:["+RM",e.price.toFixed(2)]})]},t))}),0===e.options.length&&D.jsx("div",{className:"mt-2 pl-11",children:D.jsx("p",{className:"text-[8px] text-gray-400 italic",children:"No options"})})]},e.name)),0===K.length&&D.jsxs("div",{className:"col-span-full text-center py-12",children:[D.jsx(sm,{size:32,className:"mx-auto text-gray-300 mb-2"}),D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"No modifiers added yet"})]})]})]})]}),"REPORTS"===x&&D.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:[D.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Sales Report"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:"Financial performance and order history."}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-lg border dark:border-gray-700 shadow-sm flex flex-col md:flex-row items-center gap-4 mb-6",children:[D.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Period Selection"}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Gg,{size:14,className:"text-orange-500 shrink-0"}),D.jsx("input",{type:"date",value:Le,onChange:e=>Me(e.target.value),className:"flex-1 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5"}),D.jsx("span",{className:"text-gray-400 font-black",children:"to"}),D.jsx("input",{type:"date",value:De,onChange:e=>$e(e.target.value),className:"flex-1 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5"})]})]}),D.jsxs("div",{className:"w-full sm:w-48",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Order Outcome"}),D.jsxs("select",{value:ze,onChange:e=>Ie(e.target.value),className:"w-full p-1.5 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white appearance-none cursor-pointer",children:[D.jsx("option",{value:"ALL",children:"All Outcomes"}),D.jsx("option",{value:Rg.COMPLETED,children:"Paid/Finalized"}),D.jsx("option",{value:Rg.SERVED,children:"Served (Unpaid)"}),D.jsx("option",{value:Rg.CANCELLED,children:"Rejected"})]})]})]}),D.jsxs("button",{onClick:async()=>{const e=await jt(!0);if(!e||0===e.length)return;const t=[["Order ID","Table","Date","Time","Status","Items","Total"],...e.map(e=>[e.id,e.tableNumber,new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",`sales_report_${Le}_to_${De}.csv`),document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"w-full md:w-auto px-6 py-2 bg-black text-white dark:bg-white dark:text-gray-900 rounded-lg font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-orange-500 transition-all",children:[D.jsx(dm,{size:16})," Export CSV"]})]}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-lg border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Total Revenue"}),D.jsxs("p",{className:"text-xl md:text-2xl font-black dark:text-white",children:["RM",(null==Ge?void 0:Ge.summary.totalRevenue.toFixed(2))||"0.00"]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-lg border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Order Volume"}),D.jsx("p",{className:"text-xl md:text-2xl font-black dark:text-white",children:(null==Ge?void 0:Ge.summary.orderVolume)||0})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-lg border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Efficiency"}),D.jsxs("p",{className:"text-xl md:text-2xl font-black text-green-500",children:[(null==Ge?void 0:Ge.summary.efficiency)||0,"%"]})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-700 overflow-hidden shadow-sm",children:[D.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[D.jsxs("div",{className:"relative max-w-sm w-full",children:[D.jsx(Um,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search Order ID...",value:Re,onChange:e=>Ae(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-xs font-black dark:text-white outline-none focus:ring-1 focus:ring-orange-500"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Show"}),D.jsxs("select",{value:Ue,onChange:e=>Fe(Number(e.target.value)),className:"bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5 outline-none cursor-pointer",children:[D.jsx("option",{value:30,children:"30"}),D.jsx("option",{value:50,children:"50"}),D.jsx("option",{value:100,children:"100"})]}),D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Entries"})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-4 py-3 text-left",children:"Order ID"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Table"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Time"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),D.jsx("th",{className:"px-4 py-3 text-right",children:"Bill"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:Ct.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsx("td",{className:"px-4 py-2",children:D.jsx("button",{onClick:()=>Ke(e),className:"text-[10px] font-black text-orange-500 hover:text-orange-600 uppercase tracking-widest underline decoration-dotted underline-offset-4",children:e.id})}),D.jsxs("td",{className:"px-4 py-2 text-[10px] font-black text-gray-900 dark:text-white",children:["#",e.tableNumber]}),D.jsx("td",{className:"px-4 py-2 text-[10px] font-black text-gray-700 dark:text-gray-300 uppercase tracking-tighter",children:new Date(e.timestamp).toLocaleDateString()}),D.jsx("td",{className:"px-4 py-2 text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),D.jsx("td",{className:"px-4 py-2",children:D.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===Rg.COMPLETED?"bg-green-100 text-green-600":e.status===Rg.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:e.status===Rg.COMPLETED?"Paid":e.status===Rg.SERVED?"Served":e.status})}),D.jsxs("td",{className:"px-4 py-2 text-right font-black dark:text-white text-xs",children:["RM",e.total.toFixed(2)]})]},e.id))})]})})]}),Nt>1&&D.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2 no-print",children:[D.jsx("button",{onClick:()=>Ve(1),disabled:1===qe,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Jg,{size:16})}),D.jsx("button",{onClick:()=>Ve(e=>Math.max(1,e-1)),disabled:1===qe,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Yg,{size:16})}),D.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Nt},(e,t)=>t+1).map(e=>D.jsx("button",{onClick:()=>Ve(e),className:"w-8 h-8 rounded-lg text-[10px] font-black transition-all "+(qe===e?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-white dark:bg-gray-800 text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e},e))}),D.jsx("button",{onClick:()=>Ve(e=>Math.min(Nt,e+1)),disabled:qe===Nt,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Zg,{size:16})}),D.jsx("button",{onClick:()=>Ve(Nt),disabled:qe===Nt,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Xg,{size:16})})]})]}),"SETTINGS"===x&&D.jsxs("div",{className:"max-w-4xl mx-auto",children:[D.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Settings"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:"Configure your kitchen preferences"}),D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(qg,{size:16,className:"text-orange-500"}),D.jsx("h2",{className:"font-black dark:text-white uppercase tracking-tighter text-sm",children:"Order Processing"})]})}),D.jsxs("div",{className:"p-4 space-y-4",children:[D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[D.jsxs("div",{children:[D.jsx("h3",{className:"font-black text-xs dark:text-white",children:"Auto-Accept Orders"}),D.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:"Automatically accept new orders"})]}),D.jsx("button",{onClick:()=>Vt("autoAccept"),className:"w-12 h-6 rounded-full transition-all relative "+(ut.autoAccept?"bg-green-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(ut.autoAccept?"left-7":"left-1")})})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[D.jsxs("div",{children:[D.jsx("h3",{className:"font-black text-xs dark:text-white",children:"Auto-Print Orders"}),D.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:"Print orders when accepted"})]}),D.jsx("button",{onClick:()=>Vt("autoPrint"),disabled:!at,className:"w-12 h-6 rounded-full transition-all relative "+(at?ut.autoPrint?"bg-green-500":"bg-gray-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700 cursor-not-allowed"),children:D.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(at?ut.autoPrint?"left-7":"left-1":"left-1 opacity-50")})})]}),!at&&ut.autoPrint&&D.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/10 rounded-lg border border-yellow-200 dark:border-yellow-900/20",children:D.jsx("p",{className:"text-[9px] font-black text-yellow-600 dark:text-yellow-400",children:" Auto-print enabled but no printer connected"})})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Im,{size:16,className:"text-orange-500"}),D.jsx("h2",{className:"font-black dark:text-white uppercase tracking-tighter text-sm",children:"Printer Configuration"})]})}),D.jsxs("div",{className:"p-4",children:[!Xe&&D.jsxs("div",{className:"text-center py-8",children:[D.jsx(em,{size:32,className:"mx-auto text-red-500 mb-3"}),D.jsx("h3",{className:"text-base font-black dark:text-white mb-1",children:"Bluetooth Not Supported"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ot}),D.jsx("p",{className:"text-[9px] text-gray-400 mt-3",children:"Use Chrome, Edge, or Opera"})]}),Xe&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"p-4 rounded-lg border-2 transition-all mb-4 "+("connected"===st?"bg-green-50 dark:bg-green-900/10 border-green-200":"bg-gray-50 dark:bg-gray-800 border-gray-200"),children:D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+("connected"===st?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:D.jsx(Im,{size:20})}),D.jsxs("div",{children:[D.jsx("h3",{className:"font-black dark:text-white text-xs",children:"CX58D Thermal Printer"}),D.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"connected"===st?`Connected to ${null==at?void 0:at.name}`:"No printer connected"})]})]}),D.jsx("div",{className:"px-2 py-0.5 rounded-full text-[8px] font-black uppercase tracking-widest "+("connected"===st?"bg-green-100 text-green-600":"connecting"===st?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-500"),children:"connected"===st?"Connected":"connecting"===st?"Connecting...":"Disconnected"})]})}),"connected"!==st?D.jsxs("div",{className:"space-y-3",children:[D.jsx("button",{onClick:async()=>{if(!Xe)return;et(!0),rt([]),lt("");const e=await Pk.scanForPrinters();rt(e),et(!1)},disabled:Ze,className:"w-full py-3 bg-orange-500 text-white rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-orange-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:Ze?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Scanning..."]}):D.jsxs(D.Fragment,{children:[D.jsx(Hg,{size:14}),"Scan for Bluetooth Printers"]})}),tt.length>0&&D.jsxs("div",{className:"space-y-2",children:[D.jsx("h4",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Found Printers"}),tt.map(t=>D.jsxs("button",{onClick:()=>(async t=>{it("connecting"),lt(""),await Pk.connect(t.name)?(nt(t),it("connected"),localStorage.setItem(`printer_${e.id}`,JSON.stringify(t)),await ik.from("restaurants").update({printer_settings:{connected:!0,deviceId:t.id,deviceName:t.name}}).eq("id",e.id)):(it("error"),lt("Failed to connect to printer"))})(t),className:"w-full p-3 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg flex items-center justify-between hover:border-orange-500 transition-all group",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Im,{size:16,className:"text-gray-400 group-hover:text-orange-500"}),D.jsx("span",{className:"font-bold dark:text-white text-xs",children:t.name})]}),D.jsx("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-widest",children:"Connect"})]},t.id))]})]}):D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-100",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[D.jsx(Vg,{size:14,className:"text-blue-500"}),D.jsx("span",{className:"text-[9px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest",children:"Connected Device"})]}),D.jsx("p",{className:"font-bold dark:text-white text-xs mb-1",children:null==at?void 0:at.name}),D.jsxs("p",{className:"text-[8px] text-gray-500",children:["ID: ",null==at?void 0:at.id]})]}),D.jsx("button",{onClick:async()=>{if(!at)return;dt("printing"),lt("");await Pk.printTestPage()?(dt("success"),setTimeout(()=>dt("idle"),3e3)):(dt("error"),lt("Print failed"))},disabled:"printing"===ct,className:"w-full py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-black text-[9px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:"printing"===ct?D.jsx(D.Fragment,{children:"Printing..."}):"success"===ct?D.jsxs(D.Fragment,{children:[D.jsx(rm,{size:14,className:"text-green-500"}),"Test Page Sent!"]}):D.jsxs(D.Fragment,{children:[D.jsx(Im,{size:14}),"Print Test Page"]})}),D.jsx("button",{onClick:async()=>{await Pk.disconnect(),nt(null),it("disconnected"),localStorage.removeItem(`printer_${e.id}`),ik.from("restaurants").update({printer_settings:{connected:!1}}).eq("id",e.id)},className:"w-full py-2 bg-red-50 dark:bg-red-900/10 text-red-500 rounded-lg font-black text-[9px] uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all border border-red-200",children:"Disconnect Printer"})]}),ot&&D.jsx("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-200",children:D.jsx("p",{className:"text-[9px] text-red-600 dark:text-red-400",children:ot})})]})]})]})]})]})]})]}),ke&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>we(null),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:"Order Rejection"}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Select Reason"}),D.jsx("select",{value:je,onChange:e=>Ne(e.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",children:Ok.map(e=>D.jsx("option",{value:e,children:e},e))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Internal Note (Optional)"}),D.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white resize-none",rows:2,placeholder:"Additional details...",value:Ce,onChange:e=>Se(e.target.value)})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsx("button",{onClick:()=>we(null),className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:()=>{ke&&(r(ke,Rg.CANCELLED,je,Ce),we(null),Ne(Ok[0]),Se(""))},className:"flex-1 py-2 bg-red-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow",children:"Confirm"})]})]})]})}),R&&D.jsx("div",{className:"fixed inset-0 z-[110] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative",children:[D.jsx("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 p-2 text-gray-400",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tight",children:"Add Category"}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("input",{autoFocus:!0,placeholder:"e.g. Beverages",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold text-sm dark:text-white",value:L,onChange:e=>M(e.target.value),onKeyDown:e=>"Enter"===e.key&&At()}),D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[D.jsx("span",{className:"text-xs font-black text-gray-400",children:"Skip Kitchen"}),D.jsx("button",{onClick:()=>q(!F),className:"w-10 h-5 rounded-full transition-all relative "+(F?"bg-orange-500":"bg-gray-300"),children:D.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all "+(F?"left-5":"left-0.5")})})]}),D.jsx("button",{onClick:At,className:"w-full py-3 bg-orange-500 text-white rounded-lg font-black uppercase tracking-widest text-xs",children:"Confirm Category"})]})]})}),z&&D.jsx("div",{className:"fixed inset-0 z-[110] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative max-h-[80vh] overflow-y-auto",children:[D.jsx("button",{onClick:()=>{I(!1),se(null),ue(""),ce([])},className:"absolute top-4 right-4 p-2 text-gray-400",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tight",children:ne?"Edit Modifier":"Add Modifier"}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("input",{autoFocus:!0,placeholder:"Modifier name (e.g. Size, Temperature)",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold text-sm dark:text-white",value:de,onChange:e=>ue(e.target.value)}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Options"}),D.jsx("button",{onClick:()=>{ce([...le,{name:"",price:0}])},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 transition-all",children:D.jsx(Am,{size:16})})]}),le.map((e,t)=>D.jsxs("div",{className:"flex gap-2 items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[D.jsx("div",{className:"flex-1",children:D.jsx("input",{type:"text",value:e.name,onChange:e=>Mt(t,"name",e.target.value),placeholder:"Option name",className:"w-full px-2 py-1.5 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded text-xs font-bold"})}),D.jsx("div",{className:"w-20",children:D.jsx("input",{type:"number",step:"0.01",value:e.price,onChange:e=>Mt(t,"price",parseFloat(e.target.value)||0),placeholder:"Price",className:"w-full px-2 py-1.5 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded text-xs font-bold"})}),D.jsx("button",{onClick:()=>{return e=t,void ce(le.filter((t,r)=>r!==e));var e},className:"p-1.5 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:D.jsx(Jm,{size:14})})]},t)),0===le.length&&D.jsx("p",{className:"text-center py-4 text-[10px] text-gray-400 italic border-2 border-dashed border-gray-200 rounded-lg",children:"No options added yet. Click + to add."})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsx("button",{onClick:()=>{I(!1),se(null),ue(""),ce([])},className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:ne?()=>{if(!de.trim()||!ne)return;const e=le.filter(e=>""!==e.name.trim());G(t=>t.map(t=>t.name===ne?{name:de.trim(),options:e}:t)),I(!1),se(null),ue(""),ce([])}:()=>{if(!de.trim())return void alert("Please enter a modifier name");const e=le.filter(e=>""!==e.name.trim());G(t=>[...t,{name:de.trim(),options:e}]),I(!1),ue(""),ce([])},className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow",children:ne?"Update":"Save"})]})]})]})}),C&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300 max-h-[85vh] overflow-y-auto",children:[D.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:20})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:"New Dish Broadcast"}),D.jsxs("form",{onSubmit:t=>{var r;if(t.preventDefault(),!xt.name)return;const s={id:j?j.id:crypto.randomUUID(),name:xt.name||"",description:xt.description||"",price:Number(xt.price||0),image:xt.image||`https://picsum.photos/seed/${xt.name}/400/300`,category:xt.category||"Main Dish",isArchived:!!j&&j.isArchived,sizes:xt.sizesEnabled?xt.sizes:[],otherVariantName:xt.otherVariantName,otherVariants:xt.otherVariants,otherVariantsEnabled:xt.otherVariantsEnabled,tempOptions:(null==(r=xt.tempOptions)?void 0:r.enabled)?xt.tempOptions:void 0,addOns:xt.addOns||[]};j?a(e.id,s):n(e.id,s),S(!1)},className:"space-y-4",children:[D.jsxs("div",{className:"border-b dark:border-gray-700 pb-4",children:[D.jsx("h3",{className:"text-sm font-black dark:text-white mb-3",children:"Visual Asset"}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.jsx("div",{children:D.jsxs("div",{className:"relative group aspect-video rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-200 dark:border-gray-600 flex items-center justify-center cursor-pointer",onClick:()=>{var e;return null==(e=yt.current)?void 0:e.click()},children:[xt.image?D.jsx("img",{src:xt.image,className:"w-full h-full object-cover group-hover:scale-105 transition-all"}):D.jsxs("div",{className:"text-center",children:[D.jsx(bm,{size:24,className:"mx-auto text-gray-300 mb-1"}),D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Upload Frame"})]}),D.jsx("input",{type:"file",ref:yt,className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{const e=await cf(r,"quickserve","menu-items");bt({...xt,image:e})}catch(a){alert("Failed to upload image. Please try again.")}}})]})}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Or Image URL"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm",value:xt.image,onChange:e=>bt({...xt,image:e.target.value}),placeholder:"Paste link here..."}),D.jsxs("div",{className:"flex items-center justify-between mt-3",children:[D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Portion Variants"}),D.jsx("button",{type:"button",onClick:()=>bt({...xt,sizesEnabled:!xt.sizesEnabled}),className:"px-3 py-1 rounded text-[8px] font-black uppercase tracking-widest transition-all "+(xt.sizesEnabled?"bg-orange-500 text-white":"bg-gray-100 text-gray-400"),children:xt.sizesEnabled?"Activated":"Disabled"})]}),D.jsxs("div",{className:"flex items-center justify-between mt-2",children:[D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Thermal Options"}),D.jsx("button",{type:"button",onClick:()=>{var e;return bt({...xt,tempOptions:{...xt.tempOptions,enabled:!(null==(e=xt.tempOptions)?void 0:e.enabled)}})},className:"px-3 py-1 rounded text-[8px] font-black uppercase tracking-widest transition-all "+((null==(p=xt.tempOptions)?void 0:p.enabled)?"bg-orange-500 text-white":"bg-gray-100 text-gray-400"),children:(null==(g=xt.tempOptions)?void 0:g.enabled)?"Activated":"Disabled"})]})]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Menu Name"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm",value:xt.name,onChange:e=>bt({...xt,name:e.target.value}),placeholder:"e.g. Signature Beef Burger"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Description"}),D.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm resize-none",rows:2,value:xt.description,onChange:e=>bt({...xt,description:e.target.value}),placeholder:"Describe the ingredients and preparation..."})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Base Cost"}),D.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm",value:0===xt.price?"":xt.price,onChange:e=>bt({...xt,price:""===e.target.value?0:Number(e.target.value)}),placeholder:"0.00"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Category"}),D.jsx("select",{className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm",value:xt.category,onChange:e=>bt({...xt,category:e.target.value}),children:kt.filter(e=>"All"!==e).map(e=>D.jsx("option",{value:e,children:e},e))})]})]}),xt.sizesEnabled&&D.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsx("h3",{className:"text-sm font-black dark:text-white",children:"Portion Variants"}),D.jsx("button",{type:"button",onClick:()=>{bt({...xt,sizes:[...xt.sizes||[],{name:"",price:0}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:D.jsx(Am,{size:16})})]}),D.jsx("div",{className:"space-y-2",children:null==(m=xt.sizes)?void 0:m.map((e,t)=>D.jsxs("div",{className:"flex gap-2 items-center",children:[D.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",placeholder:"Size name",value:e.name,onChange:e=>Pt(t,"name",e.target.value)}),D.jsx("input",{type:"number",step:"0.01",className:"w-24 px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",placeholder:"+Price",value:0===e.price?"":e.price,onChange:e=>Pt(t,"price",""===e.target.value?0:Number(e.target.value))}),D.jsx("button",{type:"button",onClick:()=>{return e=t,void bt({...xt,sizes:null==(r=xt.sizes)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-2 text-red-400 hover:bg-red-50 rounded-lg",children:D.jsx(Jm,{size:16})})]},t))})]}),D.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsx("h3",{className:"text-sm font-black dark:text-white",children:"Modifier"}),D.jsx("button",{type:"button",onClick:()=>{bt({...xt,otherVariants:[...xt.otherVariants||[],{name:"",price:0}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:D.jsx(Am,{size:16})})]}),xt.otherVariants&&xt.otherVariants.length>0?D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Modifier Name"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none font-bold dark:text-white text-sm",value:xt.otherVariantName,onChange:e=>bt({...xt,otherVariantName:e.target.value,otherVariantsEnabled:!0}),placeholder:"e.g. Sugar Level"})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("div",{className:"flex items-center justify-between",children:D.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[xt.otherVariants.length," Options"]})}),xt.otherVariants.map((e,t)=>D.jsxs("div",{className:"flex gap-2 items-center p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[D.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",placeholder:"Option name",value:e.name,onChange:e=>Ot(t,"name",e.target.value)}),D.jsx("input",{type:"number",step:"0.01",className:"w-24 px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",placeholder:"+Price",value:0===e.price?"":e.price,onChange:e=>Ot(t,"price",""===e.target.value?0:Number(e.target.value))}),D.jsx("button",{type:"button",onClick:()=>{return e=t,void bt({...xt,otherVariants:null==(r=xt.otherVariants)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-2 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:D.jsx(Jm,{size:16})})]},t))]})]}):D.jsxs("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-700/30 rounded-lg border-2 border-dashed border-gray-200",children:[D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"0 Options"}),D.jsx("p",{className:"text-[8px] text-gray-400 mt-1",children:"Click + to add modifier options"})]})]}),(null==(f=xt.tempOptions)?void 0:f.enabled)&&D.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[D.jsx("h3",{className:"text-sm font-black dark:text-white mb-3",children:"Thermal Options"}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[D.jsx(Qm,{size:16}),D.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Hot Surcharge"})]}),D.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 bg-orange-50 dark:bg-orange-900/10 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",value:0===xt.tempOptions.hot?"":xt.tempOptions.hot,onChange:e=>bt({...xt,tempOptions:{...xt.tempOptions,hot:""===e.target.value?0:Number(e.target.value)}}),placeholder:"0.00"})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[D.jsx(ym,{size:16}),D.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Cold Surcharge"})]}),D.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 bg-blue-50 dark:bg-blue-900/10 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white",value:0===xt.tempOptions.cold?"":xt.tempOptions.cold,onChange:e=>bt({...xt,tempOptions:{...xt.tempOptions,cold:""===e.target.value?0:Number(e.target.value)}}),placeholder:"0.00"})]})]})]}),D.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsx("h3",{className:"text-sm font-black dark:text-white",children:"Add-On Items"}),D.jsx("button",{type:"button",onClick:()=>{bt({...xt,addOns:[...xt.addOns||[],{name:"",price:0,maxQuantity:1,required:!1}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:D.jsx(Am,{size:16})})]}),xt.addOns&&xt.addOns.length>0?D.jsx("div",{className:"space-y-3",children:xt.addOns.map((e,t)=>D.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:["Add-On #",t+1]}),D.jsx("button",{type:"button",onClick:()=>{return e=t,void bt({...xt,addOns:null==(r=xt.addOns)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-1 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:D.jsx(Jm,{size:14})})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Name"}),D.jsx("input",{type:"text",value:e.name,onChange:e=>Bt(t,"name",e.target.value),placeholder:"e.g. Extra Cheese",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Price (RM)"}),D.jsx("input",{type:"number",step:"0.01",value:e.price,onChange:e=>Bt(t,"price",parseFloat(e.target.value)||0),placeholder:"2.00",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Max Quantity"}),D.jsx("input",{type:"number",min:"1",value:e.maxQuantity,onChange:e=>Bt(t,"maxQuantity",parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]}),D.jsxs("div",{className:"flex items-center gap-2 pt-5",children:[D.jsx("input",{type:"checkbox",id:`required-${t}`,checked:e.required||!1,onChange:e=>Bt(t,"required",e.target.checked),className:"w-4 h-4 text-orange-500 rounded border-gray-300 focus:ring-orange-500"}),D.jsx("label",{htmlFor:`required-${t}`,className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Required"})]})]})]},t))}):D.jsxs("div",{className:"text-center py-6 bg-gray-50 dark:bg-gray-700/30 rounded-lg border-2 border-dashed border-gray-200",children:[D.jsx(am,{size:24,className:"mx-auto text-gray-400 mb-2"}),D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No add-ons added yet"}),D.jsx("p",{className:"text-[8px] text-gray-400 mt-1",children:"Click + to add optional items"})]})]}),D.jsx("div",{className:"pt-4 border-t dark:border-gray-700",children:D.jsx("button",{type:"submit",className:"w-full py-3 bg-orange-500 text-white rounded-lg font-black uppercase tracking-[0.15em] text-xs shadow hover:bg-orange-600 transition-all active:scale-95",children:"Save Changes"})})]})]})}),He&&D.jsx("div",{className:"fixed inset-0 z-[120] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>Ke(null),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsxs("div",{className:"mb-4",children:[D.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[D.jsx(xm,{size:14,className:"text-orange-500"}),D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Order Details"})]}),D.jsxs("h2",{className:"text-lg font-black dark:text-white uppercase tracking-tighter",children:["#",He.id]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[D.jsx("p",{className:"text-[7px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Table"}),D.jsxs("p",{className:"text-sm font-black dark:text-white",children:["#",He.tableNumber]})]}),D.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[D.jsx("p",{className:"text-[7px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Status"}),D.jsx("span",{className:"text-[7px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(He.status===Rg.COMPLETED?"bg-green-100 text-green-600":He.status===Rg.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:He.status===Rg.COMPLETED?"Paid":He.status===Rg.SERVED?"Served":He.status})]})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Items"}),D.jsx("div",{className:"space-y-1 max-h-[30vh] overflow-y-auto pr-1",children:He.items.map((e,t)=>D.jsxs("div",{className:"flex justify-between items-start py-1 border-b dark:border-gray-700 last:border-0",children:[D.jsxs("div",{children:[D.jsxs("p",{className:"text-xs font-black dark:text-white",children:["x",e.quantity," ",e.name]}),D.jsxs("div",{className:"flex flex-wrap gap-1 mt-0.5",children:[e.selectedSize&&D.jsx("span",{className:"text-[7px] font-bold px-1 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded",children:e.selectedSize}),e.selectedTemp&&D.jsx("span",{className:"text-[7px] font-bold px-1 py-0.5 rounded "+("Hot"===e.selectedTemp?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"),children:e.selectedTemp})]})]}),D.jsxs("p",{className:"text-xs font-black dark:text-white",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))})]}),He.remark&&D.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 rounded-lg",children:D.jsx("p",{className:"text-[8px] text-gray-700 dark:text-gray-300 italic",children:He.remark})}),D.jsxs("div",{className:"pt-2 border-t dark:border-gray-700 flex justify-between items-center",children:[D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Total"}),D.jsxs("span",{className:"text-lg font-black dark:text-white",children:["RM",He.total.toFixed(2)]})]})]})]})}),D.jsx("style",{children:"\n        @media print {\n          .no-print { display: none !important; }\n          body { background: white !important; }\n          .page-break-inside-avoid { page-break-inside: avoid; }\n        }\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n      "})]})},Tk=()=>{var e,t,r,a,n,s,i,o,l,c,d,u,h,p,g,m,f,x,b,y,k,v,w,j,N,C,S,_,E,P,O,B,T,R,A,z,I,L,M,$,U,F,q,V,H,K,G,W,Q,J,X,Y,Z,ee,te,re,ae,ne,se,ie,oe,le,ce,de,ue,he;const[pe,ge]=ve.useState({}),[me,fe]=ve.useState(!1),xe=async()=>{fe(!0);const e=(new Date).toLocaleTimeString();try{const{data:t,error:r}=await ik.from("areas").select("count",{count:"exact",head:!0});ge(t=>({...t,hubs:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to areas table",lastChecked:e}}))}catch(t){ge(r=>({...r,hubs:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await ik.from("users").select("count",{count:"exact",head:!0}).eq("role","VENDOR");ge(t=>({...t,vendors:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to users table",lastChecked:e}}))}catch(t){ge(r=>({...r,vendors:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await ik.from("restaurants").select("count",{count:"exact",head:!0});ge(t=>({...t,restaurants:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to restaurants table",lastChecked:e}}))}catch(t){ge(r=>({...r,restaurants:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await ik.from("menu_items").select("count",{count:"exact",head:!0});ge(t=>({...t,menu:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to menu_items table",lastChecked:e}}))}catch(t){ge(r=>({...r,menu:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await ik.from("orders").select("count",{count:"exact",head:!0});ge(t=>({...t,orders:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to orders table",lastChecked:e}}))}catch(t){ge(r=>({...r,orders:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const t=new File(["test"],"test.txt",{type:"text/plain"}),r=new FormData;r.append("file",t),r.append("filename",`system-check/test-${Date.now()}.txt`);const a=await fetch("/api/upload",{method:"POST",body:r});if(a.ok){await a.json();ge(t=>({...t,upload:{status:"OK",message:"Upload working (test file uploaded)",lastChecked:e}}))}else{const t=await a.json();ge(r=>({...r,upload:{status:"ERROR",message:`Upload failed: ${t.error||"Unknown error"}`,lastChecked:e}}))}}catch(t){ge(r=>({...r,upload:{status:"ERROR",message:`Upload check failed: ${t.message}`,lastChecked:e}}))}try{(await fetch("/api/health")).ok?ge(t=>({...t,login:{status:"OK",message:"API endpoints accessible",lastChecked:e}})):ge(t=>({...t,login:{status:"ERROR",message:"API health check failed",lastChecked:e}}))}catch(t){ge(r=>({...r,login:{status:"ERROR",message:`Login system check failed: ${t.message}`,lastChecked:e}}))}try{const{error:t}=await ik.from("areas").select("count",{count:"exact",head:!0});ge(r=>({...r,database:{status:t?"ERROR":"OK",message:t?`Database error: ${null==t?void 0:t.message}`:"Supabase connection successful",lastChecked:e}}))}catch(t){ge(r=>({...r,database:{status:"ERROR",message:`Database connection failed: ${t.message}`,lastChecked:e}}))}fe(!1)};return ve.useEffect(()=>{xe()},[]),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-black dark:text-white uppercase tracking-tighter",children:"System Health Dashboard"}),D.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Real-time status of all platform components"})]}),D.jsxs("button",{onClick:xe,disabled:me,className:"flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all disabled:opacity-50",children:[D.jsx(Dm,{size:14,className:me?"animate-spin":""}),me?"Checking...":"Run All Checks"]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(e=pe.database)?void 0:e.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(t=pe.database)?void 0:t.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(lm,{size:20,className:"OK"===(null==(r=pe.database)?void 0:r.status)?"text-green-500":"ERROR"===(null==(a=pe.database)?void 0:a.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Database Connection"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Supabase"})]})]}),"CHECKING"===(null==(n=pe.database)?void 0:n.status)&&D.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),"OK"===(null==(s=pe.database)?void 0:s.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(i=pe.database)?void 0:i.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(o=pe.database)?void 0:o.message)||"Checking..."}),(null==(l=pe.database)?void 0:l.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.database.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(c=pe.upload)?void 0:c.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(d=pe.upload)?void 0:d.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Ym,{size:20,className:"OK"===(null==(u=pe.upload)?void 0:u.status)?"text-green-500":"ERROR"===(null==(h=pe.upload)?void 0:h.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Image Upload"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Vercel Blob Storage"})]})]}),"CHECKING"===(null==(p=pe.upload)?void 0:p.status)&&D.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),"OK"===(null==(g=pe.upload)?void 0:g.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(m=pe.upload)?void 0:m.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(f=pe.upload)?void 0:f.message)||"Checking..."}),(null==(x=pe.upload)?void 0:x.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.upload.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(b=pe.hubs)?void 0:b.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(y=pe.hubs)?void 0:y.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Em,{size:20,className:"OK"===(null==(k=pe.hubs)?void 0:k.status)?"text-green-500":"ERROR"===(null==(v=pe.hubs)?void 0:v.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Hubs/Locations"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(w=pe.hubs)?void 0:w.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(j=pe.hubs)?void 0:j.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(N=pe.hubs)?void 0:N.message)||"Checking..."}),(null==(C=pe.hubs)?void 0:C.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.hubs.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(S=pe.vendors)?void 0:S.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(_=pe.vendors)?void 0:_.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Km,{size:20,className:"OK"===(null==(E=pe.vendors)?void 0:E.status)?"text-green-500":"ERROR"===(null==(P=pe.vendors)?void 0:P.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Vendors"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(O=pe.vendors)?void 0:O.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(B=pe.vendors)?void 0:B.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(T=pe.vendors)?void 0:T.message)||"Checking..."}),(null==(R=pe.vendors)?void 0:R.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.vendors.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(A=pe.restaurants)?void 0:A.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(z=pe.restaurants)?void 0:z.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Hm,{size:20,className:"OK"===(null==(I=pe.restaurants)?void 0:I.status)?"text-green-500":"ERROR"===(null==(L=pe.restaurants)?void 0:L.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Restaurants"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(M=pe.restaurants)?void 0:M.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==($=pe.restaurants)?void 0:$.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(U=pe.restaurants)?void 0:U.message)||"Checking..."}),(null==(F=pe.restaurants)?void 0:F.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.restaurants.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(q=pe.menu)?void 0:q.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(V=pe.menu)?void 0:V.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(bm,{size:20,className:"OK"===(null==(H=pe.menu)?void 0:H.status)?"text-green-500":"ERROR"===(null==(K=pe.menu)?void 0:K.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Menu Items"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(G=pe.menu)?void 0:G.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(W=pe.menu)?void 0:W.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(Q=pe.menu)?void 0:Q.message)||"Checking..."}),(null==(J=pe.menu)?void 0:J.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.menu.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(X=pe.orders)?void 0:X.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(Y=pe.orders)?void 0:Y.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx($g,{size:20,className:"OK"===(null==(Z=pe.orders)?void 0:Z.status)?"text-green-500":"ERROR"===(null==(ee=pe.orders)?void 0:ee.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Orders System"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Real-time Updates"})]})]}),"OK"===(null==(te=pe.orders)?void 0:te.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(re=pe.orders)?void 0:re.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(ae=pe.orders)?void 0:ae.message)||"Checking..."}),(null==(ne=pe.orders)?void 0:ne.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.orders.lastChecked]})]}),D.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(se=pe.login)?void 0:se.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(ie=pe.login)?void 0:ie.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[D.jsxs("div",{className:"flex items-start justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Sm,{size:20,className:"OK"===(null==(oe=pe.login)?void 0:oe.status)?"text-green-500":"ERROR"===(null==(le=pe.login)?void 0:le.status)?"text-red-500":"text-gray-400"}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Authentication"}),D.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Login System"})]})]}),"OK"===(null==(ce=pe.login)?void 0:ce.status)&&D.jsx(rm,{size:20,className:"text-green-500"}),"ERROR"===(null==(de=pe.login)?void 0:de.status)&&D.jsx(em,{size:20,className:"text-red-500"})]}),D.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(ue=pe.login)?void 0:ue.message)||"Checking..."}),(null==(he=pe.login)?void 0:he.lastChecked)&&D.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",pe.login.lastChecked]})]})]}),D.jsxs("div",{className:"mt-8 p-6 bg-gray-900 dark:bg-gray-800 rounded-2xl text-white",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[D.jsx(im,{size:20,className:"text-orange-500"}),D.jsx("h4",{className:"font-black uppercase tracking-tighter",children:"System Summary"})]}),D.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Checks"}),D.jsx("p",{className:"text-xl font-black",children:Object.keys(pe).length})]}),D.jsxs("div",{children:[D.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Operational"}),D.jsx("p",{className:"text-xl font-black text-green-400",children:Object.values(pe).filter(e=>"OK"===e.status).length})]}),D.jsxs("div",{children:[D.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Issues Found"}),D.jsx("p",{className:"text-xl font-black text-red-400",children:Object.values(pe).filter(e=>"ERROR"===e.status).length})]}),D.jsxs("div",{children:[D.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Last Full Scan"}),D.jsx("p",{className:"text-sm font-black",children:(new Date).toLocaleDateString()})]})]})]})]})},Rk=({vendors:e,restaurants:t,orders:r,locations:a,onAddVendor:n,onUpdateVendor:s,onImpersonateVendor:i,onAddLocation:o,onUpdateLocation:l,onDeleteLocation:c,onToggleOnline:d,onRemoveVendorFromHub:u,onFetchPaginatedOrders:h,onFetchAllFilteredOrders:p,onFetchStats:g})=>{const[m,f]=ve.useState("VENDORS"),[x,b]=ve.useState(""),[y,k]=ve.useState(""),[v,w]=ve.useState("ALL"),[j,N]=ve.useState(!1),[C,S]=ve.useState(!1),[_,E]=ve.useState(null),[P,O]=ve.useState({username:"",password:"",restaurantName:"",location:"",email:"",phone:"",logo:"",platformAccess:"pos_and_kitchen"}),B=ve.useRef(null),[T,R]=ve.useState(!1),[A,z]=ve.useState(null),[I,L]=ve.useState({name:"",city:"",state:"",code:"",type:"MULTI"}),[M,$]=ve.useState(null),[U,F]=ve.useState(null),[q,V]=ve.useState("SINGLE"),[H,K]=ve.useState("1"),[G,W]=ve.useState("1"),[Q,J]=ve.useState("10"),[X,Y]=ve.useState(!1),[Z,ee]=ve.useState(""),[te,re]=ve.useState("ALL"),[ae,ne]=ve.useState("ALL"),[se,ie]=ve.useState("ALL"),[oe,le]=ve.useState(()=>{const e=new Date;return e.setDate(e.getDate()-30),e.toISOString().split("T")[0]}),[ce,de]=ve.useState(()=>(new Date).toISOString().split("T")[0]),[ue,he]=ve.useState(25),[pe,ge]=ve.useState(1),[me,fe]=ve.useState(null),[xe,be]=ve.useState(!1),ye=ve.useMemo(()=>e.filter(e=>{const r=t.find(t=>t.id===e.restaurantId),a=e.username.toLowerCase().includes(x.toLowerCase())||(null==r?void 0:r.name.toLowerCase().includes(x.toLowerCase())),n="ALL"===v||("ACTIVE"===v?e.isActive:!e.isActive);return a&&n}),[e,t,x,v]),ke=ve.useMemo(()=>a.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.city.toLowerCase().includes(y.toLowerCase())||e.code.toLowerCase().includes(y.toLowerCase())),[a,y]),je=async(e=!1)=>{e||be(!0);try{const t={restaurantId:ae,locationName:se,startDate:oe,endDate:ce,status:te,search:Z};if(e&&p){return await p(t)}if(!e&&h){const e=await h(t,pe,ue);return void fe(e)}const r=new URLSearchParams({...t,page:e?"1":pe.toString(),limit:e?"10000":ue.toString()}),a=await fetch(`/api/orders/report?${r.toString()}`);if(!a.ok)throw new Error("Failed to fetch report");const n=await a.json();if(e)return n.orders;fe(n)}catch(t){}finally{e||be(!1)}};ve.useEffect(()=>{"REPORTS"===m&&je()},[m,oe,ce,te,Z,ae,se,pe,ue]);const Ne=me?Math.ceil(me.totalCount/ue):0,Ce=(null==me?void 0:me.orders)||[],Se=(e,t)=>`${window.location.origin+window.location.pathname}?loc=${encodeURIComponent(e)}&table=${t}`;return D.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[D.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 md:mb-12 gap-6 no-print",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-3xl md:text-4xl font-black dark:text-white tracking-tighter uppercase leading-none mb-1",children:"Platform Master"}),D.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-[8px] md:text-[10px] ml-1",children:"Administrative Controls"})]}),D.jsx("div",{className:"flex bg-white dark:bg-gray-800 rounded-2xl p-1.5 border dark:border-gray-700 shadow-sm transition-colors overflow-x-auto hide-scrollbar",children:[{id:"VENDORS",label:"Vendors",icon:Km},{id:"LOCATIONS",label:"Hubs",icon:Em},{id:"REPORTS",label:"Report",icon:Xm},{id:"SYSTEM",label:"System",icon:lm}].map(e=>D.jsxs("button",{onClick:()=>f(e.id),className:"flex-shrink-0 flex items-center gap-2 px-5 py-3 md:px-6 md:py-3 rounded-xl font-black transition-all text-[10px] md:text-xs uppercase tracking-widest "+(m===e.id?"bg-orange-500 text-white shadow-xl":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[D.jsx(e.icon,{size:16})," ",e.label]},e.id))})]}),D.jsxs("div",{className:"no-print",children:["VENDORS"===m&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 flex flex-col lg:flex-row lg:items-center justify-between gap-6 bg-gray-50/50 dark:bg-gray-700/50",children:[D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Vendor Directory"}),D.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[D.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[D.jsx(Um,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-11 pr-4 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm outline-none font-bold dark:text-white",value:x,onChange:e=>b(e.target.value)})]}),D.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[D.jsx(gm,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsxs("select",{className:"w-full pl-11 pr-8 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm appearance-none outline-none font-bold dark:text-white",value:v,onChange:e=>w(e.target.value),children:[D.jsx("option",{value:"ALL",children:"All Activation"}),D.jsx("option",{value:"ACTIVE",children:"Master Active"}),D.jsx("option",{value:"INACTIVE",children:"Master Deactive"})]})]}),D.jsx("button",{onClick:()=>{E(null),O({username:"",password:"",restaurantName:"",location:"",email:"",phone:"",logo:"",platformAccess:"pos_and_kitchen"}),S(!1),N(!0)},className:"w-full sm:w-auto px-6 py-2.5 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg transition-all active:scale-95",children:"+ Register"})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-8 py-4 text-left",children:"Kitchen"}),D.jsx("th",{className:"px-8 py-4 text-left",children:"Hub"}),D.jsx("th",{className:"px-8 py-4 text-center",children:"Master Activation"}),D.jsx("th",{className:"px-8 py-4 text-center",children:"Live Status"}),D.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:ye.map(e=>{const r=t.find(t=>t.id===e.restaurantId),a=(null==r?void 0:r.isOnline)??!1;return D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[D.jsx("td",{className:"px-8 py-5",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:null==r?void 0:r.logo,className:"w-10 h-10 rounded-xl shadow-sm object-cover border dark:border-gray-600"}),D.jsxs("div",{children:[D.jsx("span",{className:"font-black dark:text-white text-sm block",children:null==r?void 0:r.name}),D.jsxs("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-widest",children:["@",e.username]})]})]})}),D.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-500 dark:text-gray-400 uppercase truncate max-w-[120px]",children:(null==r?void 0:r.location)||"Unassigned"}),D.jsx("td",{className:"px-8 py-5 text-center",children:D.jsx("button",{onClick:()=>(e=>{const r=t.find(t=>t.id===e.restaurantId);r&&s({...e,isActive:!e.isActive},r)})(e),className:"p-2 rounded-xl transition-all "+(e.isActive?"text-green-500 bg-green-50 dark:bg-green-900/20":"text-gray-400 bg-gray-50 dark:bg-gray-700"),children:e.isActive?D.jsx(rm,{size:20}):D.jsx(zm,{size:20})})}),D.jsx("td",{className:"px-8 py-5 text-center",children:D.jsx("button",{onClick:()=>r&&d(r.id,a),className:"px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all "+(a?"bg-green-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-400"),children:a?"Online":"Offline"})}),D.jsx("td",{className:"px-8 py-5 text-right",children:D.jsxs("div",{className:"flex justify-end gap-2",children:[D.jsx("button",{onClick:()=>(e=>{const r=t.find(t=>t.id===e.restaurantId);r&&(E({user:e,res:r}),O({username:e.username,password:e.password||"",restaurantName:r.name,location:r.location,email:e.email||"",phone:e.phone||"",logo:r.logo,platformAccess:r.platformAccess||"pos_and_kitchen"}),S(!1),N(!0))})(e),className:"p-2 text-gray-400 hover:text-blue-500",children:D.jsx(Rm,{size:18})}),D.jsx("button",{onClick:()=>i(e),className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Sm,{size:18})})]})})]},e.id)})})]})})]}),"LOCATIONS"===m&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 flex flex-col lg:flex-row lg:items-center justify-between gap-6 bg-gray-50/50 dark:bg-gray-700/50",children:[D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Hub Registry"}),D.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[D.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[D.jsx(Um,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search hubs...",className:"w-full pl-11 pr-4 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm outline-none font-bold dark:text-white",value:y,onChange:e=>k(e.target.value)})]}),D.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[D.jsxs("button",{onClick:()=>Y(!0),className:"flex-1 sm:flex-none px-4 py-2.5 bg-white dark:bg-gray-900 text-orange-500 border-2 border-orange-500 rounded-xl font-black uppercase tracking-widest text-[9px] shadow-sm flex items-center justify-center gap-2 hover:bg-orange-500 hover:text-white transition-all",children:[D.jsx(Lm,{size:16})," QR"]}),D.jsx("button",{onClick:()=>{z(null),L({name:"",city:"",state:"",code:"",type:"MULTI"}),R(!0)},className:"flex-[2] sm:flex-none px-6 py-2.5 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg",children:"Register Hub"})]})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-8 py-4 text-left",children:"Hub"}),D.jsx("th",{className:"px-8 py-4 text-left",children:"Type"}),D.jsx("th",{className:"px-8 py-4 text-center",children:"Status"}),D.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:ke.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:[D.jsx("td",{className:"px-8 py-5",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/30 text-orange-500 rounded-xl flex items-center justify-center shadow-inner group-hover:bg-orange-500 group-hover:text-white transition-all",children:D.jsx(Em,{size:20})}),D.jsxs("div",{children:[D.jsx("span",{className:"font-black dark:text-white text-sm block uppercase tracking-tight",children:e.name}),D.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[e.code," | ",e.state]})]})]})}),D.jsx("td",{className:"px-8 py-5",children:D.jsx("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-tighter "+("SINGLE"===e.type?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"),children:e.type||"MULTI"})}),D.jsx("td",{className:"px-8 py-5 text-center",children:D.jsx("button",{onClick:()=>(e=>{l({...e,isActive:!e.isActive})})(e),className:"p-2 rounded-xl transition-all "+(!1!==e.isActive?"text-green-500 bg-green-50 dark:bg-green-900/20":"text-gray-400 bg-gray-50 dark:bg-gray-700"),children:!1!==e.isActive?D.jsx(zm,{size:20}):D.jsx(zm,{size:20,className:"opacity-40"})})}),D.jsx("td",{className:"px-8 py-5 text-right",children:D.jsxs("div",{className:"flex justify-end gap-2",children:[D.jsx("button",{onClick:()=>F(e),className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Lm,{size:18})}),D.jsx("button",{onClick:()=>(e=>{z(e),L({name:e.name,city:e.city,state:e.state,code:e.code,type:e.type||"MULTI"}),R(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-500",children:D.jsx(Rm,{size:18})})]})})]},e.id))})]})})]}),"REPORTS"===m&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[D.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[D.jsx("div",{children:D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Sales Analysis"})}),D.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[D.jsxs("div",{className:"relative w-full md:w-64",children:[D.jsx(Um,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"ID or Kitchen...",className:"w-full h-[36px] pl-10 pr-4 py-2 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-[10px] font-black uppercase outline-none focus:ring-1 focus:ring-orange-500 transition-all dark:text-white",value:Z,onChange:e=>{ee(e.target.value),ge(1)}})]}),D.jsxs("button",{onClick:async()=>{const e=await je(!0);if(!e||0===e.length)return;const r=[["Order ID","Kitchen","Hub","Table No","Date","Time","Status","Menu Order","Total Bill"],...e.map(e=>{const r=t.find(t=>t.id===e.restaurantId);return[e.id,(null==r?void 0:r.name)||"Unknown",e.locationName||"Unknown",e.tableNumber||"N/A",new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)]})].map(e=>e.join(",")).join("\n"),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",`platform_sales_report_${oe}_to_${ce}.csv`),document.body.appendChild(s),s.click(),document.body.removeChild(s)},disabled:!me||0===me.totalCount,className:"h-[36px] px-4 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:bg-orange-500 hover:text-white transition-all shadow-lg whitespace-nowrap",children:[D.jsx(dm,{size:14})," Download report"]})]})]}),D.jsxs("div",{className:"p-2 md:p-4",children:[D.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-2xl border dark:border-gray-700 mb-4 space-y-4",children:D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Period Selection"}),D.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-xl border dark:border-gray-600",children:[D.jsx(Gg,{size:14,className:"text-orange-500 shrink-0"}),D.jsx("input",{type:"date",value:oe,onChange:e=>{le(e.target.value),ge(1)},className:"flex-1 bg-transparent border-none text-[10px] font-black dark:text-white p-0 outline-none"}),D.jsx("span",{className:"text-gray-400 font-black",children:"-"}),D.jsx("input",{type:"date",value:ce,onChange:e=>{de(e.target.value),ge(1)},className:"flex-1 bg-transparent border-none text-[10px] font-black dark:text-white p-0 outline-none"})]})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Filter by Kitchen"}),D.jsxs("div",{className:"relative",children:[D.jsx(Km,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsxs("select",{value:ae,onChange:e=>{ne(e.target.value),ge(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[D.jsx("option",{value:"ALL",children:"All Kitchens"}),t.map(e=>D.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Filter by Hub"}),D.jsxs("div",{className:"relative",children:[D.jsx(Em,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsxs("select",{value:se,onChange:e=>{ie(e.target.value),ge(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[D.jsx("option",{value:"ALL",children:"All Hubs"}),a.map(e=>D.jsx("option",{value:e.name,children:e.name},e.id))]})]})]}),D.jsxs("div",{className:"space-y-1",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Outcome"}),D.jsxs("div",{className:"relative",children:[D.jsx(gm,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsxs("select",{value:te,onChange:e=>{re(e.target.value),ge(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[D.jsx("option",{value:"ALL",children:"All Outcomes"}),D.jsx("option",{value:Rg.COMPLETED,children:"Served"}),D.jsx("option",{value:Rg.PENDING,children:"Pending"}),D.jsx("option",{value:Rg.ONGOING,children:"Ongoing"}),D.jsx("option",{value:Rg.CANCELLED,children:"Rejected"})]})]})]})]})}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 mb-4",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[D.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Platform Revenue"}),D.jsxs("p",{className:"text-lg md:text-xl font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:["RM",(null==me?void 0:me.summary.totalRevenue.toFixed(2))||"0.00"]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[D.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Filtered Orders"}),D.jsx("p",{className:"text-lg md:text-xl font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:(null==me?void 0:me.summary.orderVolume)||0})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[D.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Global Health"}),D.jsxs("p",{className:"text-lg md:text-xl font-black text-green-500 tracking-tighter leading-none",children:[(null==me?void 0:me.summary.efficiency)||0,"%"]})]})]}),D.jsx("h3",{className:"text-xs font-black dark:text-white uppercase tracking-widest mb-3 ml-1",children:"All Order"}),D.jsx("div",{className:"rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden shadow-sm",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-8 py-3 text-left",children:"ID"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Kitchen"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Hub"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Table No"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Date"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Time"}),D.jsx("th",{className:"px-8 py-3 text-left",children:"Status"}),D.jsx("th",{className:"px-8 py-3 text-right",children:"Total Bill"})]})}),D.jsxs("tbody",{className:"divide-y dark:divide-gray-700",children:[Ce.map(e=>{const r=t.find(t=>t.id===e.restaurantId);return D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black dark:text-white uppercase tracking-widest",children:e.id}),D.jsx("td",{className:"px-8 py-2.5",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:null==r?void 0:r.logo,className:"w-4 h-4 rounded object-cover"}),D.jsx("span",{className:"text-[10px] font-black dark:text-white uppercase tracking-tight truncate max-w-[80px]",children:null==r?void 0:r.name})]})}),D.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:e.locationName}),D.jsxs("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-900 dark:text-white uppercase tracking-widest",children:["#",e.tableNumber]}),D.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-700 dark:text-gray-300 uppercase tracking-tighter",children:new Date(e.timestamp).toLocaleDateString()}),D.jsx("td",{className:"px-8 py-2.5 text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),D.jsx("td",{className:"px-8 py-2.5",children:D.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===Rg.COMPLETED?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"),children:e.status===Rg.COMPLETED?"Served":e.status})}),D.jsxs("td",{className:"px-8 py-2.5 text-right font-black dark:text-white text-[10px]",children:["RM",e.total.toFixed(2)]})]},e.id)}),0===Ce.length&&D.jsx("tr",{children:D.jsx("td",{colSpan:8,className:"py-20 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No matching records found."})})]})]})})}),Ne>1&&D.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2 no-print",children:[D.jsx("button",{onClick:()=>ge(1),disabled:1===pe,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Jg,{size:16})}),D.jsx("button",{onClick:()=>ge(e=>Math.max(1,e-1)),disabled:1===pe,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Yg,{size:16})}),D.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Ne},(e,t)=>t+1).filter(e=>1===e||e===Ne||e>=pe-2&&e<=pe+2).map((e,t,r)=>{const a=t>0&&e!==r[t-1]+1;return D.jsxs(we.Fragment,{children:[a&&D.jsx("span",{className:"text-gray-400 px-1",children:"..."}),D.jsx("button",{onClick:()=>ge(e),className:"w-8 h-8 rounded-lg text-[10px] font-black transition-all "+(pe===e?"bg-orange-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"),children:e})]},e)})}),D.jsx("button",{onClick:()=>ge(e=>Math.min(Ne,e+1)),disabled:pe===Ne,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Zg,{size:16})}),D.jsx("button",{onClick:()=>ge(Ne),disabled:pe===Ne,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Xg,{size:16})})]})]})]}),"SYSTEM"===m&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/50",children:[D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"System Health Monitor"}),D.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-1",children:"Real-time platform diagnostics"})]}),D.jsx("div",{className:"p-4 md:p-8",children:D.jsx(Tk,{})})]})]}),j&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>N(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:24})}),D.jsx("h2",{className:"text-2xl font-black mb-8 dark:text-white uppercase tracking-tighter",children:_?"Modify Vendor":"New Kitchen Signal"}),D.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!P.username||!P.location)return;const t={id:(null==_?void 0:_.user.id)||"",username:P.username,password:P.password,role:"VENDOR",email:P.email,phone:P.phone,isActive:!_||_.user.isActive},r={id:(null==_?void 0:_.res.id)||"",name:P.restaurantName,logo:P.logo,vendorId:(null==_?void 0:_.user.id)||"",location:P.location,menu:(null==_?void 0:_.res.menu)||[],platformAccess:P.platformAccess};_?s(t,r):n(t,r),N(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Kitchen Name"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:P.restaurantName,onChange:e=>O({...P,restaurantName:e.target.value})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Assign to Hub"}),D.jsxs("select",{required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm appearance-none cursor-pointer",value:P.location,onChange:e=>O({...P,location:e.target.value}),children:[D.jsx("option",{value:"",children:"Select a Hub"}),a.filter(e=>!1!==e.isActive).map(e=>D.jsx("option",{value:e.name,children:e.name},e.id))]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Kitchen Logo (Asset)"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("div",{onClick:()=>{var e;return null==(e=B.current)?void 0:e.click()},className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-xl flex items-center justify-center border-2 border-dashed border-orange-200 cursor-pointer hover:bg-orange-100 transition-colors shrink-0",children:P.logo?D.jsx("img",{src:P.logo,className:"w-full h-full object-cover rounded-lg"}):D.jsx(Ym,{size:18})}),D.jsxs("div",{className:"flex-1 relative",children:[D.jsx(wm,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Paste URL or upload...",className:"w-full pl-9 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-xs",value:P.logo,onChange:e=>O({...P,logo:e.target.value})})]}),D.jsx("input",{type:"file",ref:B,className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{const e=await cf(r,"quickserve","logos");O({...P,logo:e})}catch(a){alert("Failed to upload logo. Please try again.")}}})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Contact Phone No."}),D.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:P.phone,onChange:e=>O({...P,phone:e.target.value})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Contact Email"}),D.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:P.email,onChange:e=>O({...P,email:e.target.value})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Vendor Username"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:P.username,onChange:e=>O({...P,username:e.target.value})})]}),D.jsxs("div",{className:"md:col-span-2",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Platform Access"}),D.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-700 p-1 rounded-xl",children:[D.jsx("button",{type:"button",onClick:()=>O({...P,platformAccess:"pos_and_kitchen"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("pos_and_kitchen"===P.platformAccess?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"POS & Kitchen"}),D.jsx("button",{type:"button",onClick:()=>O({...P,platformAccess:"pos_only"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("pos_only"===P.platformAccess?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"POS Only"})]}),D.jsx("p",{className:"text-[8px] text-gray-400 mt-1 ml-1",children:"Determines what features this restaurant's staff can access"})]}),D.jsxs("div",{className:"md:col-span-2",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Secret Key (Password)"}),D.jsxs("div",{className:"relative",children:[D.jsx("input",{required:!_,type:C?"text":"password",className:"w-full pl-4 pr-11 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:P.password,onChange:e=>O({...P,password:e.target.value}),placeholder:_?"Leave blank to keep current password":"Enter password"}),D.jsx("button",{type:"button",onClick:()=>S(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:C?D.jsx(hm,{size:18}):D.jsx(pm,{size:18})})]})]}),D.jsx("div",{className:"md:col-span-2 pt-4",children:D.jsx("button",{type:"submit",className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl hover:bg-orange-600 transition-all active:scale-95",children:"Save Changes"})})]})]})}),T&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>R(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:24})}),D.jsx("h2",{className:"text-2xl font-black mb-8 dark:text-white uppercase tracking-tighter",children:A?"Modify Hub":"Register New Hub"}),D.jsxs("form",{onSubmit:e=>{e.preventDefault(),A?l({...A,...I}):o({...I,id:"",isActive:!0}),R(!1)},className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hub Name"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:I.name,onChange:e=>L({...I,name:e.target.value})})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"City"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:I.city,onChange:e=>L({...I,city:e.target.value})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"State"}),D.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:I.state,onChange:e=>L({...I,state:e.target.value})})]})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Short Code"}),D.jsx("input",{required:!0,type:"text",maxLength:3,placeholder:"e.g. SF",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm uppercase",value:I.code,onChange:e=>L({...I,code:e.target.value.toUpperCase()})})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hub Type"}),D.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-700 p-1 rounded-xl",children:[D.jsx("button",{type:"button",onClick:()=>L({...I,type:"MULTI"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("MULTI"===I.type?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Multi"}),D.jsx("button",{type:"button",onClick:()=>L({...I,type:"SINGLE"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("SINGLE"===I.type?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Single"})]})]})]}),D.jsxs("div",{className:"pt-4 flex gap-4",children:[A&&D.jsx("button",{type:"button",onClick:()=>{confirm("Delete Hub?")&&c(A.id),R(!1)},className:"p-3 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:D.jsx(Jm,{size:24})}),D.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl",children:"Confirm Hub Data"})]})]})]})}),U&&D.jsx("div",{className:"fixed inset-0 z-[110] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-4xl w-full p-8 shadow-2xl relative animate-in zoom-in duration-300",children:[D.jsx("button",{onClick:()=>F(null),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors no-print",children:D.jsx(sf,{size:24})}),D.jsxs("div",{className:"no-print",children:[D.jsx("h2",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Hub QR Factory"}),D.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-8",children:["Generating for: ",U.name]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[D.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-2xl space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Range Strategy"}),D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 p-1 rounded-xl",children:[D.jsx("button",{onClick:()=>V("SINGLE"),className:"flex-1 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("SINGLE"===q?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Single"}),D.jsx("button",{onClick:()=>V("BATCH"),className:"flex-1 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("BATCH"===q?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Batch"})]})]}),"SINGLE"===q?D.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:H,onChange:e=>K(e.target.value),placeholder:"Table No."}):D.jsxs("div",{className:"flex gap-4",children:[D.jsx("input",{type:"number",className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:G,onChange:e=>W(e.target.value),placeholder:"Start"}),D.jsx("input",{type:"number",className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:Q,onChange:e=>J(e.target.value),placeholder:"End"})]}),D.jsxs("button",{onClick:()=>{requestAnimationFrame(()=>{setTimeout(()=>{window.print()},50)})},className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg flex items-center justify-center gap-2",children:[D.jsx(Im,{size:18})," Print Labelling"]})]}),D.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border-4 border-dashed border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center p-8",children:"SINGLE"===q?D.jsxs(D.Fragment,{children:[D.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(Se(U.name,H))}`,alt:"QR",className:"w-40 h-40 mb-4"}),D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:U.name}),D.jsxs("span",{className:"text-2xl font-black text-orange-500 uppercase tracking-tighter",children:["TABLE ",H]})]}):D.jsxs("div",{className:"text-center opacity-40",children:[D.jsx(km,{size:48,className:"mx-auto mb-4 text-gray-300"}),D.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Multiple Print Nodes Ready"})]})})]})]}),D.jsx("div",{className:"hidden print:block bg-white text-black p-0",children:"SINGLE"===q?D.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[D.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=${encodeURIComponent(Se(U.name,H))}`,className:"w-80 h-80 mb-8"}),D.jsx("h1",{className:"text-4xl font-black uppercase",children:U.name}),D.jsxs("h2",{className:"text-6xl font-black text-orange-600",children:["TABLE ",H]})]}):D.jsx("div",{className:"grid grid-cols-2 gap-8 p-8",children:(()=>{const e=parseInt(G),t=parseInt(Q);if(isNaN(e)||isNaN(t))return null;const r=Math.max(0,t-e+1);return Array.from({length:r}).map((t,r)=>{const a=e+r;return D.jsxs("div",{className:"page-break-inside-avoid border-2 border-gray-200 p-8 flex flex-col items-center rounded-[2rem]",children:[D.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(Se(U.name,String(a)))}`,className:"w-48 h-48 mb-4"}),D.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 text-gray-500",children:U.name}),D.jsxs("p",{className:"text-2xl font-black uppercase",children:["TABLE ",a]})]},a)})})()})})]})}),X&&D.jsx("div",{className:"fixed inset-0 z-[120] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-lg w-full p-8 shadow-2xl relative",children:[D.jsx("button",{onClick:()=>Y(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:24})}),D.jsx("h2",{className:"text-2xl font-black mb-6 dark:text-white uppercase tracking-tighter",children:"Select Hub to Generate"}),D.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:a.filter(e=>!1!==e.isActive).map(e=>D.jsxs("button",{onClick:()=>{F(e),Y(!1)},className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-2xl border dark:border-gray-700 group transition-all",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Em,{size:20,className:"text-orange-500"}),D.jsx("span",{className:"font-black dark:text-white uppercase tracking-tight text-sm",children:e.name})]}),D.jsx(Zg,{size:18,className:"text-gray-300 group-hover:text-orange-500 translate-x-0 group-hover:translate-x-1 transition-all"})]},e.id))})]})}),D.jsx("style",{children:"\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .custom-scrollbar::-webkit-scrollbar { width: 4px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 10px; }\n      "})]})},Ak=({restaurant:e,orders:t,onUpdateOrder:r,onPlaceOrder:a,onFetchPaginatedOrders:n,onFetchAllFilteredOrders:s,onUpdateRestaurantSettings:i,onSwitchToVendor:o})=>{var l,c,d,u;const[h,p]=ve.useState("COUNTER"),[g,m]=ve.useState(!1),[f,x]=ve.useState("grid-4"),[b,y]=ve.useState([]),[k,v]=ve.useState(""),[w,j]=ve.useState("Counter"),[N,C]=ve.useState(""),[S,_]=ve.useState("ALL"),[E,P]=ve.useState(""),[O,B]=ve.useState(null),[T,R]=ve.useState(!1),[A,z]=ve.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}),[I,L]=ve.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]}),[M,$]=ve.useState("ALL"),[U,F]=ve.useState(""),[q,V]=ve.useState(30),[H,K]=ve.useState(1),[G,W]=ve.useState(null),[Q,J]=ve.useState(!1),[X,Y]=ve.useState(null),Z=ve.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return["ALL",...Array.from(t)]},[e.menu]),ee=ve.useMemo(()=>e.menu.filter(e=>{const t=e.name.toLowerCase().includes(N.toLowerCase()),r="ALL"===S||e.category===S;return t&&r&&!e.isArchived}),[e.menu,N,S]),te=ve.useMemo(()=>{const e={};return("ALL"===S?Z.filter(e=>"ALL"!==e):[S]).forEach(t=>{const r=ee.filter(e=>e.category===t);r.length>0&&(e[t]=r)}),e},[ee,S,Z]),re=(e,t)=>{y(r=>r.map(r=>{if(r.id===e){const e=Math.max(1,r.quantity+t);return{...r,quantity:e}}return r}))},ae=ve.useMemo(()=>b.reduce((e,t)=>e+t.price*t.quantity,0),[b]),ne=ve.useMemo(()=>t.filter(t=>t.status===Rg.SERVED&&t.restaurantId===e.id),[t,e.id]),se=async(t=!1)=>{if(n){t||J(!0);try{const r=await n({restaurantId:e.id,startDate:A,endDate:I,status:M,search:U},t?1:H,t?1e4:q);if(t)return r.orders;W(r)}catch(r){}finally{t||J(!1)}}};ve.useEffect(()=>{"REPORTS"===h&&se()},[h,A,I,M,U,H,q]);const ie=G?Math.ceil(G.totalCount/q):0,oe=(null==G?void 0:G.orders)||[],le=async t=>{if(!i)return;const r=e.settings||{},a={...r,[t]:!1===r[t]};await i(e.id,a)},ce=e=>{p(e),m(!1)};return D.jsxs("div",{className:"flex h-[calc(100vh-64px)] bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[g&&D.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>m(!1)}),D.jsxs("aside",{className:`\n        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r dark:border-gray-700 \n        flex flex-col transition-transform duration-300 ease-in-out no-print\n        ${g?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[D.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center gap-3",children:[D.jsx("img",{src:e.logo,className:"w-10 h-10 rounded-lg shadow-sm"}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-black dark:text-white text-sm uppercase tracking-tight",children:e.name}),D.jsx("p",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest mt-0.5",children:"POS Terminal"})]})]}),D.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[D.jsxs("button",{onClick:()=>ce("COUNTER"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("COUNTER"===h?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Hm,{size:20})," Counter"]}),D.jsxs("button",{onClick:()=>ce("QR_ORDERS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("QR_ORDERS"===h?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(nm,{size:20})," QR Orders",ne.length>0&&D.jsx("span",{className:"ml-auto bg-orange-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full animate-bounce",children:ne.length})]}),D.jsxs("button",{onClick:()=>ce("REPORTS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("REPORTS"===h?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Qg,{size:20})," Reports"]}),D.jsxs("button",{onClick:()=>ce("QR_GEN"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("QR_GEN"===h?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Lm,{size:20})," QR Generator"]}),D.jsxs("button",{onClick:()=>ce("SETTINGS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("SETTINGS"===h?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Fm,{size:20})," Settings"]})]}),o&&D.jsx("div",{className:"p-4 mt-auto border-t dark:border-gray-700",children:D.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all border border-orange-100 dark:border-orange-900/20",children:[D.jsx(Hm,{size:18})," Switch to Vendor"]})})]}),D.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[D.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[D.jsxs("div",{className:"lg:hidden flex items-center p-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-30 no-print",children:[D.jsx("button",{onClick:()=>m(!0),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:D.jsx(Pm,{size:24})}),D.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[D.jsx("img",{src:e.logo,className:"w-8 h-8 rounded-lg shadow-sm"}),D.jsx("h1",{className:"font-black dark:text-white uppercase tracking-tighter text-sm truncate",children:"COUNTER"===h?"POS Counter":"QR_ORDERS"===h?"QR Orders":"REPORTS"===h?"Sales Report":"QR_GEN"===h?"QR Generator":"Settings"})]})]}),"COUNTER"===h&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 px-6 py-4 flex flex-col gap-4",children:[D.jsxs("div",{className:"flex items-center justify-between gap-4",children:[D.jsx("div",{className:"flex items-center gap-4 overflow-x-auto no-scrollbar flex-1",children:Z.map(e=>D.jsx("button",{onClick:()=>_(e),className:"px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest whitespace-nowrap transition-all "+(S===e?"bg-black text-white dark:bg-white dark:text-black":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e},e))}),D.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl shrink-0",children:[D.jsx("button",{onClick:()=>x("grid-3"),className:"p-2 rounded-lg transition-all "+("grid-3"===f?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>x("grid-4"),className:"p-2 rounded-lg transition-all "+("grid-4"===f?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>x("grid-5"),className:"p-2 rounded-lg transition-all "+("grid-5"===f?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>x("list"),className:"p-2 rounded-lg transition-all "+("list"===f?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(jm,{size:16})})]})]}),D.jsxs("div",{className:"relative",children:[D.jsx(Um,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search menu items...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-2 focus:ring-orange-500 transition-all",value:N,onChange:e=>C(e.target.value)})]})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-2 scroll-smooth",children:D.jsx("div",{className:"space-y-4",children:Object.entries(te).map(([t,r])=>D.jsxs("section",{children:[D.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"}),D.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] whitespace-nowrap",children:t}),D.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"})]}),D.jsx("div",{className:"grid gap-1.5 "+("grid-3"===f?"grid-cols-3":"grid-4"===f?"grid-cols-4":"grid-5"===f?"grid-cols-5":"grid-cols-1"),children:r.map(t=>D.jsxs("button",{onClick:()=>(t=>{y(r=>r.find(e=>e.id===t.id)?r.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...r,{...t,quantity:1,restaurantId:e.id}])})(t),className:"bg-white dark:bg-gray-800 border dark:border-gray-700 text-left hover:border-orange-500 transition-all group shadow-sm flex "+("list"===f?"flex-row items-center gap-4 p-2 rounded-xl":"flex-col p-2 rounded-xl"),children:[D.jsx("div",{className:("list"===f?"w-16 h-16":"aspect-square w-full")+" rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 shrink-0",children:t.image?D.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}):D.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:D.jsx(Hm,{size:20})})}),D.jsxs("div",{className:"list"===f?"flex-1":"mt-3",children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tighter mb-1 line-clamp-1",children:t.name}),D.jsxs("p",{className:"text-orange-500 font-black text-sm",children:["RM",t.price.toFixed(2)]})]})]},t.id))})]},t))})})]}),"QR_ORDERS"===h&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-4xl mx-auto",children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tighter",children:"Unpaid QR Orders"}),D.jsxs("div",{className:"relative w-64",children:[D.jsx(Um,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search Table/ID...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black uppercase outline-none focus:ring-1 focus:ring-orange-500 dark:text-white",value:E,onChange:e=>P(e.target.value)})]})]}),D.jsx("div",{className:"space-y-4",children:0===ne.length?D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl border dark:border-gray-700 text-center",children:[D.jsx(rm,{size:48,className:"mx-auto text-green-500 mb-4 opacity-20"}),D.jsx("p",{className:"text-gray-400 font-black uppercase tracking-widest text-xs",children:"All bills cleared"})]}):ne.filter(e=>{var t;return e.id.toLowerCase().includes(E.toLowerCase())||(null==(t=e.tableNumber)?void 0:t.toLowerCase().includes(E.toLowerCase()))}).map(e=>D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center text-orange-500 font-black text-lg",children:e.tableNumber}),D.jsxs("div",{children:[D.jsxs("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:["Order #",e.id]}),D.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:new Date(e.timestamp).toLocaleString()})]})]}),D.jsx("button",{onClick:()=>(e=>{B(e),R(!0)})(e),className:"px-6 py-3 bg-black dark:bg-white text-white dark:text-black rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-lg",children:"Collect Payment"})]}),D.jsx("div",{className:"mt-4 space-y-3",children:e.items.map((e,t)=>D.jsxs("div",{className:"border-l-2 border-gray-200 dark:border-gray-700 pl-3",children:[D.jsx("div",{className:"flex justify-between items-start",children:D.jsxs("div",{children:[D.jsxs("p",{className:"font-black text-sm dark:text-white",children:["x",e.quantity," ",e.name]}),D.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["RM",(e.price*e.quantity).toFixed(2)]})]})}),D.jsxs("div",{className:"mt-1 space-y-1",children:[e.selectedSize&&D.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:[" Size: ",e.selectedSize]}),e.selectedTemp&&D.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:[" Temperature: ",e.selectedTemp]}),e.selectedOtherVariant&&D.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:[" ",e.selectedOtherVariant]}),e.selectedAddOns&&e.selectedAddOns.length>0&&D.jsxs("div",{className:"mt-1",children:[D.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Add-ons:"}),e.selectedAddOns.map((e,t)=>D.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 ml-2",children:[" ",e.name," x",e.quantity," (+RM",(e.price*e.quantity).toFixed(2),")"]},t))]})]})]},t))}),D.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 flex justify-between items-center",children:[D.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Total"}),D.jsxs("span",{className:"text-xl font-black text-orange-500",children:["RM",e.total.toFixed(2)]})]}),e.remark&&D.jsx("div",{className:"mt-3 p-2 bg-orange-50 dark:bg-orange-900/10 rounded-lg",children:D.jsxs("p",{className:"text-[10px] text-gray-600 dark:text-gray-300 italic",children:["Remark: ",e.remark]})})]},e.id))})]})}),"REPORTS"===h&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter",children:"POS Sales Report"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-widest",children:"Financial performance and order history."})]}),D.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-xl border dark:border-gray-700",children:[D.jsx(Gg,{size:14,className:"text-orange-500"}),D.jsx("input",{type:"date",value:A,onChange:e=>z(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"}),D.jsx("span",{className:"text-gray-400 font-black",children:"to"}),D.jsx("input",{type:"date",value:I,onChange:e=>L(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm flex flex-col md:flex-row items-center gap-4 mb-6",children:[D.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:D.jsxs("div",{className:"w-full sm:w-48",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Order Outcome"}),D.jsxs("select",{value:M,onChange:e=>$(e.target.value),className:"w-full p-1.5 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white appearance-none cursor-pointer",children:[D.jsx("option",{value:"ALL",children:"All Outcomes"}),D.jsx("option",{value:Rg.COMPLETED,children:"Paid/Finalized"}),D.jsx("option",{value:Rg.SERVED,children:"Served (Unpaid)"}),D.jsx("option",{value:Rg.CANCELLED,children:"Rejected"})]})]})}),D.jsxs("button",{onClick:async()=>{const e=await se(!0);if(!e||0===e.length)return;const t=[["Order ID","Table","Date","Time","Status","Items","Total"],...e.map(e=>[e.id,e.tableNumber,new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.setAttribute("download",`POS_Report_${A}_to_${I}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"w-full md:w-auto px-6 py-2 bg-black text-white dark:bg-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-orange-500 transition-all",children:[D.jsx(dm,{size:16})," Export CSV"]})]}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Total Revenue"}),D.jsxs("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:["RM",(null==G?void 0:G.summary.totalRevenue.toFixed(2))||"0.00"]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Order Volume"}),D.jsx("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:(null==G?void 0:G.summary.orderVolume)||0})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Efficiency"}),D.jsxs("p",{className:"text-2xl font-black text-green-500 tracking-tighter",children:[(null==G?void 0:G.summary.efficiency)||0,"%"]})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[D.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[D.jsxs("div",{className:"relative max-w-sm w-full",children:[D.jsx(Um,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search Order ID...",value:U,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-1 focus:ring-orange-500"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Show"}),D.jsxs("select",{value:q,onChange:e=>V(Number(e.target.value)),className:"bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5 outline-none cursor-pointer",children:[D.jsx("option",{value:30,children:"30"}),D.jsx("option",{value:50,children:"50"}),D.jsx("option",{value:100,children:"100"})]}),D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Entries"})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full text-left",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:[D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Order ID"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Table"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Time"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:oe.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsxs("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white uppercase tracking-tighter",children:["#",e.id]}),D.jsx("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white",children:e.tableNumber}),D.jsxs("td",{className:"px-6 py-4 font-black text-[10px] text-orange-500",children:["RM",e.total.toFixed(2)]}),D.jsx("td",{className:"px-6 py-4",children:D.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===Rg.COMPLETED?"bg-green-100 text-green-600":e.status===Rg.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:e.status===Rg.COMPLETED?"Paid":e.status===Rg.SERVED?"Served":e.status})}),D.jsx("td",{className:"px-6 py-4 text-[10px] text-gray-400 font-medium",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id))})]})})]}),ie>1&&D.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2",children:[D.jsx("button",{onClick:()=>K(1),disabled:1===H,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Jg,{size:16})}),D.jsx("button",{onClick:()=>K(e=>Math.max(1,e-1)),disabled:1===H,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Yg,{size:16})}),Array.from({length:ie},(e,t)=>t+1).map(e=>D.jsx("button",{onClick:()=>K(e),className:"w-8 h-8 rounded-lg font-black text-[10px] transition-all "+(H===e?"bg-orange-500 text-white shadow-md":"bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:border-orange-500"),children:e},e)),D.jsx("button",{onClick:()=>K(e=>Math.min(ie,e+1)),disabled:H===ie,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Zg,{size:16})}),D.jsx("button",{onClick:()=>K(ie),disabled:H===ie,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Xg,{size:16})})]})]})}),"QR_GEN"===h&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-[40px] border dark:border-gray-700 shadow-2xl text-center max-w-md w-full",children:[D.jsx("div",{className:"w-24 h-24 bg-orange-500 rounded-3xl flex items-center justify-center text-white mx-auto mb-6 shadow-xl shadow-orange-500/20",children:D.jsx(Lm,{size:48})}),D.jsx("h3",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter mb-2",children:"Hub QR Generator"}),D.jsx("p",{className:"text-xs text-gray-400 font-medium mb-8",children:"Generate ordering QR codes for your tables."}),D.jsx("div",{className:"space-y-4 mb-8",children:D.jsxs("div",{className:"text-left",children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Table Number"}),D.jsxs("div",{className:"relative",children:[D.jsx(xm,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl text-sm font-black dark:text-white outline-none focus:ring-2 focus:ring-orange-500 transition-all",placeholder:"e.g. 12",value:w,onChange:e=>j(e.target.value)})]})]})}),D.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-orange-900/10 rounded-3xl border border-orange-100 dark:border-orange-900/20 mb-8",children:[D.jsx("p",{className:"text-[10px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest mb-1",children:"Preview Link"}),D.jsxs("p",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-500 break-all",children:[window.location.origin,"/?loc=",encodeURIComponent(e.location),"&table=",w]})]}),D.jsxs("button",{onClick:()=>window.print(),className:"w-full py-4 bg-black dark:bg-white text-white dark:text-black rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl flex items-center justify-center gap-2",children:[D.jsx(Im,{size:16})," Generate & Print"]})]})}),"SETTINGS"===h&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-2xl mx-auto",children:[D.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tighter mb-6",children:"Kitchen Access Settings"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:"Sales Reports"}),D.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Allow kitchen staff to view financial reports"})]}),D.jsx("button",{onClick:()=>le("showSalesReport"),className:"w-12 h-6 rounded-full transition-all relative "+(!1!==(null==(l=e.settings)?void 0:l.showSalesReport)?"bg-orange-500":"bg-gray-200 dark:bg-gray-700"),children:D.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(!1!==(null==(c=e.settings)?void 0:c.showSalesReport)?"left-7":"left-1")})})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:"QR Generator"}),D.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Allow kitchen staff to generate table QR codes"})]}),D.jsx("button",{onClick:()=>le("showQrGenerator"),className:"w-12 h-6 rounded-full transition-all relative "+(!1!==(null==(d=e.settings)?void 0:d.showQrGenerator)?"bg-orange-500":"bg-gray-200 dark:bg-gray-700"),children:D.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(!1!==(null==(u=e.settings)?void 0:u.showQrGenerator)?"left-7":"left-1")})})]})]})]})})]}),("COUNTER"===h||"QR_ORDERS"===h&&T)&&D.jsxs("div",{className:`\n            w-96 bg-white dark:bg-gray-800 border-l dark:border-gray-700 flex flex-col\n            transition-all duration-300 ease-in-out\n            ${"QR_ORDERS"===h&&T?"animate-slide-left":""}\n          `,children:[D.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between",children:[D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter",children:O?`Order #${O.id}`:"Current Order"}),D.jsxs("div",{className:"flex items-center gap-2",children:[O&&D.jsx("button",{onClick:()=>{B(null),R(!1)},className:"text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),!O&&D.jsx("button",{onClick:()=>y([]),className:"text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(Jm,{size:18})})]})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:O?O.items.map((e,t)=>D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("h4",{className:"font-black text-[10px] dark:text-white uppercase tracking-tighter line-clamp-1",children:e.name}),D.jsxs("p",{className:"text-[10px] text-orange-500 font-black",children:["RM",e.price.toFixed(2)," x",e.quantity]})]}),D.jsx("div",{className:"text-right",children:D.jsxs("p",{className:"font-black text-xs dark:text-white",children:["RM",(e.price*e.quantity).toFixed(2)]})})]}),D.jsxs("div",{className:"ml-4 space-y-1",children:[e.selectedSize&&D.jsxs("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:[" Size: ",e.selectedSize]}),e.selectedTemp&&D.jsxs("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:[" ",e.selectedTemp]}),e.selectedOtherVariant&&D.jsxs("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:[" ",e.selectedOtherVariant]}),e.selectedAddOns&&e.selectedAddOns.length>0&&D.jsxs("div",{className:"mt-1",children:[D.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Add-ons:"}),e.selectedAddOns.map((e,t)=>D.jsxs("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 ml-2",children:[" ",e.name," x",e.quantity," (+RM",(e.price*e.quantity).toFixed(2),")"]},t))]})]})]},t)):0===b.length?D.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-20",children:[D.jsx(Hm,{size:48,className:"mb-4"}),D.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cart is empty"})]}):b.map(e=>D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("h4",{className:"font-black text-[10px] dark:text-white uppercase tracking-tighter line-clamp-1",children:e.name}),D.jsxs("p",{className:"text-[10px] text-orange-500 font-black",children:["RM",e.price.toFixed(2)]})]}),D.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[D.jsx("button",{onClick:()=>re(e.id,-1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:D.jsx(Bm,{size:12})}),D.jsx("span",{className:"text-[10px] font-black w-4 text-center dark:text-white",children:e.quantity}),D.jsx("button",{onClick:()=>re(e.id,1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:D.jsx(Am,{size:12})})]}),D.jsx("button",{onClick:()=>{return t=e.id,void y(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-300 hover:text-red-500",children:D.jsx(Jm,{size:14})})]},e.id))}),D.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/30 border-t dark:border-gray-700 space-y-4",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-gray-400",children:[D.jsx("span",{children:"Subtotal"}),D.jsxs("span",{children:["RM",O?O.total.toFixed(2):ae.toFixed(2)]})]}),D.jsxs("div",{className:"flex items-center justify-between text-lg font-black dark:text-white tracking-tighter",children:[D.jsx("span",{className:"uppercase",children:"Total"}),D.jsxs("span",{className:"text-orange-500",children:["RM",O?O.total.toFixed(2):ae.toFixed(2)]})]})]}),O?D.jsxs("button",{onClick:async()=>{if(!O)return;const e=O.items.map(e=>({...e,restaurantId:O.restaurantId}));try{await a(e,O.remark||"",O.tableNumber||""),await r(O.id,Rg.COMPLETED),B(null),R(!1),alert("Payment completed successfully!")}catch(t){alert("Failed to complete payment")}},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-orange-600 transition-all shadow-xl shadow-orange-500/20 flex items-center justify-center gap-2",children:[D.jsx(om,{size:16})," Complete Payment"]}):D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Table"}),D.jsx("input",{type:"text",value:w,onChange:e=>j(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white"})]}),D.jsxs("div",{className:"flex-[2]",children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Remark"}),D.jsx("input",{type:"text",value:k,onChange:e=>v(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white",placeholder:"No spicy..."})]})]}),D.jsxs("button",{onClick:async()=>{if(0!==b.length)try{await a(b,k,w),y([]),v(""),j("Counter"),alert("Order placed successfully!")}catch(e){alert("Failed to place order")}},disabled:0===b.length,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-orange-600 transition-all shadow-xl shadow-orange-500/20 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[D.jsx(om,{size:16})," Complete Order"]})]})]})]})]}),D.jsx("style",{children:"\n        .no-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .no-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        @keyframes slideLeft {\n          from {\n            transform: translateX(100%);\n          }\n          to {\n            transform: translateX(0);\n          }\n        }\n        .animate-slide-left {\n          animation: slideLeft 0.3s ease-out;\n        }\n      "})]})},zk=({restaurant:e,orders:t,onUpdateOrder:r,onPlaceOrder:a,onUpdateMenu:n,onAddMenuItem:s,onPermanentDeleteMenuItem:i,onFetchPaginatedOrders:o,onFetchAllFilteredOrders:l})=>{const[c,d]=ve.useState("COUNTER"),[u,h]=ve.useState(!1),[p,g]=ve.useState("grid-4"),[m,f]=ve.useState([]),[x,b]=ve.useState(""),[y,k]=ve.useState("Counter"),[v,w]=ve.useState(""),[j,N]=ve.useState("ALL"),[C,S]=ve.useState(null),[_,E]=ve.useState(!1),[P,O]=ve.useState("ACTIVE"),[B,T]=ve.useState("grid"),[R,A]=ve.useState("All"),[z,I]=ve.useState("KITCHEN"),[L,M]=ve.useState(!1),[$,U]=ve.useState({name:"",description:"",price:0,image:"",category:"Main Dish",isArchived:!1}),[F,q]=ve.useState(!1),[V,H]=ve.useState(!1),[K,G]=ve.useState(""),[W,Q]=ve.useState(!1),[J,X]=ve.useState([]),[Y,Z]=ve.useState([]),[ee,te]=ve.useState("list"),[re,ae]=ve.useState(null),[ne,se]=ve.useState(""),[ie,oe]=ve.useState("list"),[le,ce]=ve.useState(null),[de,ue]=ve.useState(null),[he,pe]=ve.useState(""),[ge,me]=ve.useState([]),[fe,xe]=ve.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}),[be,ye]=ve.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]}),[ke,we]=ve.useState("ALL"),[je,Ne]=ve.useState(""),[Ce,Se]=ve.useState(30),[_e,Ee]=ve.useState(1),[Pe,Oe]=ve.useState(null),[Be,Te]=ve.useState(!1),[Re,Ae]=ve.useState(()=>{const t=localStorage.getItem(`staff_${e.id}`);return t?JSON.parse(t):[]}),[ze,Ie]=ve.useState(!1),[Le,Me]=ve.useState(""),[De,$e]=ve.useState(""),[Ue,Fe]=ve.useState(""),[qe,Ve]=ve.useState(""),[He,Ke]=ve.useState(!1),Ge=e=>{S(e),U({...e}),E(!0)},We=()=>{E(!1),S(null),U({name:"",description:"",price:0,image:"",category:"Main Dish",isArchived:!1})},Qe=async t=>{n?await n(e.id,{...t,isArchived:!0}):alert("Menu editing is not enabled for this account.")},Je=async t=>{n?await n(e.id,{...t,isArchived:!1}):alert("Menu editing is not enabled for this account.")},Xe=ve.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return["ALL",...Array.from(t)]},[e.menu]),Ye=ve.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return J.forEach(e=>t.add(e.name)),["All",...Array.from(t)]},[e.menu,J]),Ze=ve.useMemo(()=>e.menu.filter(e=>{const t="ACTIVE"===P?!e.isArchived:!!e.isArchived,r="All"===R||e.category===R;return t&&r}),[e.menu,P,R]),et=ve.useMemo(()=>e.menu.filter(e=>{const t=e.name.toLowerCase().includes(v.toLowerCase()),r="ALL"===j||e.category===j;return t&&r&&!e.isArchived}),[e.menu,v,j]),tt=ve.useMemo(()=>{const e={};return("ALL"===j?Xe.filter(e=>"ALL"!==e):[j]).forEach(t=>{const r=et.filter(e=>e.category===t);r.length>0&&(e[t]=r)}),e},[et,j,Xe]),rt=(e,t)=>{f(r=>r.map(r=>{if(r.id===e){const e=Math.max(1,r.quantity+t);return{...r,quantity:e}}return r}))},at=ve.useMemo(()=>m.reduce((e,t)=>e+t.price*t.quantity,0),[m]);ve.useMemo(()=>t.filter(t=>t.status===Rg.SERVED&&t.restaurantId===e.id),[t,e.id]);const nt=async(t=!1)=>{if(o){t||Te(!0);try{const r=await o({restaurantId:e.id,startDate:fe,endDate:be,status:ke,search:je},t?1:_e,t?1e4:Ce);if(t)return r.orders;Oe(r)}catch(r){}finally{t||Te(!1)}}};ve.useEffect(()=>{"REPORTS"===c&&nt()},[c,fe,be,ke,je,_e,Ce]),ve.useEffect(()=>{if(e.categories&&e.categories.length>0)X(e.categories);else{const t=localStorage.getItem(`categories_${e.id}`);t&&X(JSON.parse(t))}if(e.modifiers&&e.modifiers.length>0)Z(e.modifiers);else{const t=localStorage.getItem(`modifiers_${e.id}`);t&&Z(JSON.parse(t))}},[e.id,e.categories,e.modifiers]);ve.useEffect(()=>{localStorage.setItem(`categories_${e.id}`,JSON.stringify(J)),(async t=>{try{const{error:r}=await ik.from("restaurants").update({categories:t}).eq("id",e.id)}catch(r){}})(J)},[J,e.id]),ve.useEffect(()=>{localStorage.setItem(`modifiers_${e.id}`,JSON.stringify(Y)),(async t=>{try{const{error:r}=await ik.from("restaurants").update({modifiers:t}).eq("id",e.id)}catch(r){}})(Y)},[Y,e.id]);const st=e=>{X(t=>t.map(t=>t.name===e?{...t,skipKitchen:!t.skipKitchen}:t))},it=(t,r)=>{if(!r.trim()||t===r.trim())return void ae(null);const a=r.trim(),n=e.menu.some(e=>e.category===a),s=J.some(e=>e.name===a&&e.name!==t);n||s?alert("Category already exists."):(X(e=>e.map(e=>e.name===t?{...e,name:a}:e)),ae(null))},ot=e=>{confirm(`Are you sure you want to remove the "${e}" category?`)&&X(t=>t.filter(t=>t.name!==e))},lt=e=>{ue(e.name),pe(e.name),me([...e.options]),H(!0)},ct=(e,t,r)=>{me(a=>{const n=[...a];return n[e]={...n[e],[t]:r},n})},dt=e=>{confirm(`Are you sure you want to remove the "${e}" modifier?`)&&Z(t=>t.filter(t=>t.name!==e))},ut=(e,t)=>{if(!t.trim()||e===t.trim())return void ce(null);const r=t.trim();Y.some(t=>t.name===r&&t.name!==e)?alert("Modifier already exists."):(Z(t=>t.map(t=>t.name===e?{...t,name:r}:t)),ce(null))},ht=Pe?Math.ceil(Pe.totalCount/Ce):0,pt=(null==Pe?void 0:Pe.orders)||[],gt=e=>{d(e),h(!1)};return D.jsxs("div",{className:"flex h-[calc(100vh-64px)] bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[u&&D.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>h(!1)}),D.jsxs("aside",{className:`\n        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r dark:border-gray-700 \n        flex flex-col transition-transform duration-300 ease-in-out no-print\n        ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[D.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center gap-3",children:[D.jsx("img",{src:e.logo,className:"w-10 h-10 rounded-lg shadow-sm"}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-black dark:text-white text-sm uppercase tracking-tight",children:e.name}),D.jsx("p",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest mt-0.5",children:"POS Only"})]})]}),D.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[D.jsxs("button",{onClick:()=>gt("COUNTER"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("COUNTER"===c?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Hm,{size:20})," Counter"]}),D.jsxs("button",{onClick:()=>gt("MENU_EDITOR"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("MENU_EDITOR"===c?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Kg,{size:20})," Menu Editor"]}),D.jsxs("button",{onClick:()=>gt("REPORTS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("REPORTS"===c?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(Qg,{size:20})," Reports"]}),D.jsxs("button",{onClick:()=>gt("SETTINGS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("SETTINGS"===c?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[D.jsx(qm,{size:20})," Settings"]})]})]}),D.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[D.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[D.jsxs("div",{className:"lg:hidden flex items-center p-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-30 no-print",children:[D.jsx("button",{onClick:()=>h(!0),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:D.jsx(Pm,{size:24})}),D.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[D.jsx("img",{src:e.logo,className:"w-8 h-8 rounded-lg shadow-sm"}),D.jsx("h1",{className:"font-black dark:text-white uppercase tracking-tighter text-sm truncate",children:"COUNTER"===c?"POS Counter":"MENU_EDITOR"===c?"Menu Editor":"REPORTS"===c?"Sales Report":"Settings"})]})]}),"COUNTER"===c&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 px-6 py-4 flex flex-col gap-4",children:[D.jsxs("div",{className:"flex items-center justify-between gap-4",children:[D.jsx("div",{className:"flex items-center gap-4 overflow-x-auto no-scrollbar flex-1",children:Xe.map(e=>D.jsx("button",{onClick:()=>N(e),className:"px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest whitespace-nowrap transition-all "+(j===e?"bg-black text-white dark:bg-white dark:text-black":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e},e))}),D.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl shrink-0",children:[D.jsx("button",{onClick:()=>g("grid-3"),className:"p-2 rounded-lg transition-all "+("grid-3"===p?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>g("grid-4"),className:"p-2 rounded-lg transition-all "+("grid-4"===p?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>g("grid-5"),className:"p-2 rounded-lg transition-all "+("grid-5"===p?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(vm,{size:16})}),D.jsx("button",{onClick:()=>g("list"),className:"p-2 rounded-lg transition-all "+("list"===p?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:D.jsx(jm,{size:16})})]})]}),D.jsxs("div",{className:"relative",children:[D.jsx(Um,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search menu items...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-2 focus:ring-orange-500 transition-all",value:v,onChange:e=>w(e.target.value)})]})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-2 scroll-smooth",children:D.jsx("div",{className:"space-y-4",children:Object.entries(tt).map(([t,r])=>D.jsxs("section",{children:[D.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"}),D.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] whitespace-nowrap",children:t}),D.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"})]}),D.jsx("div",{className:"grid gap-1.5 "+("grid-3"===p?"grid-cols-3":"grid-4"===p?"grid-cols-4":"grid-5"===p?"grid-cols-5":"grid-cols-1"),children:r.map(t=>D.jsxs("button",{onClick:()=>(t=>{f(r=>r.find(e=>e.id===t.id)?r.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...r,{...t,quantity:1,restaurantId:e.id}])})(t),className:"bg-white dark:bg-gray-800 border dark:border-gray-700 text-left hover:border-orange-500 transition-all group shadow-sm flex "+("list"===p?"flex-row items-center gap-4 p-2 rounded-xl":"flex-col p-2 rounded-xl"),children:[D.jsx("div",{className:("list"===p?"w-16 h-16":"aspect-square w-full")+" rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 shrink-0",children:t.image?D.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}):D.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:D.jsx(Hm,{size:20})})}),D.jsxs("div",{className:"list"===p?"flex-1":"mt-3",children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tighter mb-1 line-clamp-1",children:t.name}),D.jsxs("p",{className:"text-orange-500 font-black text-sm",children:["RM",t.price.toFixed(2)]})]})]},t.id))})]},t))})})]}),"REPORTS"===c&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter",children:"POS Sales Report"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-widest",children:"Financial performance and order history."})]}),D.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-xl border dark:border-gray-700",children:[D.jsx(Gg,{size:14,className:"text-orange-500"}),D.jsx("input",{type:"date",value:fe,onChange:e=>xe(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"}),D.jsx("span",{className:"text-gray-400 font-black",children:"to"}),D.jsx("input",{type:"date",value:be,onChange:e=>ye(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm flex flex-col md:flex-row items-center gap-4 mb-6",children:[D.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:D.jsxs("div",{className:"w-full sm:w-48",children:[D.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Order Outcome"}),D.jsxs("select",{value:ke,onChange:e=>we(e.target.value),className:"w-full p-1.5 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white appearance-none cursor-pointer",children:[D.jsx("option",{value:"ALL",children:"All Outcomes"}),D.jsx("option",{value:Rg.COMPLETED,children:"Paid/Finalized"}),D.jsx("option",{value:Rg.SERVED,children:"Served (Unpaid)"}),D.jsx("option",{value:Rg.CANCELLED,children:"Rejected"})]})]})}),D.jsxs("button",{onClick:async()=>{const e=await nt(!0);if(!e||0===e.length)return;const t=[["Order ID","Table","Date","Time","Status","Items","Total"],...e.map(e=>[e.id,e.tableNumber,new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.setAttribute("download",`POS_Report_${fe}_to_${be}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"w-full md:w-auto px-6 py-2 bg-black text-white dark:bg-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-orange-500 transition-all",children:[D.jsx(dm,{size:16})," Export CSV"]})]}),D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Total Revenue"}),D.jsxs("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:["RM",(null==Pe?void 0:Pe.summary.totalRevenue.toFixed(2))||"0.00"]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Order Volume"}),D.jsx("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:(null==Pe?void 0:Pe.summary.orderVolume)||0})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[D.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Efficiency"}),D.jsxs("p",{className:"text-2xl font-black text-green-500 tracking-tighter",children:[(null==Pe?void 0:Pe.summary.efficiency)||0,"%"]})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[D.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[D.jsxs("div",{className:"relative max-w-sm w-full",children:[D.jsx(Um,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"Search Order ID...",value:je,onChange:e=>Ne(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-1 focus:ring-orange-500"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Show"}),D.jsxs("select",{value:Ce,onChange:e=>Se(Number(e.target.value)),className:"bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5 outline-none cursor-pointer",children:[D.jsx("option",{value:30,children:"30"}),D.jsx("option",{value:50,children:"50"}),D.jsx("option",{value:100,children:"100"})]}),D.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Entries"})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full text-left",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:[D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Order ID"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Table"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),D.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Time"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:pt.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsxs("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white uppercase tracking-tighter",children:["#",e.id]}),D.jsx("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white",children:e.tableNumber}),D.jsxs("td",{className:"px-6 py-4 font-black text-[10px] text-orange-500",children:["RM",e.total.toFixed(2)]}),D.jsx("td",{className:"px-6 py-4",children:D.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===Rg.COMPLETED?"bg-green-100 text-green-600":e.status===Rg.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:e.status===Rg.COMPLETED?"Paid":e.status===Rg.SERVED?"Served":e.status})}),D.jsx("td",{className:"px-6 py-4 text-[10px] text-gray-400 font-medium",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id))})]})})]}),ht>1&&D.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2",children:[D.jsx("button",{onClick:()=>Ee(1),disabled:1===_e,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Jg,{size:16})}),D.jsx("button",{onClick:()=>Ee(e=>Math.max(1,e-1)),disabled:1===_e,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Yg,{size:16})}),Array.from({length:ht},(e,t)=>t+1).map(e=>D.jsx("button",{onClick:()=>Ee(e),className:"w-8 h-8 rounded-lg font-black text-[10px] transition-all "+(_e===e?"bg-orange-500 text-white shadow-md":"bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:border-orange-500"),children:e},e)),D.jsx("button",{onClick:()=>Ee(e=>Math.min(ht,e+1)),disabled:_e===ht,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Zg,{size:16})}),D.jsx("button",{onClick:()=>Ee(ht),disabled:_e===ht,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:D.jsx(Xg,{size:16})})]})]})}),"MENU_EDITOR"===c&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter mb-4",children:"Menu Editor"}),D.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>I("KITCHEN"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("KITCHEN"===z?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Kitchen Menu"}),D.jsx("button",{onClick:()=>I("CATEGORY"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("CATEGORY"===z?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Category"}),D.jsx("button",{onClick:()=>I("MODIFIER"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("MODIFIER"===z?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Modifier"})]}),"KITCHEN"===z?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsxs("button",{onClick:()=>O("ACTIVE"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ACTIVE"===P?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[D.jsx(pm,{size:14})," ",D.jsx("span",{className:"hidden sm:inline",children:"Active"})]}),D.jsxs("button",{onClick:()=>O("ARCHIVED"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ARCHIVED"===P?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[D.jsx(Ug,{size:14})," ",D.jsx("span",{className:"hidden sm:inline",children:"Archived"})]})]}),D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>T("grid"),className:"p-2 rounded-lg transition-all "+("grid"===B?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>T("list"),className:"p-2 rounded-lg transition-all "+("list"===B?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})]}),D.jsx("button",{onClick:()=>(S(null),U({name:"",description:"",price:0,image:"",category:"Main Dish",isArchived:!1}),void E(!0)),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg",children:"+ Add Item"})]}):"CATEGORY"===z?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"flex items-center gap-3",children:D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>te("grid"),className:"p-2 rounded-lg transition-all "+("grid"===ee?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>te("list"),className:"p-2 rounded-lg transition-all "+("list"===ee?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})}),D.jsxs("button",{onClick:()=>q(!0),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg flex items-center gap-2",children:[D.jsx(Wm,{size:16})," + New Category"]})]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"flex items-center gap-3",children:D.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-700 shadow-sm",children:[D.jsx("button",{onClick:()=>oe("grid"),className:"p-2 rounded-lg transition-all "+("grid"===ie?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(vm,{size:18})}),D.jsx("button",{onClick:()=>oe("list"),className:"p-2 rounded-lg transition-all "+("list"===ie?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:D.jsx(jm,{size:18})})]})}),D.jsxs("button",{onClick:()=>{H(!0),ue(null),pe(""),me([])},className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg flex items-center gap-2",children:[D.jsx(sm,{size:16})," + New Modifier"]})]})]})]}),"KITCHEN"===z&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex items-center gap-2 mb-6 bg-white dark:bg-gray-800 px-4 py-3 border dark:border-gray-700 rounded-lg shadow-sm overflow-x-auto hide-scrollbar sticky top-0 z-20",children:[D.jsx(gm,{size:16,className:"text-gray-400 shrink-0"}),Ye.map(e=>D.jsx("button",{onClick:()=>A(e),className:"whitespace-nowrap px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+(R===e?"bg-orange-100 text-orange-600 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"),children:e},e))]}),"grid"===B?D.jsx("div",{className:"grid grid-cols-5 gap-3",children:Ze.map(t=>D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden border dark:border-gray-700 hover:shadow-md transition-all group flex flex-col",children:[D.jsxs("div",{className:"relative aspect-square",children:[D.jsx("img",{src:t.image,className:"w-full h-full object-cover"}),D.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:"ACTIVE"===P?D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>Qe(t),className:"p-1.5 bg-red-50/90 backdrop-blur rounded-lg text-red-600 shadow-sm",children:D.jsx(Ug,{size:12})}),D.jsx("button",{onClick:()=>Ge(t),className:"p-1.5 bg-white/90 backdrop-blur rounded-lg text-gray-700 shadow-sm",children:D.jsx(Rm,{size:12})})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>Je(t),className:"p-1.5 bg-green-50/90 backdrop-blur rounded-lg text-green-600 shadow-sm",children:D.jsx($m,{size:12})}),D.jsx("button",{onClick:()=>(async t=>{i?confirm("Are you sure you want to permanently delete this item?")&&await i(e.id,t):alert("Permanent delete is not enabled for this account.")})(t.id),className:"p-1.5 bg-red-50/90 backdrop-blur rounded-lg text-red-600 shadow-sm",children:D.jsx(Jm,{size:12})})]})})]}),D.jsxs("div",{className:"p-2",children:[D.jsx("h3",{className:"font-black text-xs text-gray-900 dark:text-white mb-1 uppercase tracking-tight line-clamp-1",children:t.name}),D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsxs("span",{className:"text-sm font-black text-orange-500",children:["RM",t.price.toFixed(2)]}),D.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-gray-400 truncate ml-1",children:t.category})]})]})]},t.id))}):D.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 overflow-hidden shadow-sm",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:D.jsxs("tr",{children:[D.jsx("th",{className:"px-4 py-3 text-left",children:"Dish Profile"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),D.jsx("th",{className:"px-4 py-3 text-left",children:"Base Cost"}),D.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:Ze.map(e=>D.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[D.jsx("td",{className:"px-4 py-3",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:e.image,className:"w-10 h-10 rounded-lg object-cover"}),D.jsxs("div",{children:[D.jsx("p",{className:"font-black text-gray-900 dark:text-white uppercase tracking-tight text-xs",children:e.name}),D.jsx("p",{className:"hidden sm:block text-[9px] text-gray-500 dark:text-gray-400 truncate max-w-xs",children:e.description})]})]})}),D.jsx("td",{className:"px-4 py-3 text-[9px] font-black uppercase text-gray-400",children:e.category}),D.jsxs("td",{className:"px-4 py-3 font-black text-gray-900 dark:text-white text-xs",children:["RM",e.price.toFixed(2)]}),D.jsx("td",{className:"px-4 py-3 text-right",children:D.jsxs("div",{className:"flex justify-end items-center gap-1",children:["ACTIVE"===P?D.jsx("button",{onClick:()=>Qe(e),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:D.jsx(Ug,{size:16})}):D.jsx("button",{onClick:()=>Je(e),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-all",children:D.jsx($m,{size:16})}),D.jsx("button",{onClick:()=>Ge(e),className:"p-2 text-gray-400 hover:text-orange-500 rounded-lg transition-all",children:D.jsx(Rm,{size:16})})]})})]},e.id))})]})})})]}),"CATEGORY"===z&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[D.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 border-b dark:border-gray-700 flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[D.jsx(km,{size:16}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Category Manager"})]}),D.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[J.length," Total"]})]}),D.jsxs("div",{className:"grid"===ee?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 p-4":"divide-y dark:divide-gray-700",children:[J.map(t=>{const r=e.menu.filter(e=>e.category===t.name&&!e.isArchived);return"grid"===ee?D.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-gray-900/50 border dark:border-gray-700 rounded-lg hover:border-orange-200 transition-all",children:[D.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg flex items-center justify-center",children:D.jsx(km,{size:16})}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tight",children:t.name}),D.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:[r.length," Items"]})]})]}),D.jsxs("div",{className:"flex gap-1",children:[D.jsx("button",{onClick:()=>{ae(t.name),se(t.name)},className:"p-1.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg",children:D.jsx(Rm,{size:14})}),D.jsx("button",{onClick:()=>ot(t.name),className:"p-1.5 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:D.jsx(Jm,{size:14})})]})]}),D.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t dark:border-gray-700",children:[D.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Skip Kitchen"}),D.jsx("button",{onClick:()=>st(t.name),className:"w-10 h-5 rounded-full transition-all relative "+(t.skipKitchen?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all "+(t.skipKitchen?"left-5":"left-0.5")})})]})]},t.name):D.jsxs("div",{className:"flex items-center justify-between p-3 px-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[D.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[D.jsx("div",{className:"w-8 h-8 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-lg flex items-center justify-center",children:D.jsx(km,{size:16})}),re===t.name?D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("input",{autoFocus:!0,className:"px-2 py-1 text-sm font-black border dark:border-gray-600 rounded bg-white dark:bg-gray-700",value:ne,onChange:e=>se(e.target.value),onKeyDown:e=>"Enter"===e.key&&it(t.name,ne)}),D.jsx("button",{onClick:()=>it(t.name,ne),className:"text-green-500",children:D.jsx(rm,{size:16})}),D.jsx("button",{onClick:()=>ae(null),className:"text-red-500",children:D.jsx(sf,{size:16})})]}):D.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-sm font-black dark:text-white uppercase tracking-tight",children:t.name}),D.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[r.length," Active Dishes"]})]}),D.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[D.jsx("span",{className:"text-[8px] font-black text-gray-400",children:"Skip Kitchen"}),D.jsx("button",{onClick:()=>st(t.name),className:"w-8 h-4 rounded-full transition-all relative "+(t.skipKitchen?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all "+(t.skipKitchen?"left-4":"left-0.5")})})]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>{ae(t.name),se(t.name)},className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Rm,{size:16})}),D.jsx("button",{onClick:()=>ot(t.name),className:"p-2 text-red-400 hover:text-red-500",children:D.jsx(Jm,{size:16})})]})]},t.name)}),0===J.length&&D.jsxs("div",{className:"col-span-full text-center py-12",children:[D.jsx(km,{size:32,className:"mx-auto text-gray-300 mb-2"}),D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"No categories added yet"})]})]})]}),"MODIFIER"===z&&D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[D.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 border-b dark:border-gray-700 flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[D.jsx(sm,{size:16}),D.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Modifier Manager"})]}),D.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[Y.length," Total"]})]}),D.jsxs("div",{className:"grid"===ie?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 p-4":"divide-y dark:divide-gray-700",children:[Y.map(e=>"grid"===ie?D.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-gray-900/50 border dark:border-gray-700 rounded-lg hover:border-orange-200 transition-all",children:[D.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg flex items-center justify-center",children:D.jsx(sm,{size:16})}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tight",children:e.name}),D.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:[e.options.length," Options"]})]})]}),D.jsxs("div",{className:"flex gap-1",children:[D.jsx("button",{onClick:()=>lt(e),className:"p-1.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg",children:D.jsx(Rm,{size:14})}),D.jsx("button",{onClick:()=>dt(e.name),className:"p-1.5 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:D.jsx(Jm,{size:14})})]})]}),D.jsxs("div",{className:"space-y-1 mt-2 pt-2 border-t dark:border-gray-700",children:[e.options.slice(0,3).map((e,t)=>D.jsxs("div",{className:"flex items-center justify-between text-[8px]",children:[D.jsx("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:e.name}),D.jsxs("span",{className:"font-black text-orange-500",children:["+RM",e.price.toFixed(2)]})]},t)),e.options.length>3&&D.jsxs("p",{className:"text-[7px] text-gray-400 italic",children:["+",e.options.length-3," more"]}),0===e.options.length&&D.jsx("p",{className:"text-[8px] text-gray-400 italic text-center py-2",children:"No options"})]})]},e.name):D.jsxs("div",{className:"p-3 px-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[D.jsx("div",{className:"w-8 h-8 bg-purple-50 dark:bg-purple-900/20 text-purple-500 rounded-lg flex items-center justify-center",children:D.jsx(sm,{size:16})}),le===e.name?D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("input",{autoFocus:!0,className:"px-2 py-1 text-sm font-black border dark:border-gray-600 rounded bg-white dark:bg-gray-700",value:ne,onChange:e=>se(e.target.value),onKeyDown:t=>"Enter"===t.key&&ut(e.name,ne)}),D.jsx("button",{onClick:()=>ut(e.name,ne),className:"text-green-500",children:D.jsx(rm,{size:16})}),D.jsx("button",{onClick:()=>ce(null),className:"text-red-500",children:D.jsx(sf,{size:16})})]}):D.jsxs("div",{children:[D.jsx("p",{className:"text-sm font-black dark:text-white uppercase tracking-tight",children:e.name}),D.jsxs("p",{className:"text-[9px] font-bold text-gray-400",children:[e.options.length," Options"]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>{ce(e.name),se(e.name)},className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Rm,{size:16})}),D.jsx("button",{onClick:()=>lt(e),className:"p-2 text-gray-400 hover:text-orange-500",children:D.jsx(Ym,{size:16})}),D.jsx("button",{onClick:()=>dt(e.name),className:"p-2 text-red-400 hover:text-red-500",children:D.jsx(Jm,{size:16})})]})]}),e.options.length>0&&D.jsx("div",{className:"mt-3 pl-11 space-y-1",children:e.options.map((e,t)=>D.jsxs("div",{className:"flex items-center justify-between text-[9px]",children:[D.jsx("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:e.name}),D.jsxs("span",{className:"font-black text-orange-500",children:["+RM",e.price.toFixed(2)]})]},t))}),0===e.options.length&&D.jsx("div",{className:"mt-2 pl-11",children:D.jsx("p",{className:"text-[8px] text-gray-400 italic",children:"No options"})})]},e.name)),0===Y.length&&D.jsxs("div",{className:"col-span-full text-center py-12",children:[D.jsx(sm,{size:32,className:"mx-auto text-gray-300 mb-2"}),D.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"No modifiers added yet"})]})]})]})]})}),"SETTINGS"===c&&D.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:D.jsxs("div",{className:"max-w-4xl mx-auto",children:[D.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Settings"}),D.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:"Configure printer and staff access"}),D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(Im,{size:16,className:"text-orange-500"}),D.jsx("h2",{className:"font-black dark:text-white uppercase tracking-tighter text-sm",children:"Printer Configuration"})]})}),D.jsxs("div",{className:"p-4",children:[D.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-4",children:"Configure your thermal printer for receipt printing"}),D.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-orange-600 transition-all",children:"Setup Printer"})]})]}),D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm overflow-hidden",children:[D.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700 flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(rf,{size:16,className:"text-orange-500"}),D.jsx("h2",{className:"font-black dark:text-white uppercase tracking-tighter text-sm",children:"Staff Management"})]}),D.jsxs("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:[Re.length," Staff"]})]}),D.jsxs("div",{className:"p-4 space-y-4",children:[D.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-4",children:"Add staff members to track transaction history and maintain audit trails"}),0===Re.length?D.jsxs("div",{className:"text-center py-8 border border-dashed dark:border-gray-700 rounded-lg",children:[D.jsx(rf,{size:24,className:"mx-auto text-gray-300 mb-2"}),D.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-black",children:"No staff added yet"})]}):D.jsx("div",{className:"space-y-3",children:Re.map((t,r)=>D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/30 rounded-lg border dark:border-gray-700",children:[D.jsxs("div",{children:[D.jsx("p",{className:"font-black text-xs dark:text-white",children:t.username}),D.jsxs("p",{className:"text-[8px] text-gray-400 uppercase tracking-widest",children:["Created: ",new Date(t.createdAt||Date.now()).toLocaleDateString()]})]}),D.jsx("button",{onClick:()=>(async(t,r)=>{const a=Re.filter((e,t)=>t!==r);try{if(null==t?void 0:t.id){const{error:e}=await ik.from("users").delete().eq("id",t.id);if(e)return void alert("Error removing staff: "+e.message)}Ae(a),localStorage.setItem(`staff_${e.id}`,JSON.stringify(a))}catch(n){alert("Error removing staff: "+n.message)}})(t,r),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:D.jsx(Jm,{size:14})})]},r))}),D.jsxs("button",{onClick:()=>Ie(!0),className:"w-full py-3 bg-orange-500 text-white rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-orange-600 transition-all flex items-center justify-center gap-2",children:[D.jsx(Zm,{size:16})," Add Staff Member"]})]})]})]})]})})]}),_&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4 overflow-y-auto",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-lg w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:We,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:C?"Edit Menu Item":"Add Menu Item"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Item Name"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"e.g. Nasi Lemak",value:$.name||"",onChange:e=>U(t=>({...t,name:e.target.value}))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Description"}),D.jsx("textarea",{className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"Short description",rows:3,value:$.description||"",onChange:e=>U(t=>({...t,description:e.target.value}))})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Price (RM)"}),D.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",value:$.price??0,onChange:e=>U(t=>({...t,price:Number(e.target.value)}))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Category"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"e.g. Main Dish",value:$.category||"",onChange:e=>U(t=>({...t,category:e.target.value}))})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Image URL (optional)"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"https://...",value:$.image||"",onChange:e=>U(t=>({...t,image:e.target.value}))})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsx("button",{onClick:We,className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:async()=>{var t,r;if(!(null==(t=$.name)?void 0:t.trim()))return void alert("Please enter item name");if(!(null==(r=$.category)?void 0:r.trim()))return void alert("Please enter category");if(!s&&!n)return void alert("Menu editing is not enabled for this account.");const a={id:(null==C?void 0:C.id)||crypto.randomUUID(),name:$.name.trim(),description:($.description||"").trim(),price:Number($.price||0),image:($.image||"").trim()||`https://picsum.photos/seed/${encodeURIComponent($.name.trim())}/300/300`,category:$.category.trim(),isArchived:(null==C?void 0:C.isArchived)||!1,sizes:$.sizes,tempOptions:$.tempOptions,otherVariantName:$.otherVariantName,otherVariants:$.otherVariants,otherVariantsEnabled:$.otherVariantsEnabled,addOns:$.addOns};M(!0);try{C?await(null==n?void 0:n(e.id,a)):await(null==s?void 0:s(e.id,a)),We()}catch(i){alert("Failed to save menu item: "+i.message)}finally{M(!1)}},disabled:L,className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow disabled:opacity-50",children:L?"Saving...":C?"Update Item":"Add Item"})]})]})]})}),F&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>q(!1),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:"Add Category"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Category Name"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"e.g. Beverages",value:K,onChange:e=>G(e.target.value)})]}),D.jsxs("div",{className:"flex items-center justify-between border dark:border-gray-700 rounded-lg p-3",children:[D.jsxs("div",{children:[D.jsx("p",{className:"font-black text-xs dark:text-white uppercase tracking-tight",children:"Skip Kitchen"}),D.jsx("p",{className:"text-[9px] text-gray-400",children:"Hide this category in kitchen workflow"})]}),D.jsx("button",{onClick:()=>Q(e=>!e),className:"w-10 h-5 rounded-full transition-all relative "+(W?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"),children:D.jsx("div",{className:"absolute top-0.5 w-4 h-4 bg-white rounded-full transition-all "+(W?"left-5":"left-0.5")})})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:()=>{if(!K.trim())return;const t=K.trim(),r=e.menu.some(e=>e.category===t),a=J.some(e=>e.name===t);r||a?alert("Category already exists."):(X(e=>[...e,{name:t,skipKitchen:W}]),G(""),Q(!1),q(!1))},className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow",children:"Add"})]})]})]})}),V&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4 overflow-y-auto",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>{H(!1),ue(null)},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:de?"Edit Modifier":"Add Modifier"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Modifier Name"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"e.g. Sugar Level",value:he,onChange:e=>pe(e.target.value)})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Options"}),D.jsx("button",{onClick:()=>{me(e=>[...e,{name:"",price:0}])},className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-[9px] font-black uppercase tracking-widest text-gray-500 hover:text-orange-500",children:"+ Add Option"})]}),D.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:[ge.map((e,t)=>D.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[D.jsx("input",{type:"text",className:"col-span-7 px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"Option name",value:e.name,onChange:e=>ct(t,"name",e.target.value)}),D.jsx("input",{type:"number",step:"0.01",className:"col-span-4 px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"0.00",value:e.price,onChange:e=>ct(t,"price",Number(e.target.value))}),D.jsx("button",{onClick:()=>{return e=t,void me(t=>t.filter((t,r)=>r!==e));var e},className:"col-span-1 p-2 text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:D.jsx(Jm,{size:14})})]},t)),0===ge.length&&D.jsx("div",{className:"text-center py-4 border border-dashed dark:border-gray-700 rounded-lg",children:D.jsx("p",{className:"text-[9px] text-gray-400 uppercase tracking-widest font-black",children:"No options yet"})})]})]}),D.jsxs("div",{className:"flex gap-3 pt-2",children:[D.jsx("button",{onClick:()=>{H(!1),ue(null)},className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:()=>{if(!he.trim())return void alert("Please enter a modifier name");const e=he.trim();if(Y.some(t=>t.name===e&&t.name!==de))return void alert("Modifier already exists.");const t=ge.filter(e=>""!==e.name.trim());Z(de?r=>r.map(r=>r.name===de?{name:e,options:t}:r):r=>[...r,{name:e,options:t}]),H(!1),ue(null),pe(""),me([])},className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow",children:de?"Update":"Save"})]})]})]})}),ze&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>Ie(!1),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(sf,{size:18})}),D.jsx("h2",{className:"text-xl font-black mb-4 dark:text-white uppercase tracking-tighter",children:"Add Staff Member"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Username"}),D.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"e.g. cashier1",value:Le,onChange:e=>Me(e.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Password"}),D.jsx("input",{type:"password",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"Set password",value:De,onChange:e=>$e(e.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Email"}),D.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"staff@example.com",value:Ue,onChange:e=>Fe(e.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Phone Number"}),D.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-lg outline-none text-xs font-bold dark:text-white",placeholder:"+60 XXX XXX XXXX",value:qe,onChange:e=>Ve(e.target.value)})]}),D.jsxs("div",{className:"flex gap-3 pt-4",children:[D.jsx("button",{onClick:()=>{Ie(!1),Me(""),$e(""),Fe(""),Ve("")},className:"flex-1 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg font-black uppercase text-[9px] tracking-widest text-gray-500",children:"Cancel"}),D.jsx("button",{onClick:async()=>{if(Le.trim()&&De.trim()&&Ue.trim()&&qe.trim()){Ke(!0);try{const t={username:Le,password:De,email:Ue,phone:qe,restaurant_id:e.id,role:"CASHIER",is_active:!0},{data:r,error:a}=await ik.from("users").insert([t]).select();if(a)return alert("Error saving to database: "+a.message),void Ke(!1);const n=r&&r.length>0?r[0]:t,s=[...Re,n];Ae(s),localStorage.setItem(`staff_${e.id}`,JSON.stringify(s)),Ie(!1),Me(""),$e(""),Fe(""),Ve(""),Ke(!1),alert("Staff member added successfully!")}catch(t){alert("Error: "+t.message),Ke(!1)}}else alert("Please fill in all fields")},disabled:He,className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-black uppercase text-[9px] tracking-widest shadow disabled:opacity-50",children:He?"Adding...":"Add"})]})]})]})}),"COUNTER"===c&&D.jsxs("div",{className:"\n            w-96 bg-white dark:bg-gray-800 border-l dark:border-gray-700 flex flex-col\n            transition-all duration-300 ease-in-out\n          ",children:[D.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between",children:[D.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter",children:"Current Order"}),D.jsx("div",{className:"flex items-center gap-2",children:D.jsx("button",{onClick:()=>f([]),className:"text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(Jm,{size:18})})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===m.length?D.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-20",children:[D.jsx(Hm,{size:48,className:"mb-4"}),D.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cart is empty"})]}):m.map(e=>D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("h4",{className:"font-black text-[10px] dark:text-white uppercase tracking-tighter line-clamp-1",children:e.name}),D.jsxs("p",{className:"text-[10px] text-orange-500 font-black",children:["RM",e.price.toFixed(2)]})]}),D.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[D.jsx("button",{onClick:()=>rt(e.id,-1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:D.jsx(Bm,{size:12})}),D.jsx("span",{className:"text-[10px] font-black w-4 text-center dark:text-white",children:e.quantity}),D.jsx("button",{onClick:()=>rt(e.id,1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:D.jsx(Am,{size:12})})]}),D.jsx("button",{onClick:()=>{return t=e.id,void f(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-300 hover:text-red-500",children:D.jsx(Jm,{size:14})})]},e.id))}),D.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/30 border-t dark:border-gray-700 space-y-4",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-gray-400",children:[D.jsx("span",{children:"Subtotal"}),D.jsxs("span",{children:["RM",at.toFixed(2)]})]}),D.jsxs("div",{className:"flex items-center justify-between text-lg font-black dark:text-white tracking-tighter",children:[D.jsx("span",{className:"uppercase",children:"Total"}),D.jsxs("span",{className:"text-orange-500",children:["RM",at.toFixed(2)]})]})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Table"}),D.jsx("input",{type:"text",value:y,onChange:e=>k(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white"})]}),D.jsxs("div",{className:"flex-[2]",children:[D.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Remark"}),D.jsx("input",{type:"text",value:x,onChange:e=>b(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white",placeholder:"No spicy..."})]})]}),D.jsxs("button",{onClick:async()=>{if(0!==m.length)try{await a(m,x,y),f([]),b(""),k("Counter"),alert("Order placed successfully!")}catch(e){alert("Failed to place order")}},disabled:0===m.length,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-orange-600 transition-all shadow-xl shadow-orange-500/20 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[D.jsx(om,{size:16})," Complete Order"]})]})]})]})]}),D.jsx("style",{children:"\n        .no-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .no-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        @keyframes slideLeft {\n          from { transform: translateX(100%); }\n          to { transform: translateX(0); }\n        }\n        .animate-slide-left {\n          animation: slideLeft 0.3s ease-out;\n        }\n      "})]})};var Ik,Lk={exports:{}};"undefined"!=typeof self&&self,Ik=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,r){return new e(new Uint8ClampedArray(t*r),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height||!this.data[t*this.width+e])},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r?1:0},e.prototype.setRegion=function(e,t,r,a,n){for(var s=t;s<t+a;s++)for(var i=e;i<e+r;i++)this.set(i,s,!!n)},e}();t.BitMatrix=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(2);t.addOrSubtractGF=function(e,t){return e^t};var n=function(){function e(e,t,r){this.primitive=e,this.size=t,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var n=1,s=0;s<this.size;s++)this.expTable[s]=n,(n*=2)>=this.size&&(n=(n^this.primitive)&this.size-1);for(s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var r=new Uint8ClampedArray(e+1);return r[0]=t,new a.default(this,r)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var a=1;a<r&&0===t[a];)a++;if(a===r)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-a);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=t[a+n]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var r;if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,s=t.coefficients;n.length>s.length&&(n=(r=[s,n])[0],s=r[1]);for(var i=new Uint8ClampedArray(s.length),o=s.length-n.length,l=0;l<o;l++)i[l]=s[l];for(l=o;l<s.length;l++)i[l]=a.addOrSubtractGF(n[l-o],s[l]);return new e(this.field,i)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var r=this.coefficients.length,a=new Uint8ClampedArray(r),n=0;n<r;n++)a[n]=this.field.multiply(this.coefficients[n],t);return new e(this.field,a)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var r=this.coefficients,n=r.length,s=t.coefficients,i=s.length,o=new Uint8ClampedArray(n+i-1),l=0;l<n;l++)for(var c=r[l],d=0;d<i;d++)o[l+d]=a.addOrSubtractGF(o[l+d],this.field.multiply(c,s[d]));return new e(this.field,o)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Error("Invalid degree less than 0");if(0===r)return this.field.zero;for(var a=this.coefficients.length,n=new Uint8ClampedArray(a+t),s=0;s<a;s++)n[s]=this.field.multiply(this.coefficients[s],r);return new e(this.field,n)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var r=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=a.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var n=1;n<r;n++)t=a.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[n]);return t},e}();t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),n=r(5),s=r(11),i=r(12);function o(e){var t=i.locate(e);if(!t)return null;for(var r=0,a=t;r<a.length;r++){var o=a[r],l=s.extract(e,o),c=n.decode(l.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:l.mappingFunction(o.dimension,0),topLeftCorner:l.mappingFunction(0,0),bottomRightCorner:l.mappingFunction(o.dimension,o.dimension),bottomLeftCorner:l.mappingFunction(0,o.dimension),topRightFinderPattern:o.topRight,topLeftFinderPattern:o.topLeft,bottomLeftFinderPattern:o.bottomLeft,bottomRightAlignmentPattern:o.alignmentPattern}}}return null}var l={inversionAttempts:"attemptBoth"};function c(e,t,r,n){void 0===n&&(n={});var s=l;Object.keys(s||{}).forEach(function(e){s[e]=n[e]||s[e]});var i="attemptBoth"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,c="onlyInvert"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,d=a.binarize(e,t,r,i),u=d.binarized,h=d.inverted,p=o(c?h:u);return p||"attemptBoth"!==s.inversionAttempts&&"invertFirst"!==s.inversionAttempts||(p=o(c?u:h)),p}c.default=c,t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);function n(e,t,r){return e<t?t:e>r?r:e}var s=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r},e}();t.binarize=function(e,t,r,i){if(e.length!==t*r*4)throw new Error("Malformed data passed to binarizer.");for(var o=new s(t,r),l=0;l<t;l++)for(var c=0;c<r;c++){var d=e[4*(c*t+l)+0],u=e[4*(c*t+l)+1],h=e[4*(c*t+l)+2];o.set(l,c,.2126*d+.7152*u+.0722*h)}for(var p=Math.ceil(t/8),g=Math.ceil(r/8),m=new s(p,g),f=0;f<g;f++)for(var x=0;x<p;x++){var b=0,y=1/0,k=0;for(c=0;c<8;c++)for(l=0;l<8;l++){var v=o.get(8*x+l,8*f+c);b+=v,y=Math.min(y,v),k=Math.max(k,v)}var w=b/Math.pow(8,2);if(k-y<=24&&(w=y/2,f>0&&x>0)){var j=(m.get(x,f-1)+2*m.get(x-1,f)+m.get(x-1,f-1))/4;y<j&&(w=j)}m.set(x,f,w)}var N=a.BitMatrix.createEmpty(t,r),C=null;for(i&&(C=a.BitMatrix.createEmpty(t,r)),f=0;f<g;f++)for(x=0;x<p;x++){for(var S=n(x,2,p-3),_=n(f,2,g-3),E=(b=0,-2);E<=2;E++)for(var P=-2;P<=2;P++)b+=m.get(S+E,_+P);var O=b/25;for(E=0;E<8;E++)for(P=0;P<8;P++){l=8*x+E,c=8*f+P;var B=o.get(l,c);N.set(l,c,B<=O),i&&C.set(l,c,!(B<=O))}}return i?{binarized:N,inverted:C}:{binarized:N}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),n=r(6),s=r(9),i=r(10);function o(e,t){for(var r=e^t,a=0;r;)a++,r&=r-1;return a}function l(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],d=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function u(e,t,r){for(var n=d[r.dataMask],s=e.height,i=function(e){var t=17+4*e.versionNumber,r=a.BitMatrix.createEmpty(t,t);r.setRegion(0,0,9,9,!0),r.setRegion(t-8,0,8,9,!0),r.setRegion(0,t-8,9,8,!0);for(var n=0,s=e.alignmentPatternCenters;n<s.length;n++)for(var i=s[n],o=0,l=e.alignmentPatternCenters;o<l.length;o++){var c=l[o];6===i&&6===c||6===i&&c===t-7||i===t-7&&6===c||r.setRegion(i-2,c-2,5,5,!0)}return r.setRegion(6,9,1,t-17,!0),r.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(r.setRegion(t-11,0,3,6,!0),r.setRegion(0,t-11,6,3,!0)),r}(t),o=[],c=0,u=0,h=!0,p=s-1;p>0;p-=2){6===p&&p--;for(var g=0;g<s;g++)for(var m=h?s-1-g:g,f=0;f<2;f++){var x=p-f;if(!i.get(x,m)){u++;var b=e.get(x,m);n({y:m,x:x})&&(b=!b),c=l(b,c),8===u&&(o.push(c),u=0,c=0)}}h=!h}return o}function h(e){var t=function(e){var t=e.height,r=Math.floor((t-17)/4);if(r<=6)return i.VERSIONS[r-1];for(var a=0,n=5;n>=0;n--)for(var s=t-9;s>=t-11;s--)a=l(e.get(s,n),a);var c=0;for(s=5;s>=0;s--)for(n=t-9;n>=t-11;n--)c=l(e.get(s,n),c);for(var d,u=1/0,h=0,p=i.VERSIONS;h<p.length;h++){var g=p[h];if(g.infoBits===a||g.infoBits===c)return g;var m=o(a,g.infoBits);m<u&&(d=g,u=m),(m=o(c,g.infoBits))<u&&(d=g,u=m)}return u<=3?d:void 0}(e);if(!t)return null;var r=function(e){for(var t=0,r=0;r<=8;r++)6!==r&&(t=l(e.get(r,8),t));for(var a=7;a>=0;a--)6!==a&&(t=l(e.get(8,a),t));var n=e.height,s=0;for(a=n-1;a>=n-7;a--)s=l(e.get(8,a),s);for(r=n-8;r<n;r++)s=l(e.get(r,8),s);for(var i=1/0,d=null,u=0,h=c;u<h.length;u++){var p=h[u],g=p.bits,m=p.formatInfo;if(g===t||g===s)return m;var f=o(t,g);f<i&&(d=m,i=f),t!==s&&(f=o(s,g))<i&&(d=m,i=f)}return i<=3?d:null}(e);if(!r)return null;var a=function(e,t,r){var a=t.errorCorrectionLevels[r],n=[],s=0;if(a.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)n.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),s+=e.dataCodewordsPerBlock+a.ecCodewordsPerBlock}),e.length<s)return null;e=e.slice(0,s);for(var i=a.ecBlocks[0].dataCodewordsPerBlock,o=0;o<i;o++)for(var l=0,c=n;l<c.length;l++)c[l].codewords.push(e.shift());if(a.ecBlocks.length>1){var d=a.ecBlocks[0].numBlocks,u=a.ecBlocks[1].numBlocks;for(o=0;o<u;o++)n[d+o].codewords.push(e.shift())}for(;e.length>0;)for(var h=0,p=n;h<p.length;h++)p[h].codewords.push(e.shift());return n}(u(e,t,r),t,r.errorCorrectionLevel);if(!a)return null;for(var d=a.reduce(function(e,t){return e+t.numDataCodewords},0),h=new Uint8ClampedArray(d),p=0,g=0,m=a;g<m.length;g++){var f=m[g],x=s.decode(f.codewords,f.codewords.length-f.numDataCodewords);if(!x)return null;for(var b=0;b<f.numDataCodewords;b++)h[p++]=x[b]}try{return n.decode(h,t.versionNumber)}catch(y){return null}}t.decode=function(e){if(null==e)return null;var t=h(e);if(t)return t;for(var r=0;r<e.width;r++)for(var a=r+1;a<e.height;a++)e.get(r,a)!==e.get(a,r)&&(e.set(r,a,!e.get(r,a)),e.set(a,r,!e.get(a,r)));return h(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a,n,s,i,o=r(7),l=r(8);function c(e,t){for(var r=[],a="",n=[10,12,14][t],s=e.readBits(n);s>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var i=Math.floor(c/100),o=Math.floor(c/10)%10,l=c%10;r.push(48+i,48+o,48+l),a+=i.toString()+o.toString()+l.toString(),s-=3}if(2===s){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");i=Math.floor(c/10),o=c%10,r.push(48+i,48+o),a+=i.toString()+o.toString()}else if(1===s){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");r.push(48+c),a+=c.toString()}return{bytes:r,text:a}}(n=a=t.Mode||(t.Mode={})).Numeric="numeric",n.Alphanumeric="alphanumeric",n.Byte="byte",n.Kanji="kanji",n.ECI="eci",(i=s||(s={}))[i.Terminator=0]="Terminator",i[i.Numeric=1]="Numeric",i[i.Alphanumeric=2]="Alphanumeric",i[i.Byte=4]="Byte",i[i.Kanji=8]="Kanji",i[i.ECI=7]="ECI";var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(e,t){for(var r=[],a="",n=[9,11,13][t],s=e.readBits(n);s>=2;){var i=e.readBits(11),o=Math.floor(i/45),l=i%45;r.push(d[o].charCodeAt(0),d[l].charCodeAt(0)),a+=d[o]+d[l],s-=2}return 1===s&&(o=e.readBits(6),r.push(d[o].charCodeAt(0)),a+=d[o]),{bytes:r,text:a}}function h(e,t){for(var r=[],a="",n=[8,16,16][t],s=e.readBits(n),i=0;i<s;i++){var o=e.readBits(8);r.push(o)}try{a+=decodeURIComponent(r.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(l){}return{bytes:r,text:a}}function p(e,t){for(var r=[],a="",n=[8,10,12][t],s=e.readBits(n),i=0;i<s;i++){var o=e.readBits(13),c=Math.floor(o/192)<<8|o%192;c+=c<7936?33088:49472,r.push(c>>8,255&c),a+=String.fromCharCode(l.shiftJISTable[c])}return{bytes:r,text:a}}t.decode=function(e,t){for(var r,n,i,l,d=new o.BitStream(e),g=t<=9?0:t<=26?1:2,m={text:"",bytes:[],chunks:[],version:t};d.available()>=4;){var f=d.readBits(4);if(f===s.Terminator)return m;if(f===s.ECI)0===d.readBits(1)?m.chunks.push({type:a.ECI,assignmentNumber:d.readBits(7)}):0===d.readBits(1)?m.chunks.push({type:a.ECI,assignmentNumber:d.readBits(14)}):0===d.readBits(1)?m.chunks.push({type:a.ECI,assignmentNumber:d.readBits(21)}):m.chunks.push({type:a.ECI,assignmentNumber:-1});else if(f===s.Numeric){var x=c(d,g);m.text+=x.text,(r=m.bytes).push.apply(r,x.bytes),m.chunks.push({type:a.Numeric,text:x.text})}else if(f===s.Alphanumeric){var b=u(d,g);m.text+=b.text,(n=m.bytes).push.apply(n,b.bytes),m.chunks.push({type:a.Alphanumeric,text:b.text})}else if(f===s.Byte){var y=h(d,g);m.text+=y.text,(i=m.bytes).push.apply(i,y.bytes),m.chunks.push({type:a.Byte,bytes:y.bytes,text:y.text})}else if(f===s.Kanji){var k=p(d,g);m.text+=k.text,(l=m.bytes).push.apply(l,k.bytes),m.chunks.push({type:a.Kanji,bytes:k.bytes,text:k.text})}}if(0===d.available()||0===d.readBits(d.available()))return m}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var r=8-this.bitOffset,a=e<r?e:r,n=255>>8-a<<(s=r-a);t=(this.bytes[this.byteOffset]&n)>>s,e-=a,this.bitOffset+=a,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var s;e>0&&(n=255>>(s=8-e)<<s,t=t<<e|(this.bytes[this.byteOffset]&n)>>s,this.bitOffset+=e)}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2);t.decode=function(e,t){var r=new Uint8ClampedArray(e.length);r.set(e);for(var s=new a.default(285,256,0),i=new n.default(s,r),o=new Uint8ClampedArray(t),l=!1,c=0;c<t;c++){var d=i.evaluateAt(s.exp(c+s.generatorBase));o[o.length-1-c]=d,0!==d&&(l=!0)}if(!l)return r;var u=new n.default(s,o),h=function(e,t,r,a){var n;t.degree()<r.degree()&&(t=(n=[r,t])[0],r=n[1]);for(var s=t,i=r,o=e.zero,l=e.one;i.degree()>=a/2;){var c=s,d=o;if(o=l,(s=i).isZero())return null;i=c;for(var u=e.zero,h=s.getCoefficient(s.degree()),p=e.inverse(h);i.degree()>=s.degree()&&!i.isZero();){var g=i.degree()-s.degree(),m=e.multiply(i.getCoefficient(i.degree()),p);u=u.addOrSubtract(e.buildMonomial(g,m)),i=i.addOrSubtract(s.multiplyByMonomial(g,m))}if(l=u.multiplyPoly(o).addOrSubtract(d),i.degree()>=s.degree())return null}var f=l.getCoefficient(0);if(0===f)return null;var x=e.inverse(f);return[l.multiply(x),i.multiply(x)]}(s,s.buildMonomial(t,1),u,t);if(null===h)return null;var p=function(e,t){var r=t.degree();if(1===r)return[t.getCoefficient(1)];for(var a=new Array(r),n=0,s=1;s<e.size&&n<r;s++)0===t.evaluateAt(s)&&(a[n]=e.inverse(s),n++);return n!==r?null:a}(s,h[0]);if(null==p)return null;for(var g=function(e,t,r){for(var n=r.length,s=new Array(n),i=0;i<n;i++){for(var o=e.inverse(r[i]),l=1,c=0;c<n;c++)i!==c&&(l=e.multiply(l,a.addOrSubtractGF(1,e.multiply(r[c],o))));s[i]=e.multiply(t.evaluateAt(o),e.inverse(l)),0!==e.generatorBase&&(s[i]=e.multiply(s[i],o))}return s}(s,h[1],p),m=0;m<p.length;m++){var f=r.length-1-s.log(p[m]);if(f<0)return null;r[f]=a.addOrSubtractGF(r[f],g[m])}return r}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);function n(e,t,r,a){var n=e.x-t.x+r.x-a.x,s=e.y-t.y+r.y-a.y;if(0===n&&0===s)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:r.x-t.x,a22:r.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var i=t.x-r.x,o=a.x-r.x,l=t.y-r.y,c=a.y-r.y,d=i*c-o*l,u=(n*c-o*s)/d,h=(i*s-n*l)/d;return{a11:t.x-e.x+u*t.x,a12:t.y-e.y+u*t.y,a13:u,a21:a.x-e.x+h*a.x,a22:a.y-e.y+h*a.y,a23:h,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var r,s,i=function(e,t,r,a){var s=n(e,t,r,a);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),o=n(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=(s=i,{a11:(r=o).a11*s.a11+r.a21*s.a12+r.a31*s.a13,a12:r.a12*s.a11+r.a22*s.a12+r.a32*s.a13,a13:r.a13*s.a11+r.a23*s.a12+r.a33*s.a13,a21:r.a11*s.a21+r.a21*s.a22+r.a31*s.a23,a22:r.a12*s.a21+r.a22*s.a22+r.a32*s.a23,a23:r.a13*s.a21+r.a23*s.a22+r.a33*s.a23,a31:r.a11*s.a31+r.a21*s.a32+r.a31*s.a33,a32:r.a12*s.a31+r.a22*s.a32+r.a32*s.a33,a33:r.a13*s.a31+r.a23*s.a32+r.a33*s.a33}),c=a.BitMatrix.createEmpty(t.dimension,t.dimension),d=function(e,t){var r=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/r,y:(l.a12*e+l.a22*t+l.a32)/r}},u=0;u<t.dimension;u++)for(var h=0;h<t.dimension;h++){var p=d(h+.5,u+.5);c.set(h,u,e.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function n(e){return e.reduce(function(e,t){return e+t})}function s(e,t,r,n){var s,i,o,l,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],d=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);d?(s=Math.floor(e.y),i=Math.floor(e.x),o=Math.floor(t.y),l=Math.floor(t.x)):(s=Math.floor(e.x),i=Math.floor(e.y),o=Math.floor(t.x),l=Math.floor(t.y));for(var u=Math.abs(o-s),h=Math.abs(l-i),p=Math.floor(-u/2),g=s<o?1:-1,m=i<l?1:-1,f=!0,x=s,b=i;x!==o+g;x+=g){var y=d?b:x,k=d?x:b;if(r.get(y,k)!==f&&(f=!f,c.push({x:y,y:k}),c.length===n+1))break;if((p+=h)>0){if(b===l)break;b+=m,p-=u}}for(var v=[],w=0;w<n;w++)c[w]&&c[w+1]?v.push(a(c[w],c[w+1])):v.push(0);return v}function i(e,t,r,a){var n,i=t.y-e.y,o=t.x-e.x,l=s(e,t,r,Math.ceil(a/2)),c=s(e,{x:e.x-o,y:e.y-i},r,Math.ceil(a/2)),d=l.shift()+c.shift()-1;return(n=c.concat(d)).concat.apply(n,l)}function o(e,t){var r=n(e)/n(t),a=0;return t.forEach(function(t,n){a+=Math.pow(e[n]-t*r,2)}),{averageSize:r,error:a}}function l(e,t,r){try{var a=i(e,{x:-1,y:e.y},r,t.length),n=i(e,{x:e.x,y:-1},r,t.length),s=i(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,t.length),l=i(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,t.length),c=o(a,t),d=o(n,t),u=o(s,t),h=o(l,t),p=Math.sqrt(c.error*c.error+d.error*d.error+u.error*u.error+h.error*h.error),g=(c.averageSize+d.averageSize+u.averageSize+h.averageSize)/4;return p+(Math.pow(c.averageSize-g,2)+Math.pow(d.averageSize-g,2)+Math.pow(u.averageSize-g,2)+Math.pow(h.averageSize-g,2))/g}catch(m){return 1/0}}function c(e,t){for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r--;for(var a=Math.round(t.x);e.get(a,Math.round(t.y));)a++;for(var n=(r+a)/2,s=Math.round(t.y);e.get(Math.round(n),s);)s--;for(var i=Math.round(t.y);e.get(Math.round(n),i);)i++;return{x:n,y:(s+i)/2}}function d(e,t,r,s,o){var c,d,u;try{c=function(e,t,r,s){var o=(n(i(e,r,s,5))/7+n(i(e,t,s,5))/7+n(i(r,e,s,5))/7+n(i(t,e,s,5))/7)/4;if(o<1)throw new Error("Invalid module size");var l=Math.round(a(e,t)/o),c=Math.round(a(e,r)/o),d=Math.floor((l+c)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:o}}(s,r,o,e),d=c.dimension,u=c.moduleSize}catch(Vk){return null}var h=r.x-s.x+o.x,p=r.y-s.y+o.y,g=(a(s,o)+a(s,r))/2/u,m=1-3/g,f={x:s.x+m*(h-s.x),y:s.y+m*(p-s.y)},x=t.map(function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,s=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(r),Math.floor(s))){var i=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return n(i),{x:r,y:s,score:l({x:Math.floor(r),y:Math.floor(s)},[1,1,1],e)+a({x:r,y:s},f)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:g>=15&&x.length?x[0]:f,dimension:d}}t.locate=function(e){for(var t=[],r=[],s=[],i=[],o=function(a){for(var o=0,l=!1,c=[0,0,0,0,0],d=function(t){var s=e.get(t,a);if(s===l)o++;else{c=[c[1],c[2],c[3],c[4],o],o=1,l=s;var d=n(c)/7,u=Math.abs(c[0]-d)<d&&Math.abs(c[1]-d)<d&&Math.abs(c[2]-3*d)<3*d&&Math.abs(c[3]-d)<d&&Math.abs(c[4]-d)<d&&!s,h=n(c.slice(-3))/3,p=Math.abs(c[2]-h)<h&&Math.abs(c[3]-h)<h&&Math.abs(c[4]-h)<h&&s;if(u){var g=t-c[3]-c[4],m=g-c[2],f={startX:m,endX:g,y:a};(x=r.filter(function(e){return m>=e.bottom.startX&&m<=e.bottom.endX||g>=e.bottom.startX&&m<=e.bottom.endX||m<=e.bottom.startX&&g>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?x[0].bottom=f:r.push({top:f,bottom:f})}if(p){var x,b=t-c[4],y=b-c[3];f={startX:y,y:a,endX:b},(x=i.filter(function(e){return y>=e.bottom.startX&&y<=e.bottom.endX||b>=e.bottom.startX&&y<=e.bottom.endX||y<=e.bottom.startX&&b>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?x[0].bottom=f:i.push({top:f,bottom:f})}}},u=-1;u<=e.width;u++)d(u);t.push.apply(t,r.filter(function(e){return e.bottom.y!==a&&e.bottom.y-e.top.y>=2})),r=r.filter(function(e){return e.bottom.y===a}),s.push.apply(s,i.filter(function(e){return e.bottom.y!==a})),i=i.filter(function(e){return e.bottom.y===a})},u=0;u<=e.height;u++)o(u);t.push.apply(t,r.filter(function(e){return e.bottom.y-e.top.y>=2})),s.push.apply(s,i);var h=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,a=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(r),Math.round(a))){var s=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],i=n(s)/s.length;return{score:l({x:Math.round(r),y:Math.round(a)},[1,1,3,1,1],e),x:r,y:a,size:i}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,r){if(t>4)return null;var a=r.filter(function(e,r){return t!==r}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(a.length<2)return null;var n=e.score+a[0].score+a[1].score;return{points:[e].concat(a.slice(0,2)),score:n}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===h.length)return null;var p=function(e,t,r){var n,s,i,o,l,c,d,u=a(e,t),h=a(t,r),p=a(e,r);return h>=u&&h>=p?(l=(n=[t,e,r])[0],c=n[1],d=n[2]):p>=h&&p>=u?(l=(s=[e,t,r])[0],c=s[1],d=s[2]):(l=(i=[e,r,t])[0],c=i[1],d=i[2]),(d.x-c.x)*(l.y-c.y)-(d.y-c.y)*(l.x-c.x)<0&&(l=(o=[d,l])[0],d=o[1]),{bottomLeft:l,topLeft:c,topRight:d}}(h[0].points[0],h[0].points[1],h[0].points[2]),g=p.topRight,m=p.topLeft,f=p.bottomLeft,x=d(e,s,g,m,f),b=[];x&&b.push({alignmentPattern:{x:x.alignmentPattern.x,y:x.alignmentPattern.y},bottomLeft:{x:f.x,y:f.y},dimension:x.dimension,topLeft:{x:m.x,y:m.y},topRight:{x:g.x,y:g.y}});var y=c(e,g),k=c(e,m),v=c(e,f),w=d(e,s,y,k,v);return w&&b.push({alignmentPattern:{x:w.alignmentPattern.x,y:w.alignmentPattern.y},bottomLeft:{x:v.x,y:v.y},topLeft:{x:k.x,y:k.y},topRight:{x:y.x,y:y.y},dimension:w.dimension}),0===b.length?null:b}}]).default};const Mk=R(Lk.exports=Ik()),Dk=({onScan:e,onLoginClick:t,isDarkMode:r,onToggleDarkMode:a,locations:n,onLearnMore:s,onClearSession:i})=>{const[o,l]=ve.useState(!1),[c,d]=ve.useState(!1),[u,h]=ve.useState(""),[p,g]=ve.useState("1"),[m,f]=ve.useState(null),[x,b]=ve.useState(null);ve.useEffect(()=>{const e=localStorage.getItem("qs_session_location"),t=localStorage.getItem("qs_session_table"),r=localStorage.getItem("qs_role");e&&t&&"CUSTOMER"===r&&b({loc:e,table:t})},[]);const y=ve.useRef(null),k=ve.useRef(null),v=ve.useRef(0);ve.useEffect(()=>{n.length>0&&!u&&h(n[0].name)},[n,u]);const w=ve.useCallback(()=>{if(y.current&&y.current.srcObject){y.current.srcObject.getTracks().forEach(e=>e.stop()),y.current.srcObject=null}v.current&&(cancelAnimationFrame(v.current),v.current=0),d(!1)},[]),j=ve.useCallback(t=>{if(y.current&&y.current.readyState===y.current.HAVE_ENOUGH_DATA&&k.current){const t=k.current,r=y.current;t.height=r.videoHeight,t.width=r.videoWidth;const a=t.getContext("2d");if(a){a.drawImage(r,0,0,t.width,t.height);const n=a.getImageData(0,0,t.width,t.height),s=Mk(n.data,n.width,n.height,{inversionAttempts:"dontInvert"});if(s)try{if(s.data.startsWith("http")){const t=new URL(s.data),r=t.searchParams.get("loc"),a=t.searchParams.get("table");if(r&&a)return e(r,a),void w()}else{const t=s.data.split(",");if(2===t.length)return e(t[0].trim(),t[1].trim()),void w()}}catch(Vk){}}}v.current=requestAnimationFrame(j)},[e,w]),N=async()=>{if(f(null),d(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});if(y.current){y.current.srcObject=t,y.current.setAttribute("playsinline","true");try{await y.current.play(),v.current=requestAnimationFrame(j)}catch(e){f("Failed to start video stream. Please ensure camera permissions are granted.")}}}catch(Hk){const t="NotAllowedError"===Hk.name?"Camera permission denied. Please allow access in settings.":Hk.message||"Could not access camera";f(t)}else f("Camera API not supported in this browser.")};ve.useEffect(()=>()=>{v.current&&cancelAnimationFrame(v.current)},[]);return D.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300 flex flex-col",children:[D.jsxs("nav",{className:"p-6 flex justify-between items-center max-w-7xl mx-auto w-full",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-orange-200 dark:shadow-none",children:"Q"}),D.jsx("span",{className:"text-2xl font-black tracking-tighter dark:text-white",children:"QuickServe"})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("button",{onClick:a,className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:r?D.jsx(Gm,{size:20}):D.jsx(Tm,{size:20})}),D.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-400 font-semibold hover:text-orange-500 transition-colors",children:"Login"})]})]}),D.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center",children:D.jsxs("div",{className:"mb-12 relative w-full max-w-lg",children:[D.jsx("div",{className:"absolute inset-0 bg-orange-100 dark:bg-orange-900/20 rounded-full scale-150 blur-3xl opacity-50 -z-10 animate-pulse"}),D.jsx("div",{className:"p-8 md:p-12 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-orange-50 dark:border-gray-700 flex flex-col items-center",children:c?D.jsxs("div",{className:"w-full relative",children:[D.jsxs("div",{className:"relative aspect-square w-full rounded-2xl overflow-hidden bg-black shadow-inner border-4 border-orange-500",children:[D.jsx("video",{ref:y,className:"w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0}),D.jsx("canvas",{ref:k,className:"hidden"}),D.jsx("div",{className:"absolute inset-0 border-2 border-orange-500/20 pointer-events-none",children:D.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-2 border-orange-500 rounded-2xl flex items-center justify-center",children:D.jsx("div",{className:"w-full h-0.5 bg-orange-500/50 absolute top-0 animate-[scan_2s_infinite]"})})}),m&&D.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 p-6 text-center z-10",children:D.jsxs("div",{children:[D.jsx(sf,{className:"mx-auto text-red-500 mb-2",size:32}),D.jsx("p",{className:"text-white font-bold text-sm mb-4",children:m}),D.jsx("button",{onClick:w,className:"px-4 py-2 bg-white text-black rounded-lg text-xs font-bold uppercase",children:"Go Back"})]})})]}),D.jsx("button",{onClick:w,className:"mt-6 w-full py-4 bg-red-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all",children:"Cancel Scanner"})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"relative group cursor-pointer",onClick:N,children:[D.jsx("div",{className:"absolute inset-0 bg-orange-500/10 rounded-full scale-125 group-hover:scale-150 transition-transform duration-500 blur-xl"}),D.jsxs("div",{className:"w-32 h-32 bg-gray-50 dark:bg-gray-700 rounded-3xl flex items-center justify-center mb-6 relative border-4 border-dashed border-gray-200 dark:border-gray-600 group-hover:border-orange-500 transition-colors",children:[D.jsx(Lm,{size:80,className:"text-gray-400 group-hover:text-orange-500 transition-colors"}),D.jsx("div",{className:"absolute -bottom-2 -right-2 bg-orange-500 p-2 rounded-xl text-white shadow-lg",children:D.jsx(Wg,{size:20})})]})]}),D.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2",children:"Scan to Order"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-xs mx-auto mb-8",children:"Point your camera at a table QR code to start ordering"}),D.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[x&&D.jsxs("div",{className:"relative group/session",children:[D.jsxs("button",{onClick:()=>e(x.loc,x.table),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-lg hover:scale-[1.02] active:scale-95 transition-all shadow-xl flex items-center justify-center gap-3 border-2 border-transparent pr-12",children:[D.jsx(Hm,{size:24,className:"text-orange-500"}),"Return to Table ",x.table]}),D.jsx("button",{onClick:e=>{e.stopPropagation(),i&&i(),b(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-900 rounded-xl hover:bg-red-500 dark:hover:bg-red-500 hover:text-white transition-all shadow-sm",title:"Clear Session",children:D.jsx(sf,{size:16})})]}),D.jsxs("button",{onClick:N,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg hover:bg-orange-600 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-orange-100 dark:shadow-none flex items-center justify-center gap-3",children:[D.jsx(Wg,{size:24})," Open Scanner"]}),D.jsxs("button",{onClick:()=>l(!0),className:"w-full py-4 bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-2xl font-bold text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[D.jsx(Mm,{size:16})," Manual/Simulate Scan"]}),s&&D.jsx("button",{onClick:s,className:"mt-4 text-xs font-black text-orange-500 uppercase tracking-widest hover:underline decoration-2 underline-offset-4",children:"Learn about our system"})]})]})})]})}),o&&D.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:D.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-md w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[D.jsx("button",{onClick:()=>l(!1),className:"absolute top-6 right-6 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400",children:D.jsx(sf,{size:20})}),D.jsxs("div",{className:"mb-8",children:[D.jsx("div",{className:"w-14 h-14 bg-orange-500 text-white rounded-2xl flex items-center justify-center mb-4",children:D.jsx(Lm,{size:28})}),D.jsx("h2",{className:"text-2xl font-black dark:text-white",children:"Manual Selection"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Select your location to begin ordering without scanning."})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1.5 ml-1",children:"Physical Location"}),D.jsxs("div",{className:"relative",children:[D.jsx(Em,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("select",{className:"w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-bold outline-none appearance-none cursor-pointer",value:u,onChange:e=>h(e.target.value),children:n.map(e=>D.jsx("option",{value:e.name,children:e.name},e.id))})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1.5 ml-1",children:"Table Number"}),D.jsxs("div",{className:"relative",children:[D.jsx(xm,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),D.jsx("input",{type:"text",placeholder:"e.g. 12",className:"w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-bold outline-none",value:p,onChange:e=>g(e.target.value)})]})]}),D.jsx("button",{onClick:()=>{const t=u||(n.length>0?n[0].name:"");t&&p&&e(t,p)},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-xl shadow-orange-100 dark:shadow-none hover:bg-orange-600 transition-all active:scale-95",children:"Start Ordering"})]})]})}),D.jsx("style",{children:"@keyframes scan { 0% { top: 0; } 100% { top: 100%; } }"})]})},$k=({onLogin:e,onBack:t})=>{const[r,a]=ve.useState(""),[n,s]=ve.useState(""),[i,o]=ve.useState(""),[l,c]=ve.useState(!1);return D.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors flex flex-col items-center justify-center px-4 py-12",children:[D.jsxs("button",{onClick:t,className:"fixed top-8 left-8 flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 font-semibold transition-colors",children:[D.jsx(Yg,{size:20}),"Back to Home"]}),D.jsxs("div",{className:"w-full max-w-md",children:[D.jsxs("div",{className:"flex flex-col items-center mb-10",children:[D.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-xl shadow-orange-100 dark:shadow-none mb-4",children:"Q"}),D.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Staff Portal"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Manage your restaurant operations"})]}),D.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl shadow-gray-200 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-10",children:D.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(""),c(!0);try{const t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n})}),a=await t.json();if(!t.ok)return void o(a.error||"Invalid username or password. Please try again.");e(a)}catch(Hk){o("Connection error. Please try again later.")}finally{c(!1)}},className:"space-y-6",children:[i&&D.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl text-sm font-medium border border-red-100 dark:border-red-900/40",children:[D.jsx(em,{size:18,className:"shrink-0 mt-0.5"}),D.jsx("p",{children:i})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Username"}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 dark:text-gray-500",children:D.jsx(ef,{size:18})}),D.jsx("input",{type:"text",required:!0,value:r,onChange:e=>a(e.target.value),placeholder:"Enter your username",className:"w-full pl-11 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-medium transition-all"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Password"}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 dark:text-gray-500",children:D.jsx(Cm,{size:18})}),D.jsx("input",{type:"password",required:!0,value:n,onChange:e=>s(e.target.value),placeholder:"",className:"w-full pl-11 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-medium transition-all"})]})]}),D.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-xl shadow-orange-100 dark:shadow-none hover:bg-orange-600 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?"Signing In...":"Sign In"})]})})]})]})},Uk=({onGetStarted:e})=>D.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 font-sans selection:bg-orange-100 selection:text-orange-900",children:[D.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b dark:border-gray-800",children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-black text-xl",children:"Q"}),D.jsx("span",{className:"text-2xl font-black tracking-tighter dark:text-white",children:"QuickServe"})]}),D.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:[D.jsx("a",{href:"#features",className:"hover:text-orange-500 transition-colors",children:"Features"}),D.jsx("a",{href:"#mockup",className:"hover:text-orange-500 transition-colors",children:"Preview"}),D.jsx("a",{href:"#pricing",className:"hover:text-orange-500 transition-colors",children:"Pricing"})]}),D.jsx("button",{onClick:e,className:"px-6 py-3 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg",children:"Get Started"})]})}),D.jsx("section",{className:"pt-40 pb-20 px-6",children:D.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[D.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-8 animate-bounce",children:[D.jsx(of,{size:14})," Malaysia's #1 Value Choice"]}),D.jsxs("h1",{className:"text-5xl md:text-8xl font-black text-gray-900 dark:text-white leading-[0.9] tracking-tighter mb-8",children:["THE CHEAPEST ",D.jsx("br",{}),D.jsx("span",{className:"text-orange-500",children:"QR ORDERING"})," ",D.jsx("br",{}),"IN MALAYSIA."]}),D.jsx("p",{className:"text-lg md:text-xl text-gray-500 dark:text-gray-400 max-w-2xl mx-auto mb-12 font-medium",children:"Modernize your restaurant in 5 minutes. No expensive hardware, no hidden fees. Just scan, order, and serve."}),D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[D.jsxs("button",{onClick:e,className:"w-full sm:w-auto px-10 py-5 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-2xl shadow-orange-200 dark:shadow-none hover:bg-orange-600 hover:scale-105 transition-all flex items-center justify-center gap-3",children:["Start Free Trial ",D.jsx(Fg,{size:20})]}),D.jsx("a",{href:"https://wa.me/601154036303?text=Hello%2C%20I%20am%20interested%20to%20know%20about%20the%20QuickServe%20QR%20system",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-10 py-5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl font-black text-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:"Contact for Demo"})]})]})}),D.jsx("section",{id:"mockup",className:"py-20 bg-gray-50 dark:bg-gray-800/50",children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[D.jsxs("div",{className:"text-center mb-16",children:[D.jsx("h2",{className:"text-3xl md:text-5xl font-black dark:text-white uppercase tracking-tighter mb-4",children:"Powerful Simplicity"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"One system, two perfectly crafted experiences."})]}),D.jsxs("div",{className:"relative flex flex-col lg:flex-row items-center justify-center gap-12",children:[D.jsxs("div",{className:"relative w-full max-w-3xl group",children:[D.jsx("div",{className:"absolute -inset-4 bg-orange-500/10 rounded-[2.5rem] blur-2xl group-hover:bg-orange-500/20 transition-all"}),D.jsx("div",{className:"relative bg-gray-900 rounded-[2rem] p-4 shadow-2xl border-8 border-gray-800 overflow-hidden",children:D.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl aspect-video overflow-hidden relative",children:D.jsx("img",{src:"https://qao3rwoi4hh7qspq.public.blob.vercel-storage.com/marketing-img/VENDOR%20VIEW-P0bv7W1mQ2wbxBpN8nDKPwxznuKvx9.png",alt:"Vendor Dashboard Mockup",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})})}),D.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 bg-black text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-xl",children:"Vendor Dashboard (Laptop View)"})]}),D.jsxs("div",{className:"relative w-72 shrink-0 group",children:[D.jsx("div",{className:"absolute -inset-4 bg-orange-500/10 rounded-[3rem] blur-2xl group-hover:bg-orange-500/20 transition-all"}),D.jsxs("div",{className:"relative bg-gray-900 rounded-[3rem] p-3 shadow-2xl border-[12px] border-gray-800 h-[580px] overflow-hidden",children:[D.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2rem] h-full overflow-hidden relative",children:D.jsx("img",{src:"https://qao3rwoi4hh7qspq.public.blob.vercel-storage.com/marketing-img/mobile-view-Fjp7UIn86T3yZtpuXltMyAIjKEE1eo",alt:"Customer Menu Mockup",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})}),D.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-gray-800 rounded-b-2xl z-10"})]}),D.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 bg-black text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-xl whitespace-nowrap",children:"Customer Menu (Mobile View)"})]})]})]})}),D.jsx("section",{id:"features",className:"py-20 px-6",children:D.jsx("div",{className:"max-w-7xl mx-auto",children:D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[D.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[D.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx(cm,{size:28})}),D.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Unbeatable Value"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"We guarantee the lowest subscription rates in Malaysia. Save up to 70% compared to traditional POS systems."})]}),D.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[D.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx(of,{size:28})}),D.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Instant Setup"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No hardware to install. Just print your QR codes and you're live. Works on any smartphone or laptop."})]}),D.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[D.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx(nm,{size:28})}),D.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Real-time Sync"}),D.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Orders hit your kitchen dashboard instantly. No more missed orders or manual entry errors."})]})]})})}),D.jsx("section",{className:"py-20 bg-black text-white overflow-hidden",children:D.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-12",children:[D.jsxs("div",{className:"max-w-xl",children:[D.jsxs("h2",{className:"text-4xl md:text-6xl font-black leading-[0.9] tracking-tighter mb-6 uppercase",children:["Trusted by ",D.jsx("br",{}),D.jsx("span",{className:"text-orange-500",children:"Local Hubs"})," ",D.jsx("br",{}),"Across Malaysia."]}),D.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-12",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(Vm,{className:"text-orange-500"}),D.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"SST Compliant"})]}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx(mm,{className:"text-orange-500"}),D.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Local Support"})]})]})]}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute inset-0 bg-orange-500/20 blur-[100px]"}),D.jsxs("div",{className:"relative p-12 bg-white/5 backdrop-blur-xl rounded-[3rem] border border-white/10 text-center",children:[D.jsx("p",{className:"text-5xl font-black text-orange-500 mb-2",children:"RM 0"}),D.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-white/60 mb-8",children:"Upfront Cost"}),D.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all",children:"Join the Revolution"})]})]})]})}),D.jsx("footer",{className:"py-20 px-6 border-t dark:border-gray-800",children:D.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[D.jsx("h2",{className:"text-3xl font-black dark:text-white uppercase tracking-tighter mb-8",children:"Ready to transform your business?"}),D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[D.jsxs("a",{href:"https://wa.me/601154036303?text=Hello%2C%20I%20am%20interested%20to%20know%20about%20the%20QuickServe%20QR%20system",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-gray-500 dark:text-gray-400 hover:text-orange-500 transition-colors",children:[D.jsx(Om,{size:20,className:"text-orange-500"}),D.jsx("span",{className:"font-bold",children:"WhatsApp: +60 11-5403 6303"})]}),D.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full hidden sm:block"}),D.jsxs("div",{className:"flex items-center gap-3 text-gray-500 dark:text-gray-400",children:[D.jsx(Vm,{size:20,className:"text-orange-500"}),D.jsx("span",{className:"font-bold",children:"Email: hello@quickserve.my"})]})]}),D.jsx("p",{className:"mt-12 text-[10px] font-black text-gray-400 uppercase tracking-[0.4em]",children:" 2026 QuickServe Malaysia. All Rights Reserved."})]})})]}),Fk=()=>{const[e,t]=ve.useState(()=>{try{const e=localStorage.getItem("qs_cache_users");return e?JSON.parse(e):[]}catch{return[]}}),[r,a]=ve.useState(()=>{try{const e=localStorage.getItem("qs_cache_restaurants");return(e?JSON.parse(e):[]).map(e=>{const t=localStorage.getItem(`qs_settings_${e.id}`);return t?{...e,settings:JSON.parse(t)}:e})}catch{return[]}}),[n,s]=ve.useState(()=>{try{const e=localStorage.getItem("qs_cache_orders");return e?JSON.parse(e):[]}catch{return[]}}),[i,o]=ve.useState(()=>{try{const e=localStorage.getItem("qs_cache_locations");return e?JSON.parse(e):[]}catch{return[]}}),[l,c]=ve.useState(()=>{try{const e=new URLSearchParams(window.location.search);if(!localStorage.getItem("qs_view")&&!e.get("loc"))return!1;const t=localStorage.getItem("qs_cache_restaurants"),r=localStorage.getItem("qs_cache_locations");return!(t&&r)}catch{return!0}}),[d,u]=ve.useState(new Date),h=ve.useRef(new Set),p=ve.useRef(!1),g=ve.useRef(!1),m=ve.useRef(0),[f,x]=ve.useState(()=>{try{const e=localStorage.getItem("qs_user");return e?JSON.parse(e):null}catch(Vk){return null}}),[b,y]=ve.useState(()=>localStorage.getItem("qs_role")),[k,v]=ve.useState(()=>{const e=localStorage.getItem("qs_view"),t=localStorage.getItem("qs_role"),r=new URLSearchParams(window.location.search);return e||r.get("loc")?("CUSTOMER"!==t||r.get("loc"))&&e||"LANDING":"MARKETING"}),[w,j]=ve.useState(()=>localStorage.getItem("qs_session_location")),[N,C]=ve.useState(()=>localStorage.getItem("qs_session_table")),[S,_]=ve.useState([]),[E,P]=ve.useState(()=>"dark"===localStorage.getItem("theme")||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches),O=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(Vk){}},B=e=>{if(!e)return Date.now();if("string"==typeof e){if(/^\d+$/.test(e))return parseInt(e,10);const t=new Date(e).getTime();return isNaN(t)?Date.now():t}return"number"==typeof e?e:"bigint"==typeof e?Number(e):Date.now()},T=ve.useCallback(async()=>{if("ADMIN"!==b)return;const{data:e,error:r}=await ik.from("users").select("id, username, role, restaurant_id, is_active, email, phone");if(!r&&e){const r=e.map(e=>({id:e.id,username:e.username,role:e.role,restaurantId:e.restaurant_id,isActive:e.is_active,email:e.email,phone:e.phone}));t(r),O("qs_cache_users",r)}},[b]),R=ve.useCallback(async()=>{const{data:e,error:t}=await ik.from("areas").select("*").order("name");if(!t&&e){const t=e.map(e=>({id:e.id,name:e.name,city:e.city,state:e.state,code:e.code,isActive:e.is_active??!0,type:e.type}));o(t),O("qs_cache_locations",t)}},[]),A=ve.useCallback(async()=>{if(p.current||!b)return;let e=ik.from("restaurants").select("*");"CUSTOMER"===b&&w&&(e=e.eq("location_name",w).eq("is_online",!0));const{data:t,error:r}=await e;if(r||!t)return;const n=t.map(e=>e.id);let s=ik.from("menu_items").select("*").in("restaurant_id",n);"CUSTOMER"===b&&(s=s.eq("is_archived",!1));const{data:i,error:o}=await s;if(!o&&i){const e=t.map(e=>({id:e.id,name:e.name,logo:e.logo,vendorId:e.vendor_id,location:e.location_name,created_at:e.created_at,isOnline:!0===e.is_online||null===e.is_online,platformAccess:e.platform_access||"pos_and_kitchen",settings:(()=>{const t=localStorage.getItem(`qs_settings_${e.id}`),r=e.settings?"string"==typeof e.settings?JSON.parse(e.settings):e.settings:null;return t?JSON.parse(t):r})(),categories:e.categories||[],modifiers:e.modifiers||[],menu:i.filter(t=>t.restaurant_id===e.id).map(e=>{const t=e.temp_options||{},r=e.other_variants||{},a=e.add_ons||[];return{id:e.id,name:e.name,description:e.description,price:Number(e.price),image:e.image,category:e.category,isArchived:e.is_archived,sizes:e.sizes,tempOptions:{enabled:t.enabled??!1,hot:t.hot??0,cold:t.cold??0},otherVariantName:r.name||"",otherVariants:r.options||[],otherVariantsEnabled:r.enabled??!1,addOns:a}})}));a(e),O("qs_cache_restaurants",e)}},[b,w]),z=ve.useCallback(async()=>{if(!g.current&&b){g.current=!0;try{let e=ik.from("orders").select("*").order("timestamp",{ascending:!1}).limit(200);if("CUSTOMER"===b){if(!w||!N)return void(g.current=!1);e=e.eq("location_name",w).eq("table_number",N).limit(10)}else"VENDOR"===b&&(null==f?void 0:f.restaurantId)&&(e=e.eq("restaurant_id",f.restaurantId));const{data:t,error:r}=await e;!r&&t&&s(e=>{const r=t.map(t=>{const r={id:t.id,items:Array.isArray(t.items)?t.items:"string"==typeof t.items?JSON.parse(t.items):[],total:Number(t.total||0),status:t.status,timestamp:B(t.timestamp),customerId:t.customer_id,restaurantId:t.restaurant_id,tableNumber:t.table_number,locationName:t.location_name,remark:t.remark,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note};if(h.current.has(t.id)){const a=e.find(e=>e.id===t.id);a&&(r.status=a.status)}return r});if(r.length>0){const e=Math.max(...r.map(e=>e.timestamp));e>m.current&&(m.current=e)}return O("qs_cache_orders",r),r})}catch(Vk){}finally{g.current=!1}}},[b,w,N,f]),I=ve.useCallback(async()=>{if(g.current)return;const e=localStorage.getItem("qs_user");if(!e)return;const t=JSON.parse(e);if("VENDOR"===t.role&&t.restaurantId){g.current=!0;try{const{data:e,error:r}=await ik.from("orders").select("*").eq("restaurant_id",t.restaurantId).gt("timestamp",m.current).order("timestamp",{ascending:!1});if(!r&&e&&e.length>0){const t=e.map(e=>({id:e.id,items:Array.isArray(e.items)?e.items:"string"==typeof e.items?JSON.parse(e.items):[],total:Number(e.total||0),status:e.status,timestamp:B(e.timestamp),customerId:e.customer_id,restaurantId:e.restaurant_id,tableNumber:e.table_number,locationName:e.location_name,remark:e.remark,rejectionReason:e.rejection_reason,rejectionNote:e.rejection_note}));s(e=>{const r=t.filter(t=>!e.some(e=>e.id===t.id));if(0===r.length)return e;const a=[...r,...e].slice(0,200);O("qs_cache_orders",a);const n=Math.max(...a.map(e=>e.timestamp));return n>m.current&&(m.current=n),a}),u(new Date)}}catch(Vk){}finally{g.current=!1}}},[]);ve.useCallback(async()=>{await Promise.allSettled([z(),A()]),u(new Date)},[z,A]),ve.useEffect(()=>{const e=new URLSearchParams(window.location.search),t=e.get("loc"),r=e.get("table");t&&r&&(j(t),C(r),y("CUSTOMER"),v("APP"),localStorage.setItem("qs_role","CUSTOMER"),localStorage.setItem("qs_view","APP"),localStorage.setItem("qs_session_location",t),localStorage.setItem("qs_session_table",r),window.history.replaceState({},"",window.location.pathname))},[]),ve.useEffect(()=>{(async()=>{await Promise.allSettled([T(),R(),A(),z()]),u(new Date),c(!1)})()},[T,R,A,z]),ve.useEffect(()=>{let e;"CUSTOMER"===b&&w?e=`location_name=eq.${w}`:"VENDOR"===b&&(null==f?void 0:f.restaurantId)&&(e=`restaurant_id=eq.${f.restaurantId}`);const t=ik.channel("qs-realtime-optimized").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders",filter:e},e=>{const t=e.new,r={id:t.id,items:Array.isArray(t.items)?t.items:"string"==typeof t.items?JSON.parse(t.items):[],total:Number(t.total||0),status:t.status,timestamp:B(t.timestamp),customerId:t.customer_id,restaurantId:t.restaurant_id,tableNumber:t.table_number,locationName:t.location_name,remark:t.remark,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note};s(e=>{if(e.some(e=>e.id===r.id))return e;const t=[r,...e].slice(0,200);return O("qs_cache_orders",t),r.timestamp>m.current&&(m.current=r.timestamp),t}),u(new Date)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:e},e=>{const t=e.new;s(e=>{const r=e.map(e=>e.id===t.id?h.current.has(t.id)&&t.status===Rg.ONGOING?e:(h.current.has(t.id)&&e.status===t.status&&h.current.delete(t.id),h.current.has(t.id)?e:{...e,status:t.status,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note}):e);return O("qs_cache_orders",r),r}),u(new Date)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"restaurants",filter:"CUSTOMER"===b&&w?`location_name=eq.${w}`:void 0},e=>{const t=e.new;a(e=>{const r=e.map(e=>e.id===t.id?{...e,isOnline:!0===t.is_online||null===t.is_online}:e);return O("qs_cache_restaurants",r),r}),u(new Date)}).subscribe();return()=>{ik.removeChannel(t)}},[b,w,f]),ve.useEffect(()=>{let e;return"VENDOR"===b&&(I(),e=setInterval(()=>{I()},5e3)),()=>{e&&clearInterval(e)}},[b,I]),ve.useEffect(()=>{E?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",E?"dark":"light")},[E]);const L=(e,t)=>{j(e),C(t),y("CUSTOMER"),v("APP"),localStorage.setItem("qs_role","CUSTOMER"),localStorage.setItem("qs_view","APP"),localStorage.setItem("qs_session_location",e),localStorage.setItem("qs_session_table",t)},M=e=>{c(!0),x(e),y(e.role),v("APP"),localStorage.setItem("qs_user",JSON.stringify(e)),localStorage.setItem("qs_role",e.role),localStorage.setItem("qs_view","APP")},$=()=>{j(null),C(null),localStorage.removeItem("qs_session_location"),localStorage.removeItem("qs_session_table"),localStorage.removeItem("qs_role"),localStorage.removeItem("qs_view"),y(null),v("LANDING")},U=async(e,t,r,a)=>{const n=t!==Rg.ONGOING;n&&h.current.add(e),s(n=>n.map(n=>n.id===e?{...n,status:t,rejectionReason:r,rejectionNote:a}:n)),await ik.from("orders").update({status:t,rejection_reason:r,rejection_note:a}).eq("id",e),n&&setTimeout(()=>h.current.delete(e),3e3)},F=async(t,n)=>{r.find(e=>e.id===t);const s=e.find(e=>e.restaurantId===t);if(!n&&s&&!1===s.isActive)return void alert("Cannot turn online: Master Activation is disabled for this vendor.");const i=!n;p.current=!0,a(e=>e.map(e=>e.id===t?{...e,isOnline:i}:e));const{error:o}=await ik.from("restaurants").update({is_online:i}).eq("id",t);o&&A(),setTimeout(()=>p.current=!1,3e3)},q=async(e,t)=>{const{error:r}=await ik.from("menu_items").update({name:t.name,description:t.description,price:t.price,image:t.image,category:t.category,is_archived:t.isArchived,sizes:t.sizes,temp_options:t.tempOptions||{enabled:!1,hot:0,cold:0},other_variants:{name:t.otherVariantName,options:t.otherVariants,enabled:t.otherVariantsEnabled},add_ons:t.addOns||[]}).eq("id",t.id);r?alert("Error updating menu item: "+r.message):A()},V=async(e,t)=>{const{error:r}=await ik.from("menu_items").insert({id:t.id,restaurant_id:e,name:t.name,description:t.description,price:t.price,image:t.image,category:t.category,is_archived:!1,sizes:t.sizes,temp_options:t.tempOptions||{enabled:!1,hot:0,cold:0},other_variants:{name:t.otherVariantName,options:t.otherVariants,enabled:t.otherVariantsEnabled},add_ons:t.addOns||[]});r?alert("Error adding menu item: "+r.message):A()},H=async(e,t)=>{const{error:r}=await ik.from("menu_items").delete().eq("id",t);r||A()},K=async(e,t,r)=>{const a=new URLSearchParams({...e,page:t.toString(),limit:r.toString()}),n=await fetch(`/api/orders/report?${a.toString()}`);if(!n.ok)throw new Error("Failed to fetch report");return await n.json()},G=async e=>{const t=new URLSearchParams({...e,page:"1",limit:"10000"}),r=await fetch(`/api/orders/report?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch report");return(await r.json()).orders},W=async(e,t,a)=>{if(0===e.length||!(null==f?void 0:f.restaurantId))return;const n=r.find(e=>e.id===f.restaurantId),s=i.find(e=>e.name===(null==n?void 0:n.location)),o=(null==s?void 0:s.code)||"QS";let l=1;const{data:c}=await ik.from("orders").select("id").ilike("id",`${o}%`).order("id",{ascending:!1}).limit(1);if(c&&c[0]){const e=c[0].id.split("-")[0].substring(o.length),t=parseInt(e);isNaN(t)||(l=t+1)}const d=`${o}${String(l).padStart(7,"0")}`,u=e.reduce((e,t)=>e+t.price*t.quantity,0),h={id:d,items:e,total:u,status:Rg.COMPLETED,timestamp:Date.now(),customer_id:"pos_user",restaurant_id:f.restaurantId,table_number:a,location_name:(null==n?void 0:n.location)||"Unspecified",remark:t},{error:p}=await ik.from("orders").insert([h]);if(p)throw p},Q="VENDOR"===(null==f?void 0:f.role)?r.find(e=>e.id===f.restaurantId):null,J=i.find(e=>e.name===w);return l?D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900",children:[D.jsx(Nm,{className:"w-12 h-12 text-orange-500 animate-spin mb-4"}),D.jsx("p",{className:"text-gray-500 font-black uppercase tracking-[0.2em] text-[10px]",children:"Syncing Hub..."})]}):"MARKETING"===k?D.jsx(Uk,{onGetStarted:()=>v("LANDING")}):"LANDING"===k?D.jsx(Dk,{onScan:L,onLoginClick:()=>v("LOGIN"),isDarkMode:E,onToggleDarkMode:()=>P(!E),locations:i.filter(e=>!1!==e.isActive),onLearnMore:()=>v("MARKETING"),onClearSession:$}):"LOGIN"===k?D.jsx($k,{onLogin:M,onBack:()=>v("LANDING")}):D.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors",children:[D.jsxs("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b dark:border-gray-700 h-16 flex items-center justify-between px-8 shadow-sm",children:[D.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>v("LANDING"),children:[D.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white font-black",children:"Q"}),D.jsx("h1",{className:"text-xl font-black dark:text-white",children:"QuickServe"})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("button",{onClick:()=>P(!E),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",children:E?D.jsx(Gm,{size:20}):D.jsx(Tm,{size:20})}),f&&D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("div",{className:"text-right hidden sm:block",children:[D.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:f.role}),D.jsx("p",{className:"text-xs font-black dark:text-white",children:f.username})]}),D.jsx("button",{onClick:()=>{x(null),y(null),j(null),C(null),v("LANDING"),localStorage.removeItem("qs_user"),localStorage.removeItem("qs_role"),localStorage.removeItem("qs_view"),localStorage.removeItem("qs_session_location"),localStorage.removeItem("qs_session_table"),localStorage.removeItem("qs_cache_users"),localStorage.removeItem("qs_cache_restaurants"),localStorage.removeItem("qs_cache_orders"),localStorage.removeItem("qs_cache_locations")},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",children:D.jsx(_m,{size:20})})]})]})]}),D.jsxs("main",{className:"flex-1",children:["CUSTOMER"===b&&D.jsx(lf,{restaurants:r.filter(e=>e.location===w&&!0===e.isOnline),cart:S,orders:n,onAddToCart:e=>{const t=r.find(t=>t.id===e.restaurantId);t&&!1===t.isOnline?alert("This kitchen is currently offline."):_(t=>t.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedTemp===e.selectedTemp&&t.selectedOtherVariant===e.selectedOtherVariant)?t.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedTemp===e.selectedTemp&&t.selectedOtherVariant===e.selectedOtherVariant?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},onRemoveFromCart:e=>{_(t=>{const r=t.find(t=>t.id===e);return r&&r.quantity>1?t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.id!==e)})},onPlaceOrder:async e=>{if(0===S.length)return;const t=Array.from(new Set(S.map(e=>e.restaurantId))),a=t.map(e=>r.find(t=>t.id===e)).filter(e=>!e||!1===e.isOnline);if(a.length>0)return void alert(`Error: The following kitchen(s) are currently offline: ${a.map(e=>null==e?void 0:e.name).join(", ")}. Please remove these items from your cart.`);const n=i.find(e=>e.name===w),s=(null==n?void 0:n.code)||"QS";let o=1;const{data:l}=await ik.from("orders").select("id").ilike("id",`${s}%`).order("id",{ascending:!1}).limit(1);if(l&&l[0]){const e=l[0].id.split("-")[0].substring(s.length),t=parseInt(e);isNaN(t)||(o=t+1)}const c=`${s}${String(o).padStart(7,"0")}`,d=t.map((r,a)=>{const n=S.filter(e=>e.restaurantId===r),s=n.reduce((e,t)=>e+t.price*t.quantity,0);return{id:t.length>1?`${c}-${a+1}`:c,items:n,total:s,status:Rg.PENDING,timestamp:Date.now(),customer_id:"guest_user",restaurant_id:r,table_number:N||"N/A",location_name:w||"Unspecified",remark:e}}),{error:u}=await ik.from("orders").insert(d);u?alert("Placement Error: "+u.message):(_([]),alert(`Your order(s) have been placed! Reference: ${c}`))},locationName:w||void 0,tableNo:N||void 0,areaType:(null==J?void 0:J.type)||"MULTI",allRestaurants:r}),"CASHIER"===b&&"APP"===k&&(f&&r.find(e=>e.id===f.restaurantId)?D.jsx(zk,{restaurant:r.find(e=>e.id===f.restaurantId),orders:n.filter(e=>{if(e.restaurantId!==(null==f?void 0:f.restaurantId))return!1;const t=Date.now()-864e5;return e.timestamp>t}),onUpdateOrder:U,onPlaceOrder:W,onUpdateMenu:q,onAddMenuItem:V,onPermanentDeleteMenuItem:H,onFetchPaginatedOrders:K,onFetchAllFilteredOrders:G}):D.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12",children:[D.jsx(Nm,{className:"w-10 h-10 text-orange-500 animate-spin mb-4"}),D.jsx("p",{className:"text-gray-500 font-black uppercase tracking-widest text-[10px]",children:"Loading POS..."})]})),"VENDOR"===b&&"APP"===k&&(Q?"pos_only"===Q.platformAccess?D.jsx(zk,{restaurant:Q,orders:n.filter(e=>{if(e.restaurantId!==(null==f?void 0:f.restaurantId))return!1;const t=Date.now()-864e5;return e.timestamp>t}),onUpdateOrder:U,onPlaceOrder:W,onUpdateMenu:q,onAddMenuItem:V,onPermanentDeleteMenuItem:H,onFetchPaginatedOrders:K,onFetchAllFilteredOrders:G}):D.jsx(Bk,{restaurant:Q,orders:n.filter(e=>{if(e.restaurantId!==(null==f?void 0:f.restaurantId))return!1;const t=Date.now()-864e5;return e.timestamp>t}),onUpdateOrder:U,onUpdateMenu:q,onAddMenuItem:V,onPermanentDeleteMenuItem:H,onToggleOnline:()=>F(Q.id,Q.isOnline??!0),lastSyncTime:d,onFetchPaginatedOrders:K,onFetchAllFilteredOrders:G,onSwitchToPos:()=>v("POS")}):D.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12",children:[D.jsx(Nm,{className:"w-10 h-10 text-orange-500 animate-spin mb-4"}),D.jsx("p",{className:"text-gray-500 font-black uppercase tracking-widest text-[10px]",children:"Loading Kitchen Dashboard..."})]})),"VENDOR"===b&&"POS"===k&&Q&&D.jsx(Ak,{restaurant:Q,orders:n,onUpdateOrder:U,onPlaceOrder:W,onFetchPaginatedOrders:K,onFetchAllFilteredOrders:G,onUpdateRestaurantSettings:async(e,t)=>{const{error:r}=await ik.from("restaurants").update({settings:t}).eq("id",e);localStorage.setItem(`qs_settings_${e}`,JSON.stringify(t)),a(r=>r.map(r=>r.id===e?{...r,settings:t}:r))},onSwitchToVendor:()=>v("APP")}),"ADMIN"===b&&D.jsx(Rk,{vendors:e.filter(e=>"VENDOR"===e.role),restaurants:r,orders:n,locations:i,onAddVendor:async(e,t)=>{const r=crypto.randomUUID(),a=crypto.randomUUID();try{const{error:n}=await ik.from("restaurants").insert({id:a,name:t.name,logo:t.logo||"https://picsum.photos/seed/default/200/200",vendor_id:null,location_name:t.location,is_online:!0,settings:{},platform_access:t.platformAccess||"pos_and_kitchen"});if(n)return void alert("Error adding restaurant: "+n.message);const{error:s}=await ik.from("users").insert({id:r,username:e.username,password:e.password,role:"VENDOR",restaurant_id:a,is_active:!0,email:e.email||"",phone:e.phone||""});if(s)return alert("Error adding user: "+s.message),void(await ik.from("restaurants").delete().eq("id",a));const{error:i}=await ik.from("restaurants").update({vendor_id:r}).eq("id",a);i?alert("Restaurant created but couldn't link vendor. Please check manually."):alert("Vendor added successfully!"),T(),A()}catch(n){alert("An unexpected error occurred")}},onUpdateVendor:async(e,t)=>{const r={username:e.username,email:e.email,phone:e.phone,is_active:e.isActive};e.password&&(r.password=e.password);const{error:a}=await ik.from("users").update(r).eq("id",e.id),n={name:t.name,logo:t.logo,location_name:t.location,platform_access:t.platformAccess};!1===e.isActive&&(n.is_online=!1);const{error:s}=await ik.from("restaurants").update(n).eq("id",t.id);(a||s)&&alert("Error updating vendor"),T(),A()},onImpersonateVendor:M,onAddLocation:async e=>{const t=crypto.randomUUID(),{error:r}=await ik.from("areas").insert({id:t,name:e.name,city:e.city,state:e.state,code:e.code,is_active:!0,type:e.type||"MULTI"});r||R()},onUpdateLocation:async e=>{const{error:t}=await ik.from("areas").update({name:e.name,city:e.city,state:e.state,code:e.code,is_active:e.isActive,type:e.type}).eq("id",e.id);t||R()},onDeleteLocation:async e=>{const{error:t}=await ik.from("areas").delete().eq("id",e);t||R()},onToggleOnline:F,onRemoveVendorFromHub:e=>ik.from("restaurants").update({location_name:null}).eq("id",e).then(()=>A()),onFetchPaginatedOrders:K,onFetchAllFilteredOrders:G,onFetchStats:async e=>{const t=new URLSearchParams({...e,page:"1",limit:"1"}),r=await fetch(`/api/orders/report?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch report");return(await r.json()).summary}})]})]})},qk=document.getElementById("root");if(!qk)throw new Error("Could not find root element to mount to");Tg.createRoot(qk).render(D.jsx(we.StrictMode,{children:D.jsx(Fk,{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(e=>{})});
