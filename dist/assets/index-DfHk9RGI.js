!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={exports:{}},r={},a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(e,t,r){var n=null;if(void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:a,type:e,key:n,ref:void 0!==t?t:null,props:r}}r.Fragment=n,r.jsx=s,r.jsxs=s,t.exports=r;var o=t.exports,i={exports:{}},l={},c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),v=Symbol.iterator;var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(e,t,r){this.props=e,this.context=t,this.refs=N,this.updater=r||w}function C(){}function _(e,t,r){this.props=e,this.context=t,this.refs=N,this.updater=r||w}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=S.prototype;var E=_.prototype=new C;E.constructor=_,j(E,S.prototype),E.isPureReactComponent=!0;var P=Array.isArray;function B(){}var O={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(e,t,r){var a=r.ref;return{$$typeof:c,type:e,key:t,ref:void 0!==a?a:null,props:r}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===c}var I=/\/+/g;function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,a={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return a[e]})):t.toString(36);var r,a}function z(e,t,r,a,n){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o,i,l=!1;if(null===e)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case c:case d:l=!0;break;case y:return z((l=e._init)(e._payload),t,r,a,n)}}if(l)return n=n(e),l=""===a?"."+L(e,0):a,P(n)?(r="",null!=l&&(r=l.replace(I,"$&/")+"/"),z(n,t,r,"",function(e){return e})):null!=n&&(A(n)&&(o=n,i=r+(null==n.key||e&&e.key===n.key?"":(""+n.key).replace(I,"$&/")+"/")+l,n=R(o.type,i,o.props)),t.push(n)),1;l=0;var u,h=""===a?".":a+":";if(P(e))for(var p=0;p<e.length;p++)l+=z(a=e[p],t,r,s=h+L(a,p),n);else if("function"==typeof(p=null===(u=e)||"object"!=typeof u?null:"function"==typeof(u=v&&u[v]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(a=e.next()).done;)l+=z(a=a.value,t,r,s=h+L(a,p++),n);else if("object"===s){if("function"==typeof e.then)return z(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(B,B):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function M(e,t,r){if(null==e)return e;var a=[],n=0;return z(e,a,"","",function(e){return t.call(r,e,n++)}),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},U={map:M,forEach:function(e,t,r){M(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};l.Activity=k,l.Children=U,l.Component=S,l.Fragment=u,l.Profiler=p,l.PureComponent=_,l.StrictMode=h,l.Suspense=b,l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,l.__COMPILER_RUNTIME={__proto__:null,c:function(e){return O.H.useMemoCache(e)}},l.cache=function(e){return function(){return e.apply(null,arguments)}},l.cacheSignal=function(){return null},l.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var a=j({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)!T.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(a[s]=t[s]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var o=Array(s),i=0;i<s;i++)o[i]=arguments[i+2];a.children=o}return R(e.type,n,a)},l.createContext=function(e){return(e={$$typeof:g,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:f,_context:e},e},l.createElement=function(e,t,r){var a,n={},s=null;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)T.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(n[a]=t[a]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var i=Array(o),l=0;l<o;l++)i[l]=arguments[l+2];n.children=i}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===n[a]&&(n[a]=o[a]);return R(e,s,n)},l.createRef=function(){return{current:null}},l.forwardRef=function(e){return{$$typeof:m,render:e}},l.isValidElement=A,l.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:D}},l.memo=function(e,t){return{$$typeof:x,type:e,compare:void 0===t?null:t}},l.startTransition=function(e){var t=O.T,r={};O.T=r;try{var a=e(),n=O.S;null!==n&&n(r,a),"object"==typeof a&&null!==a&&"function"==typeof a.then&&a.then(B,$)}catch(s){$(s)}finally{null!==t&&null!==r.types&&(t.types=r.types),O.T=t}},l.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},l.use=function(e){return O.H.use(e)},l.useActionState=function(e,t,r){return O.H.useActionState(e,t,r)},l.useCallback=function(e,t){return O.H.useCallback(e,t)},l.useContext=function(e){return O.H.useContext(e)},l.useDebugValue=function(){},l.useDeferredValue=function(e,t){return O.H.useDeferredValue(e,t)},l.useEffect=function(e,t){return O.H.useEffect(e,t)},l.useEffectEvent=function(e){return O.H.useEffectEvent(e)},l.useId=function(){return O.H.useId()},l.useImperativeHandle=function(e,t,r){return O.H.useImperativeHandle(e,t,r)},l.useInsertionEffect=function(e,t){return O.H.useInsertionEffect(e,t)},l.useLayoutEffect=function(e,t){return O.H.useLayoutEffect(e,t)},l.useMemo=function(e,t){return O.H.useMemo(e,t)},l.useOptimistic=function(e,t){return O.H.useOptimistic(e,t)},l.useReducer=function(e,t,r){return O.H.useReducer(e,t,r)},l.useRef=function(e){return O.H.useRef(e)},l.useState=function(e){return O.H.useState(e)},l.useSyncExternalStore=function(e,t,r){return O.H.useSyncExternalStore(e,t,r)},l.useTransition=function(){return O.H.useTransition()},l.version="19.2.4",i.exports=l;var q=i.exports;const F=e(q);var V={exports:{}},H={},K={exports:{}},G={};
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,s=e[a];if(!(0<n(s,t)))break e;e[a]=t,e[r]=s,r=a}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,s=e.length,o=s>>>1;a<o;){var i=2*(a+1)-1,l=e[i],c=i+1,d=e[c];if(0>n(l,r))c<s&&0>n(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[i]=r,a=i);else{if(!(c<s&&0>n(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var l=[],c=[],d=1,u=null,h=3,p=!1,f=!1,g=!1,m=!1,b="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var n=r(c);null!==n;){if(null===n.callback)a(c);else{if(!(n.startTime<=e))break;a(c),n.sortIndex=n.expirationTime,t(l,n)}n=r(c)}}function v(e){if(g=!1,k(e),!f)if(null!==r(l))f=!0,j||(j=!0,w());else{var t=r(c);null!==t&&O(v,t.startTime-e)}}var w,j=!1,N=-1,S=5,C=-1;function _(){return!!m||!(e.unstable_now()-C<S)}function E(){if(m=!1,j){var t=e.unstable_now();C=t;var n=!0;try{e:{f=!1,g&&(g=!1,x(N),N=-1),p=!0;var s=h;try{t:{for(k(t),u=r(l);null!==u&&!(u.expirationTime>t&&_());){var o=u.callback;if("function"==typeof o){u.callback=null,h=u.priorityLevel;var i=o(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){u.callback=i,k(t),n=!0;break t}u===r(l)&&a(l),k(t)}else a(l);u=r(l)}if(null!==u)n=!0;else{var d=r(c);null!==d&&O(v,d.startTime-t),n=!1}}break e}finally{u=null,h=s,p=!1}n=void 0}}finally{n?w():j=!1}}}if("function"==typeof y)w=function(){y(E)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,B=P.port2;P.port1.onmessage=E,w=function(){B.postMessage(null)}}else w=function(){b(E,0)};function O(t,r){N=b(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(a,n,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return a={id:d++,callback:n,priorityLevel:a,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(a.sortIndex=s,t(c,a),null===r(l)&&a===r(c)&&(g?(x(N),N=-1):g=!0,O(v,s-o))):(a.sortIndex=i,t(l,a),f||p||(f=!0,j||(j=!0,w()))),a},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(G),K.exports=G;var W=K.exports,Q={exports:{}},J={},X=q;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Z(){}var ee={d:{f:Z,r:function(){throw Error(Y(522))},D:Z,C:Z,L:Z,m:Z,X:Z,S:Z,M:Z},p:0,findDOMNode:null},te=Symbol.for("react.portal");var re=X.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ae(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}J.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,J.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(Y(299));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},J.flushSync=function(e){var t=re.T,r=ee.p;try{if(re.T=null,ee.p=2,e)return e()}finally{re.T=t,ee.p=r,ee.d.f()}},J.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,ee.d.C(e,t))},J.prefetchDNS=function(e){"string"==typeof e&&ee.d.D(e)},J.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var r=t.as,a=ae(r,t.crossOrigin),n="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?ee.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:s}):"script"===r&&ee.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},J.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=ae(t.as,t.crossOrigin);ee.d.M(e,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&ee.d.M(e)},J.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var r=t.as,a=ae(r,t.crossOrigin);ee.d.L(e,r,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},J.preloadModule=function(e,t){if("string"==typeof e)if(t){var r=ae(t.as,t.crossOrigin);ee.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else ee.d.m(e)},J.requestFormReset=function(e){ee.d.r(e)},J.unstable_batchedUpdates=function(e,t){return e(t)},J.useFormState=function(e,t,r){return re.H.useFormState(e,t,r)},J.useFormStatus=function(){return re.H.useHostTransitionStatus()},J.version="19.2.4",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Q.exports=J;var ne=Q.exports,se=W,oe=q,ie=ne;
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function le(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ce(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function de(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function he(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function pe(e){if(de(e)!==e)throw Error(le(188))}function fe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=fe(e)))return t;e=e.sibling}return null}var ge=Object.assign,me=Symbol.for("react.element"),be=Symbol.for("react.transitional.element"),xe=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),je=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Pe=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Te(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Oe&&e[Oe]||e["@@iterator"])?e:null}var Re=Symbol.for("react.client.reference");function Ae(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Re?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ye:return"Fragment";case ve:return"Profiler";case ke:return"StrictMode";case Se:return"Suspense";case Ce:return"SuspenseList";case Pe:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case xe:return"Portal";case je:return e.displayName||"Context";case we:return(e._context.displayName||"Context")+".Consumer";case Ne:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _e:return null!==(t=e.displayName||null)?t:Ae(e.type)||"Memo";case Ee:t=e._payload,e=e._init;try{return Ae(e(t))}catch(r){}}return null}var Ie=Array.isArray,Le=oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze=ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},De=[],$e=-1;function Ue(e){return{current:e}}function qe(e){0>$e||(e.current=De[$e],De[$e]=null,$e--)}function Fe(e,t){$e++,De[$e]=e.current,e.current=t}var Ve,He,Ke=Ue(null),Ge=Ue(null),We=Ue(null),Qe=Ue(null);function Je(e,t){switch(Fe(We,t),Fe(Ge,e),Fe(Ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=kh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qe(Ke),Fe(Ke,e)}function Xe(){qe(Ke),qe(Ge),qe(We)}function Ye(e){null!==e.memoizedState&&Fe(Qe,e);var t=Ke.current,r=kh(t,e.type);t!==r&&(Fe(Ge,e),Fe(Ke,r))}function Ze(e){Ge.current===e&&(qe(Ke),qe(Ge)),Qe.current===e&&(qe(Qe),hp._currentValue=Me)}function et(e){if(void 0===Ve)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ve=t&&t[1]||"",He=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ve+e+He}var tt=!1;function rt(e,t){if(!e||tt)return"";tt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var a=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){a=s}e.call(r.prototype)}}else{try{throw Error()}catch(o){a=o}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(i){if(i&&a&&"string"==typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),o=s[0],i=s[1];if(o&&i){var l=o.split("\n"),c=i.split("\n");for(n=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(a===l.length||n===c.length)for(a=l.length-1,n=c.length-1;1<=a&&0<=n&&l[a]!==c[n];)n--;for(;1<=a&&0<=n;a--,n--)if(l[a]!==c[n]){if(1!==a||1!==n)do{if(a--,0>--n||l[a]!==c[n]){var d="\n"+l[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=n);break}}}finally{tt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?et(r):""}function at(e,t){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return e.child!==t&&null!==t?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return et("Activity");default:return""}}function nt(e){try{var t="",r=null;do{t+=at(e,r),r=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var st=Object.prototype.hasOwnProperty,ot=se.unstable_scheduleCallback,it=se.unstable_cancelCallback,lt=se.unstable_shouldYield,ct=se.unstable_requestPaint,dt=se.unstable_now,ut=se.unstable_getCurrentPriorityLevel,ht=se.unstable_ImmediatePriority,pt=se.unstable_UserBlockingPriority,ft=se.unstable_NormalPriority,gt=se.unstable_LowPriority,mt=se.unstable_IdlePriority,bt=se.log,xt=se.unstable_setDisableYieldValue,yt=null,kt=null;function vt(e){if("function"==typeof bt&&xt(e),kt&&"function"==typeof kt.setStrictMode)try{kt.setStrictMode(yt,e)}catch(t){}}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(jt(e)/Nt|0)|0},jt=Math.log,Nt=Math.LN2;var St=256,Ct=262144,_t=4194304;function Et(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pt(e,t,r){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~s)?n=Et(a):0!==(o&=i)?n=Et(o):r||0!==(r=i&~e)&&(n=Et(r)):0!==(i=a&~s)?n=Et(i):0!==o?n=Et(o):r||0!==(r=a&~e)&&(n=Et(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&4194048&r)?t:n}function Bt(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ot(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(){var e=_t;return!(62914560&(_t<<=1))&&(_t=4194304),e}function Rt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function At(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-wt(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&r}function Lt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-wt(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}function zt(e,t){var r=t&-t;return 0!==((r=42&r?1:Mt(r))&(e.suspendedLanes|t))?0:r}function Mt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dt(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function $t(){var e=ze.p;return 0!==e?e:void 0===(e=window.event)?32:Ep(e.type)}function Ut(e,t){var r=ze.p;try{return ze.p=e,t()}finally{ze.p=r}}var qt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+qt,Vt="__reactProps$"+qt,Ht="__reactContainer$"+qt,Kt="__reactEvents$"+qt,Gt="__reactListeners$"+qt,Wt="__reactHandles$"+qt,Qt="__reactResources$"+qt,Jt="__reactMarker$"+qt;function Xt(e){delete e[Ft],delete e[Vt],delete e[Kt],delete e[Gt],delete e[Wt]}function Yt(e){var t=e[Ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ht]||r[Ft]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Mh(e);null!==e;){if(r=e[Ft])return r;e=Mh(e)}return t}r=(e=r).parentNode}return null}function Zt(e){if(e=e[Ft]||e[Ht]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function er(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(le(33))}function tr(e){var t=e[Qt];return t||(t=e[Qt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rr(e){e[Jt]=!0}var ar=new Set,nr={};function sr(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(nr[e]=t,e=0;e<t.length;e++)ar.add(t[e])}var ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},cr={};function dr(e,t,r){if(n=t,st.call(cr,n)||!st.call(lr,n)&&(ir.test(n)?cr[n]=!0:(lr[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function ur(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function hr(e,t,r,a){if(null===a)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+a)}}function pr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function fr(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function gr(e){if(!e._valueTracker){var t=fr(e)?"checked":"value";e._valueTracker=function(e,t,r){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=fr(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function br(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xr=/[\n"\\]/g;function yr(e){return e.replace(xr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function kr(e,t,r,a,n,s,o,i){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+pr(t)):e.value!==""+pr(t)&&(e.value=""+pr(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wr(e,o,pr(t)):null!=r?wr(e,o,pr(r)):null!=a&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!=typeof n&&"symbol"!=typeof n),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+pr(i):e.removeAttribute("name")}function vr(e,t,r,a,n,s,o,i){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=r){if(("submit"===s||"reset"===s)&&null==t)return void gr(e);r=null!=r?""+pr(r):"",t=null!=t?""+pr(t):r,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:n)&&"symbol"!=typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),gr(e)}function wr(e,t,r){"number"===t&&br(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jr(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+pr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function Nr(e,t,r){null==t||((t=""+pr(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+pr(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Sr(e,t,r,a){if(null==t){if(null!=a){if(null!=r)throw Error(le(92));if(Ie(a)){if(1<a.length)throw Error(le(93));a=a[0]}r=a}null==r&&(r=""),t=r}r=pr(t),e.defaultValue=r,(a=e.textContent)===r&&""!==a&&null!==a&&(e.value=a),gr(e)}function Cr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var _r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Er(e,t,r){var a=0===t.indexOf("--");null==r||"boolean"==typeof r||""===r?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,r):"number"!=typeof r||0===r||_r.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Pr(e,t,r){if(null!=t&&"object"!=typeof t)throw Error(le(62));if(e=e.style,null!=r){for(var a in r)!r.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&r[n]!==a&&Er(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&Er(e,s,t[s])}function Br(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(e){return Tr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ar(){}var Ir=null;function Lr(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zr=null,Mr=null;function Dr(e){var t=Zt(e);if(t&&(e=t.stateNode)){var r=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(kr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=a[Vt]||null;if(!n)throw Error(le(90));kr(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(a=r[t]).form===e.form&&mr(a)}break e;case"textarea":Nr(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&jr(e,!!r.multiple,t,!1)}}}var $r=!1;function Ur(e,t,r){if($r)return e(t,r);$r=!0;try{return e(t)}finally{if($r=!1,(null!==zr||null!==Mr)&&(tu(),zr&&(t=zr,e=Mr,Mr=zr=null,Dr(t),e)))for(t=0;t<e.length;t++)Dr(e[t])}}function qr(e,t){var r=e.stateNode;if(null===r)return null;var a=r[Vt]||null;if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(le(231,t,typeof r));return r}var Fr=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vr=!1;if(Fr)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch(My){Vr=!1}var Kr=null,Gr=null,Wr=null;function Qr(){if(Wr)return Wr;var e,t,r=Gr,a=r.length,n="value"in Kr?Kr.value:Kr.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var o=a-e;for(t=1;t<=o&&r[a-t]===n[s-t];t++);return Wr=n.slice(e,1<t?1-t:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xr(){return!0}function Yr(){return!1}function Zr(e){function t(t,r,a,n,s){for(var o in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Xr:Yr,this.isPropagationStopped=Yr,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),t}var ea,ta,ra,aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Zr(aa),sa=ge({},aa,{view:0,detail:0}),oa=Zr(sa),ia=ge({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&"mousemove"===e.type?(ea=e.screenX-ra.screenX,ta=e.screenY-ra.screenY):ta=ea=0,ra=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),la=Zr(ia),ca=Zr(ge({},ia,{dataTransfer:0})),da=Zr(ge({},sa,{relatedTarget:0})),ua=Zr(ge({},aa,{animationName:0,elapsedTime:0,pseudoElement:0})),ha=Zr(ge({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pa=Zr(ge({},aa,{data:0})),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ma[e])&&!!t[e]}function xa(){return ba}var ya=Zr(ge({},sa,{key:function(e){if(e.key){var t=fa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ga[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return"keypress"===e.type?Jr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ka=Zr(ge({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),va=Zr(ge({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa})),wa=Zr(ge({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0})),ja=Zr(ge({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Na=Zr(ge({},aa,{newState:0,oldState:0})),Sa=[9,13,27,32],Ca=Fr&&"CompositionEvent"in window,_a=null;Fr&&"documentMode"in document&&(_a=document.documentMode);var Ea=Fr&&"TextEvent"in window&&!_a,Pa=Fr&&(!Ca||_a&&8<_a&&11>=_a),Ba=String.fromCharCode(32),Oa=!1;function Ta(e,t){switch(e){case"keyup":return-1!==Sa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Aa=!1;var Ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ia[e.type]:"textarea"===t}function za(e,t,r,a){zr?Mr?Mr.push(a):Mr=[a]:zr=a,0<(t=sh(t,"onChange")).length&&(r=new na("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Ma=null,Da=null;function $a(e){Xu(e,0)}function Ua(e){if(mr(er(e)))return e}function qa(e,t){if("change"===e)return t}var Fa=!1;if(Fr){var Va;if(Fr){var Ha="oninput"in document;if(!Ha){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Ha="function"==typeof Ka.oninput}Va=Ha}else Va=!1;Fa=Va&&(!document.documentMode||9<document.documentMode)}function Ga(){Ma&&(Ma.detachEvent("onpropertychange",Wa),Da=Ma=null)}function Wa(e){if("value"===e.propertyName&&Ua(Da)){var t=[];za(t,Da,e,Lr(e)),Ur($a,t)}}function Qa(e,t,r){"focusin"===e?(Ga(),Da=r,(Ma=t).attachEvent("onpropertychange",Wa)):"focusout"===e&&Ga()}function Ja(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ua(Da)}function Xa(e,t){if("click"===e)return Ua(t)}function Ya(e,t){if("input"===e||"change"===e)return Ua(t)}var Za="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function en(e,t){if(Za(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!st.call(t,n)||!Za(e[n],t[n]))return!1}return!0}function tn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rn(e,t){var r,a=tn(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tn(a)}}function an(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?an(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nn(e){for(var t=br((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=br((e=t.contentWindow).document)}return t}function sn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var on=Fr&&"documentMode"in document&&11>=document.documentMode,ln=null,cn=null,dn=null,un=!1;function hn(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;un||null==ln||ln!==br(a)||("selectionStart"in(a=ln)&&sn(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},dn&&en(dn,a)||(dn=a,0<(a=sh(cn,"onSelect")).length&&(t=new na("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ln)))}function pn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fn={animationend:pn("Animation","AnimationEnd"),animationiteration:pn("Animation","AnimationIteration"),animationstart:pn("Animation","AnimationStart"),transitionrun:pn("Transition","TransitionRun"),transitionstart:pn("Transition","TransitionStart"),transitioncancel:pn("Transition","TransitionCancel"),transitionend:pn("Transition","TransitionEnd")},gn={},mn={};function bn(e){if(gn[e])return gn[e];if(!fn[e])return e;var t,r=fn[e];for(t in r)if(r.hasOwnProperty(t)&&t in mn)return gn[e]=r[t];return e}Fr&&(mn=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);var xn=bn("animationend"),yn=bn("animationiteration"),kn=bn("animationstart"),vn=bn("transitionrun"),wn=bn("transitionstart"),jn=bn("transitioncancel"),Nn=bn("transitionend"),Sn=new Map,Cn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Sn.set(e,t),sr(t,[e])}Cn.push("scrollEnd");var En="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Pn=[],Bn=0,On=0;function Tn(){for(var e=Bn,t=On=Bn=0;t<e;){var r=Pn[t];Pn[t++]=null;var a=Pn[t];Pn[t++]=null;var n=Pn[t];Pn[t++]=null;var s=Pn[t];if(Pn[t++]=null,null!==a&&null!==n){var o=a.pending;null===o?n.next=n:(n.next=o.next,o.next=n),a.pending=n}0!==s&&Ln(r,n,s)}}function Rn(e,t,r,a){Pn[Bn++]=e,Pn[Bn++]=t,Pn[Bn++]=r,Pn[Bn++]=a,On|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function An(e,t,r,a){return Rn(e,t,r,a),zn(e)}function In(e,t){return Rn(e,null,null,t),zn(e)}function Ln(e,t,r){e.lanes|=r;var a=e.alternate;null!==a&&(a.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(a=s.alternate)&&(a.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-wt(r),null===(a=(e=s.hiddenUpdates)[n])?e[n]=[t]:a.push(t),t.lane=536870912|r),s):null}function zn(e){if(50<Kd)throw Kd=0,Gd=null,Error(le(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Dn(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,r,a){return new Dn(e,t,r,a)}function Un(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qn(e,t){var r=e.alternate;return null===r?((r=$n(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Fn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vn(e,t,r,a,n,s){var o=0;if(a=e,"function"==typeof e)Un(e)&&(o=1);else if("string"==typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,r,Ke.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case Pe:return(e=$n(31,r,t,n)).elementType=Pe,e.lanes=s,e;case ye:return Hn(r.children,n,s,t);case ke:o=8,n|=24;break;case ve:return(e=$n(12,r,t,2|n)).elementType=ve,e.lanes=s,e;case Se:return(e=$n(13,r,t,n)).elementType=Se,e.lanes=s,e;case Ce:return(e=$n(19,r,t,n)).elementType=Ce,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case je:o=10;break e;case we:o=9;break e;case Ne:o=11;break e;case _e:o=14;break e;case Ee:o=16,a=null;break e}o=29,r=Error(le(130,null===e?"null":typeof e,"")),a=null}return(t=$n(o,r,t,n)).elementType=e,t.type=a,t.lanes=s,t}function Hn(e,t,r,a){return(e=$n(7,e,a,t)).lanes=r,e}function Kn(e,t,r){return(e=$n(6,e,null,t)).lanes=r,e}function Gn(e){var t=$n(18,null,null,0);return t.stateNode=e,t}function Wn(e,t,r){return(t=$n(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qn=new WeakMap;function Jn(e,t){if("object"==typeof e&&null!==e){var r=Qn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:nt(t)},Qn.set(e,t),t)}return{value:e,source:t,stack:nt(t)}}var Xn=[],Yn=0,Zn=null,es=0,ts=[],rs=0,as=null,ns=1,ss="";function os(e,t){Xn[Yn++]=es,Xn[Yn++]=Zn,Zn=e,es=t}function is(e,t,r){ts[rs++]=ns,ts[rs++]=ss,ts[rs++]=as,as=e;var a=ns;e=ss;var n=32-wt(a)-1;a&=~(1<<n),r+=1;var s=32-wt(t)+n;if(30<s){var o=n-n%5;s=(a&(1<<o)-1).toString(32),a>>=o,n-=o,ns=1<<32-wt(t)+n|r<<n|a,ss=s+e}else ns=1<<s|r<<n|a,ss=e}function ls(e){null!==e.return&&(os(e,1),is(e,1,0))}function cs(e){for(;e===Zn;)Zn=Xn[--Yn],Xn[Yn]=null,es=Xn[--Yn],Xn[Yn]=null;for(;e===as;)as=ts[--rs],ts[rs]=null,ss=ts[--rs],ts[rs]=null,ns=ts[--rs],ts[rs]=null}function ds(e,t){ts[rs++]=ns,ts[rs++]=ss,ts[rs++]=as,ns=t.id,ss=t.overflow,as=e}var us=null,hs=null,ps=!1,fs=null,gs=!1,ms=Error(le(519));function bs(e){throw js(Jn(Error(le(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ms}function xs(e){var t=e.stateNode,r=e.type,a=e.memoizedProps;switch(t[Ft]=e,t[Vt]=a,r){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(r=0;r<Qu.length;r++)Yu(Qu[r],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),vr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),Sr(t,a.value,a.defaultValue,a.children)}"string"!=typeof(r=a.children)&&"number"!=typeof r&&"bigint"!=typeof r||t.textContent===""+r||!0===a.suppressHydrationWarning||uh(t.textContent,r)?(null!=a.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=a.onScroll&&Yu("scroll",t),null!=a.onScrollEnd&&Yu("scrollend",t),null!=a.onClick&&(t.onclick=Ar),t=!0):t=!1,t||bs(e,!0)}function ys(e){for(us=e.return;us;)switch(us.tag){case 5:case 31:case 13:return void(gs=!1);case 27:case 3:return void(gs=!0);default:us=us.return}}function ks(e){if(e!==us)return!1;if(!ps)return ys(e),ps=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vh(e.type,e.memoizedProps)),t=!t),t&&hs&&bs(e),ys(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(le(317));hs=zh(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(le(317));hs=zh(e)}else 27===r?(r=hs,Eh(e.type)?(e=Lh,Lh=null,hs=e):hs=r):hs=us?Ih(e.stateNode.nextSibling):null;return!0}function vs(){hs=us=null,ps=!1}function ws(){var e=fs;return null!==e&&(null===Td?Td=e:Td.push.apply(Td,e),fs=null),e}function js(e){null===fs?fs=[e]:fs.push(e)}var Ns=Ue(null),Ss=null,Cs=null;function _s(e,t,r){Fe(Ns,t._currentValue),t._currentValue=r}function Es(e){e._currentValue=Ns.current,qe(Ns)}function Ps(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Bs(e,t,r,a){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var o=n.child;s=s.firstContext;e:for(;null!==s;){var i=s;s=n;for(var l=0;l<t.length;l++)if(i.context===t[l]){s.lanes|=r,null!==(i=s.alternate)&&(i.lanes|=r),Ps(s.return,r,e),a||(o=null);break e}s=i.next}}else if(18===n.tag){if(null===(o=n.return))throw Error(le(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),Ps(o,r,e),o=null}else o=n.child;if(null!==o)o.return=n;else for(o=n;null!==o;){if(o===e){o=null;break}if(null!==(n=o.sibling)){n.return=o.return,o=n;break}o=o.return}n=o}}function Os(e,t,r,a){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(524288&n.flags)s=!0;else if(262144&n.flags)break;if(10===n.tag){var o=n.alternate;if(null===o)throw Error(le(387));if(null!==(o=o.memoizedProps)){var i=n.type;Za(n.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(n===Qe.current){if(null===(o=n.alternate))throw Error(le(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(hp):e=[hp])}n=n.return}null!==e&&Bs(t,e,r,a),t.flags|=262144}function Ts(e){for(e=e.firstContext;null!==e;){if(!Za(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){Ss=e,Cs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function As(e){return Ls(Ss,e)}function Is(e,t){return null===Ss&&Rs(e),Ls(e,t)}function Ls(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===Cs){if(null===e)throw Error(le(308));Cs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cs=Cs.next=t;return r}var zs="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ms=se.unstable_scheduleCallback,Ds=se.unstable_NormalPriority,$s={$$typeof:je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new zs,data:new Map,refCount:0}}function qs(e){e.refCount--,0===e.refCount&&Ms(Ds,function(){e.controller.abort()})}var Fs=null,Vs=0,Hs=0,Ks=null;function Gs(){if(0===--Vs&&null!==Fs){null!==Ks&&(Ks.status="fulfilled");var e=Fs;Fs=null,Hs=0,Ks=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ws=Le.S;Le.S=function(e,t){Id=dt(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fs){var r=Fs=[];Vs=0,Hs=Vu(),Ks={status:"pending",value:void 0,then:function(e){r.push(e)}}}Vs++,t.then(Gs,Gs)}(0,t),null!==Ws&&Ws(e,t)};var Qs=Ue(null);function Js(){var e=Qs.current;return null!==e?e:md.pooledCache}function Xs(e,t){Fe(Qs,null===t?Qs.current:t.pool)}function Ys(){var e=Js();return null===e?null:{parent:$s._currentValue,pool:e}}var Zs=Error(le(460)),eo=Error(le(474)),to=Error(le(542)),ro={then:function(){}};function ao(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Ar,Ar),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw lo(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ar,Ar);else{if(null!==(e=md)&&100<e.shellSuspendCounter)throw Error(le(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw lo(e=t.reason),e}throw oo=t,Zs}}function so(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw oo=t,Zs;throw t}}var oo=null;function io(){if(null===oo)throw Error(le(459));var e=oo;return oo=null,e}function lo(e){if(e===Zs||e===to)throw Error(le(483))}var co=null,uo=0;function ho(e){var t=uo;return uo+=1,null===co&&(co=[]),no(co,e,t)}function po(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fo(e,t){if(t.$$typeof===me)throw Error(le(525));throw e=Object.prototype.toString.call(t),Error(le(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function go(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=qn(e,t)).index=0,e.sibling=null,e}function s(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=67108866,r):a:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,r,a){return null===t||6!==t.tag?((t=Kn(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function l(e,t,r,a){var s=r.type;return s===ye?d(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Ee&&so(s)===t.type)?(po(t=n(t,r.props),r),t.return=e,t):(po(t=Vn(r.type,r.key,r.props,null,e.mode,a),r),t.return=e,t)}function c(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Wn(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function d(e,t,r,a,s){return null===t||7!==t.tag?((t=Hn(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function u(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Kn(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case be:return po(r=Vn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case xe:return(t=Wn(t,e.mode,r)).return=e,t;case Ee:return u(e,t=so(t),r)}if(Ie(t)||Te(t))return(t=Hn(t,e.mode,r,null)).return=e,t;if("function"==typeof t.then)return u(e,ho(t),r);if(t.$$typeof===je)return u(e,Is(e,t),r);fo(e,t)}return null}function h(e,t,r,a){var n=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return null!==n?null:i(e,t,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case be:return r.key===n?l(e,t,r,a):null;case xe:return r.key===n?c(e,t,r,a):null;case Ee:return h(e,t,r=so(r),a)}if(Ie(r)||Te(r))return null!==n?null:d(e,t,r,a,null);if("function"==typeof r.then)return h(e,t,ho(r),a);if(r.$$typeof===je)return h(e,t,Is(e,r),a);fo(e,r)}return null}function p(e,t,r,a,n){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return i(t,e=e.get(r)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case be:return l(t,e=e.get(null===a.key?r:a.key)||null,a,n);case xe:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case Ee:return p(e,t,r,a=so(a),n)}if(Ie(a)||Te(a))return d(t,e=e.get(r)||null,a,n,null);if("function"==typeof a.then)return p(e,t,r,ho(a),n);if(a.$$typeof===je)return p(e,t,r,Is(t,a),n);fo(t,a)}return null}function f(i,l,c,d){if("object"==typeof c&&null!==c&&c.type===ye&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case be:e:{for(var g=c.key;null!==l;){if(l.key===g){if((g=c.type)===ye){if(7===l.tag){r(i,l.sibling),(d=n(l,c.props.children)).return=i,i=d;break e}}else if(l.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===Ee&&so(g)===l.type){r(i,l.sibling),po(d=n(l,c.props),c),d.return=i,i=d;break e}r(i,l);break}t(i,l),l=l.sibling}c.type===ye?((d=Hn(c.props.children,i.mode,d,c.key)).return=i,i=d):(po(d=Vn(c.type,c.key,c.props,null,i.mode,d),c),d.return=i,i=d)}return o(i);case xe:e:{for(g=c.key;null!==l;){if(l.key===g){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){r(i,l.sibling),(d=n(l,c.children||[])).return=i,i=d;break e}r(i,l);break}t(i,l),l=l.sibling}(d=Wn(c,i.mode,d)).return=i,i=d}return o(i);case Ee:return f(i,l,c=so(c),d)}if(Ie(c))return function(n,o,i,l){for(var c=null,d=null,f=o,g=o=0,m=null;null!==f&&g<i.length;g++){f.index>g?(m=f,f=null):m=f.sibling;var b=h(n,f,i[g],l);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(n,f),o=s(b,o,g),null===d?c=b:d.sibling=b,d=b,f=m}if(g===i.length)return r(n,f),ps&&os(n,g),c;if(null===f){for(;g<i.length;g++)null!==(f=u(n,i[g],l))&&(o=s(f,o,g),null===d?c=f:d.sibling=f,d=f);return ps&&os(n,g),c}for(f=a(f);g<i.length;g++)null!==(m=p(f,n,g,i[g],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?g:m.key),o=s(m,o,g),null===d?c=m:d.sibling=m,d=m);return e&&f.forEach(function(e){return t(n,e)}),ps&&os(n,g),c}(i,l,c,d);if(Te(c)){if("function"!=typeof(g=Te(c)))throw Error(le(150));return function(n,o,i,l){if(null==i)throw Error(le(151));for(var c=null,d=null,f=o,g=o=0,m=null,b=i.next();null!==f&&!b.done;g++,b=i.next()){f.index>g?(m=f,f=null):m=f.sibling;var x=h(n,f,b.value,l);if(null===x){null===f&&(f=m);break}e&&f&&null===x.alternate&&t(n,f),o=s(x,o,g),null===d?c=x:d.sibling=x,d=x,f=m}if(b.done)return r(n,f),ps&&os(n,g),c;if(null===f){for(;!b.done;g++,b=i.next())null!==(b=u(n,b.value,l))&&(o=s(b,o,g),null===d?c=b:d.sibling=b,d=b);return ps&&os(n,g),c}for(f=a(f);!b.done;g++,b=i.next())null!==(b=p(f,n,g,b.value,l))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=s(b,o,g),null===d?c=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(n,e)}),ps&&os(n,g),c}(i,l,c=g.call(c),d)}if("function"==typeof c.then)return f(i,l,ho(c),d);if(c.$$typeof===je)return f(i,l,Is(i,c),d);fo(i,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==l&&6===l.tag?(r(i,l.sibling),(d=n(l,c)).return=i,i=d):(r(i,l),(d=Kn(c,i.mode,d)).return=i,i=d),o(i)):r(i,l)}return function(e,t,r,a){try{uo=0;var n=f(e,t,r,a);return co=null,n}catch(o){if(o===Zs||o===to)throw o;var s=$n(29,o,null,e.mode);return s.lanes=a,s.return=e,s}}}var mo=go(!0),bo=go(!1),xo=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wo(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&gd){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=zn(e),Ln(e,null,r),t}return Rn(e,a,t,r),zn(e)}function jo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,Lt(e,r)}}function No(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var So=!1;function Co(){if(So){if(null!==Ks)throw Ks}}function _o(e,t,r,a){So=!1;var n=e.updateQueue;xo=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(o=0,d=c=l=null,i=s;;){var h=-536870913&i.lane,p=h!==i.lane;if(p?(xd&h)===h:(a&h)===h){0!==h&&h===Hs&&(So=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,g=i;h=t;var m=r;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){u=f.call(m,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=g.payload)?f.call(m,u,h):f))break e;u=ge({},u,h);break e;case 2:xo=!0}}null!==(h=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=n.callbacks)?n.callbacks=[h]:p.push(h))}else p={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,o|=h;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(p=i).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===s&&(n.shared.lanes=0),Cd|=o,e.lanes=o,e.memoizedState=u}}function Eo(e,t){if("function"!=typeof e)throw Error(le(191,e));e.call(t)}function Po(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Eo(r[e],t)}var Bo=Ue(null),Oo=Ue(0);function To(e,t){Fe(Oo,e=Nd),Fe(Bo,t),Nd=e|t.baseLanes}function Ro(){Fe(Oo,Nd),Fe(Bo,Bo.current)}function Ao(){Nd=Oo.current,qe(Bo),qe(Oo)}var Io=Ue(null),Lo=null;function zo(e){var t=e.alternate;Fe(qo,1&qo.current),Fe(Io,e),null===Lo&&(null===t||null!==Bo.current||null!==t.memoizedState)&&(Lo=e)}function Mo(e){Fe(qo,qo.current),Fe(Io,e),null===Lo&&(Lo=e)}function Do(e){22===e.tag?(Fe(qo,qo.current),Fe(Io,e),null===Lo&&(Lo=e)):$o()}function $o(){Fe(qo,qo.current),Fe(Io,Io.current)}function Uo(e){qe(Io),Lo===e&&(Lo=null),qe(qo)}var qo=Ue(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Rh(r)||Ah(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=0,Ho=null,Ko=null,Go=null,Wo=!1,Qo=!1,Jo=!1,Xo=0,Yo=0,Zo=null,ei=0;function ti(){throw Error(le(321))}function ri(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Za(e[r],t[r]))return!1;return!0}function ai(e,t,r,a,n,s){return Vo=s,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Le.H=null===e||null===e.memoizedState?xl:yl,Jo=!1,s=r(a,n),Jo=!1,Qo&&(s=si(t,r,a,n)),ni(e),s}function ni(e){Le.H=bl;var t=null!==Ko&&null!==Ko.next;if(Vo=0,Go=Ko=Ho=null,Wo=!1,Yo=0,Zo=null,t)throw Error(le(300));null===e||Il||null!==(e=e.dependencies)&&Ts(e)&&(Il=!0)}function si(e,t,r,a){Ho=e;var n=0;do{if(Qo&&(Zo=null),Yo=0,Qo=!1,25<=n)throw Error(le(301));if(n+=1,Go=Ko=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}Le.H=kl,s=t(r,a)}while(Qo);return s}function oi(){var e=Le.H,t=e.useState()[0];return t="function"==typeof t.then?hi(t):t,e=e.useState()[0],(null!==Ko?Ko.memoizedState:null)!==e&&(Ho.flags|=1024),t}function ii(){var e=0!==Xo;return Xo=0,e}function li(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ci(e){if(Wo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wo=!1}Vo=0,Go=Ko=Ho=null,Qo=!1,Yo=Xo=0,Zo=null}function di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Ho.memoizedState=Go=e:Go=Go.next=e,Go}function ui(){if(null===Ko){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Ko.next;var t=null===Go?Ho.memoizedState:Go.next;if(null!==t)Go=t,Ko=e;else{if(null===e){if(null===Ho.alternate)throw Error(le(467));throw Error(le(310))}e={memoizedState:(Ko=e).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Go?Ho.memoizedState=Go=e:Go=Go.next=e}return Go}function hi(e){var t=Yo;return Yo+=1,null===Zo&&(Zo=[]),e=no(Zo,e,t),t=Ho,null===(null===Go?t.memoizedState:Go.next)&&(t=t.alternate,Le.H=null===t||null===t.memoizedState?xl:yl),e}function pi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return hi(e);if(e.$$typeof===je)return As(e)}throw Error(le(438,String(e)))}function fi(e){var t=null,r=Ho.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var a=Ho.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),a=0;a<e;a++)r[a]=Be;return t.index++,r}function gi(e,t){return"function"==typeof t?t(e):t}function mi(e){return bi(ui(),Ko,e)}function bi(e,t,r){var a=e.queue;if(null===a)throw Error(le(311));a.lastRenderedReducer=r;var n=e.baseQueue,s=a.pending;if(null!==s){if(null!==n){var o=n.next;n.next=s.next,s.next=o}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var i=o=null,l=null,c=t=n.next,d=!1;do{var u=-536870913&c.lane;if(u!==c.lane?(xd&u)===u:(Vo&u)===u){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),u===Hs&&(d=!0);else{if((Vo&h)===h){c=c.next,h===Hs&&(d=!0);continue}u={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(i=l=u,o=s):l=l.next=u,Ho.lanes|=h,Cd|=h}u=c.action,Jo&&r(s,u),s=c.hasEagerState?c.eagerState:r(s,u)}else h={lane:u,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(i=l=h,o=s):l=l.next=h,Ho.lanes|=u,Cd|=u;c=c.next}while(null!==c&&c!==t);if(null===l?o=s:l.next=i,!Za(s,e.memoizedState)&&(Il=!0,d&&null!==(r=Ks)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=l,a.lastRenderedState=s}return null===n&&(a.lanes=0),[e.memoizedState,a.dispatch]}function xi(e){var t=ui(),r=t.queue;if(null===r)throw Error(le(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{s=e(s,o.action),o=o.next}while(o!==n);Za(s,t.memoizedState)||(Il=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,a]}function yi(e,t,r){var a=Ho,n=ui(),s=ps;if(s){if(void 0===r)throw Error(le(407));r=r()}else r=t();var o=!Za((Ko||n).memoizedState,r);if(o&&(n.memoizedState=r,Il=!0),n=n.queue,Vi(wi.bind(null,a,n,e),[e]),n.getSnapshot!==t||o||null!==Go&&1&Go.memoizedState.tag){if(a.flags|=2048,Di(9,{destroy:void 0},vi.bind(null,a,n,r,t),null),null===md)throw Error(le(349));s||127&Vo||ki(a,t,r)}return r}function ki(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Ho.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function vi(e,t,r,a){t.value=r,t.getSnapshot=a,ji(t)&&Ni(e)}function wi(e,t,r){return r(function(){ji(t)&&Ni(e)})}function ji(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Za(e,r)}catch(a){return!0}}function Ni(e){var t=In(e,2);null!==t&&Jd(t,e,2)}function Si(e){var t=di();if("function"==typeof e){var r=e;if(e=r(),Jo){vt(!0);try{r()}finally{vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t}function Ci(e,t,r,a){return e.baseState=r,bi(e,Ko,"function"==typeof a?a:gi)}function _i(e,t,r,a,n){if(fl(e))throw Error(le(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==Le.T?r(!0):s.isTransition=!1,a(s),null===(r=t.pending)?(s.next=t.pending=s,Ei(t,s)):(s.next=r.next,t.pending=r.next=s)}}function Ei(e,t){var r=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=Le.T,o={};Le.T=o;try{var i=r(n,a),l=Le.S;null!==l&&l(o,i),Pi(e,t,i)}catch(c){Oi(e,t,c)}finally{null!==s&&null!==o.types&&(s.types=o.types),Le.T=s}}else try{Pi(e,t,s=r(n,a))}catch(d){Oi(e,t,d)}}function Pi(e,t,r){null!==r&&"object"==typeof r&&"function"==typeof r.then?r.then(function(r){Bi(e,t,r)},function(r){return Oi(e,t,r)}):Bi(e,t,r)}function Bi(e,t,r){t.status="fulfilled",t.value=r,Ti(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Ei(e,r)))}function Oi(e,t,r){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=r,Ti(t),t=t.next}while(t!==a)}e.action=null}function Ti(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ri(e,t){return t}function Ai(e,t){if(ps){var r=md.formState;if(null!==r){e:{var a=Ho;if(ps){if(hs){t:{for(var n=hs,s=gs;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=Ih(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){hs=Ih(n.nextSibling),a="F!"===n.data;break e}}bs(a)}a=!1}a&&(t=r[0])}}return(r=di()).memoizedState=r.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},r.queue=a,r=ul.bind(null,Ho,a),a.dispatch=r,a=Si(!1),s=pl.bind(null,Ho,!1,a.queue),n={state:t,dispatch:null,action:e,pending:null},(a=di()).queue=n,r=_i.bind(null,Ho,n,s,r),n.dispatch=r,a.memoizedState=e,[t,r,!1]}function Ii(e){return Li(ui(),Ko,e)}function Li(e,t,r){if(t=bi(e,t,Ri)[0],e=mi(gi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=hi(t)}catch(o){if(o===Zs)throw to;throw o}else a=t;var n=(t=ui()).queue,s=n.dispatch;return r!==t.memoizedState&&(Ho.flags|=2048,Di(9,{destroy:void 0},zi.bind(null,n,r),null)),[a,s,e]}function zi(e,t){e.action=t}function Mi(e){var t=ui(),r=Ko;if(null!==r)return Li(t,r,e);ui(),t=t.memoizedState;var a=(r=ui()).queue.dispatch;return r.memoizedState=e,[t,a,!1]}function Di(e,t,r,a){return e={tag:e,create:r,deps:a,inst:t,next:null},null===(t=Ho.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function $i(){return ui().memoizedState}function Ui(e,t,r,a){var n=di();Ho.flags|=e,n.memoizedState=Di(1|t,{destroy:void 0},r,void 0===a?null:a)}function qi(e,t,r,a){var n=ui();a=void 0===a?null:a;var s=n.memoizedState.inst;null!==Ko&&null!==a&&ri(a,Ko.memoizedState.deps)?n.memoizedState=Di(t,s,r,a):(Ho.flags|=e,n.memoizedState=Di(1|t,s,r,a))}function Fi(e,t){Ui(8390656,8,e,t)}function Vi(e,t){qi(2048,8,e,t)}function Hi(e){var t=ui().memoizedState;return function(e){Ho.flags|=4;var t=Ho.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(2&gd)throw Error(le(440));return t.impl.apply(void 0,arguments)}}function Ki(e,t){return qi(4,2,e,t)}function Gi(e,t){return qi(4,4,e,t)}function Wi(e,t){if("function"==typeof t){e=e();var r=t(e);return function(){"function"==typeof r?r():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Qi(e,t,r){r=null!=r?r.concat([e]):null,qi(4,4,Wi.bind(null,t,e),r)}function Ji(){}function Xi(e,t){var r=ui();t=void 0===t?null:t;var a=r.memoizedState;return null!==t&&ri(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Yi(e,t){var r=ui();t=void 0===t?null:t;var a=r.memoizedState;if(null!==t&&ri(t,a[1]))return a[0];if(a=e(),Jo){vt(!0);try{e()}finally{vt(!1)}}return r.memoizedState=[a,t],a}function Zi(e,t,r){return void 0===r||1073741824&Vo&&!(261930&xd)?e.memoizedState=t:(e.memoizedState=r,e=Qd(),Ho.lanes|=e,Cd|=e,r)}function el(e,t,r,a){return Za(r,t)?r:null!==Bo.current?(e=Zi(e,r,a),Za(e,t)||(Il=!0),e):42&Vo&&(!(1073741824&Vo)||261930&xd)?(e=Qd(),Ho.lanes|=e,Cd|=e,t):(Il=!0,e.memoizedState=r)}function tl(e,t,r,a,n){var s=ze.p;ze.p=0!==s&&8>s?s:8;var o,i,l,c=Le.T,d={};Le.T=d,pl(e,!1,t,r);try{var u=n(),h=Le.S;if(null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)hl(e,t,(o=a,i=[],l={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},u.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<i.length;e++)(0,i[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),l),Wd());else hl(e,t,a,Wd())}catch(p){hl(e,t,{then:function(){},status:"rejected",reason:p},Wd())}finally{ze.p=s,null!==c&&null!==d.types&&(c.types=d.types),Le.T=c}}function rl(){}function al(e,t,r,a){if(5!==e.tag)throw Error(le(476));var n=nl(e).queue;tl(e,n,t,Me,null===r?rl:function(){return sl(e),r(a)})}function nl(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Me},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sl(e){var t=nl(e);null===t.next&&(t=e.alternate.memoizedState),hl(e,t.next.queue,{},Wd())}function ol(){return As(hp)}function il(){return ui().memoizedState}function ll(){return ui().memoizedState}function cl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Wd(),a=wo(t,e=vo(r),r);return null!==a&&(Jd(a,t,r),jo(a,t,r)),t={cache:Us()},void(e.payload=t)}t=t.return}}function dl(e,t,r){var a=Wd();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fl(e)?gl(t,r):null!==(r=An(e,t,r,a))&&(Jd(r,e,a),ml(r,t,a))}function ul(e,t,r){hl(e,t,r,Wd())}function hl(e,t,r,a){var n={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fl(e))gl(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(n.hasEagerState=!0,n.eagerState=i,Za(i,o))return Rn(e,t,n,0),null===md&&Tn(),!1}catch(l){}if(null!==(r=An(e,t,n,a)))return Jd(r,e,a),ml(r,t,a),!0}return!1}function pl(e,t,r,a){if(a={lane:2,revertLane:Vu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fl(e)){if(t)throw Error(le(479))}else null!==(t=An(e,r,a,2))&&Jd(t,e,2)}function fl(e){var t=e.alternate;return e===Ho||null!==t&&t===Ho}function gl(e,t){Qo=Wo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ml(e,t,r){if(4194048&r){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,Lt(e,r)}}var bl={readContext:As,use:pi,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};bl.useEffectEvent=ti;var xl={readContext:As,use:pi,useCallback:function(e,t){return di().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Fi,useImperativeHandle:function(e,t,r){r=null!=r?r.concat([e]):null,Ui(4194308,4,Wi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){Ui(4,2,e,t)},useMemo:function(e,t){var r=di();t=void 0===t?null:t;var a=e();if(Jo){vt(!0);try{e()}finally{vt(!1)}}return r.memoizedState=[a,t],a},useReducer:function(e,t,r){var a=di();if(void 0!==r){var n=r(t);if(Jo){vt(!0);try{r(t)}finally{vt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=dl.bind(null,Ho,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},di().memoizedState=e},useState:function(e){var t=(e=Si(e)).queue,r=ul.bind(null,Ho,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ji,useDeferredValue:function(e,t){return Zi(di(),e,t)},useTransition:function(){var e=Si(!1);return e=tl.bind(null,Ho,e.queue,!0,!1),di().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var a=Ho,n=di();if(ps){if(void 0===r)throw Error(le(407));r=r()}else{if(r=t(),null===md)throw Error(le(349));127&xd||ki(a,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,Fi(wi.bind(null,a,s,e),[e]),a.flags|=2048,Di(9,{destroy:void 0},vi.bind(null,a,s,r,t),null),r},useId:function(){var e=di(),t=md.identifierPrefix;if(ps){var r=ss;t="_"+t+"R_"+(r=(ns&~(1<<32-wt(ns)-1)).toString(32)+r),0<(r=Xo++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=ei++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ol,useFormState:Ai,useActionState:Ai,useOptimistic:function(e){var t=di();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=pl.bind(null,Ho,!0,r),r.dispatch=t,[e,t]},useMemoCache:fi,useCacheRefresh:function(){return di().memoizedState=cl.bind(null,Ho)},useEffectEvent:function(e){var t=di(),r={impl:e};return t.memoizedState=r,function(){if(2&gd)throw Error(le(440));return r.impl.apply(void 0,arguments)}}},yl={readContext:As,use:pi,useCallback:Xi,useContext:As,useEffect:Vi,useImperativeHandle:Qi,useInsertionEffect:Ki,useLayoutEffect:Gi,useMemo:Yi,useReducer:mi,useRef:$i,useState:function(){return mi(gi)},useDebugValue:Ji,useDeferredValue:function(e,t){return el(ui(),Ko.memoizedState,e,t)},useTransition:function(){var e=mi(gi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:hi(e),t]},useSyncExternalStore:yi,useId:il,useHostTransitionStatus:ol,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){return Ci(ui(),0,e,t)},useMemoCache:fi,useCacheRefresh:ll};yl.useEffectEvent=Hi;var kl={readContext:As,use:pi,useCallback:Xi,useContext:As,useEffect:Vi,useImperativeHandle:Qi,useInsertionEffect:Ki,useLayoutEffect:Gi,useMemo:Yi,useReducer:xi,useRef:$i,useState:function(){return xi(gi)},useDebugValue:Ji,useDeferredValue:function(e,t){var r=ui();return null===Ko?Zi(r,e,t):el(r,Ko.memoizedState,e,t)},useTransition:function(){var e=xi(gi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:hi(e),t]},useSyncExternalStore:yi,useId:il,useHostTransitionStatus:ol,useFormState:Mi,useActionState:Mi,useOptimistic:function(e,t){var r=ui();return null!==Ko?Ci(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:fi,useCacheRefresh:ll};function vl(e,t,r,a){r=null==(r=r(a,t=e.memoizedState))?t:ge({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}kl.useEffectEvent=Hi;var wl={enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Wd(),n=vo(a);n.payload=t,null!=r&&(n.callback=r),null!==(t=wo(e,n,a))&&(Jd(t,e,a),jo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Wd(),n=vo(a);n.tag=1,n.payload=t,null!=r&&(n.callback=r),null!==(t=wo(e,n,a))&&(Jd(t,e,a),jo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wd(),a=vo(r);a.tag=2,null!=t&&(a.callback=t),null!==(t=wo(e,a,r))&&(Jd(t,e,r),jo(t,e,r))}};function jl(e,t,r,a,n,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(r,a)||!en(n,s))}function Nl(e,t,r,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function Sl(e,t){var r=t;if("ref"in t)for(var a in r={},t)"ref"!==a&&(r[a]=t[a]);if(e=e.defaultProps)for(var n in r===t&&(r=ge({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}function Cl(e){En(e)}function _l(e){}function El(e){En(e)}function Pl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Bl(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ol(e,t,r){return(r=vo(r)).tag=3,r.payload={element:null},r.callback=function(){Pl(e,t)},r}function Tl(e){return(e=vo(e)).tag=3,e}function Rl(e,t,r,a){var n=r.type.getDerivedStateFromError;if("function"==typeof n){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){Bl(t,r,a)}}var o=r.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Bl(t,r,a),"function"!=typeof n&&(null===Md?Md=new Set([this]):Md.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Al=Error(le(461)),Il=!1;function Ll(e,t,r,a){t.child=null===e?bo(t,null,r,a):mo(t,e.child,r,a)}function zl(e,t,r,a,n){r=r.render;var s=t.ref;if("ref"in a){var o={};for(var i in a)"ref"!==i&&(o[i]=a[i])}else o=a;return Rs(t),a=ai(e,t,r,o,s,n),i=ii(),null===e||Il?(ps&&i&&ls(t),t.flags|=1,Ll(e,t,a,n),t.child):(li(e,t,n),oc(e,t,n))}function Ml(e,t,r,a,n){if(null===e){var s=r.type;return"function"!=typeof s||Un(s)||void 0!==s.defaultProps||null!==r.compare?((e=Vn(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Dl(e,t,s,a,n))}if(s=e.child,!ic(e,n)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:en)(o,a)&&e.ref===t.ref)return oc(e,t,n)}return t.flags|=1,(e=qn(s,a)).ref=t.ref,e.return=t,t.child=e}function Dl(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(en(s,a)&&e.ref===t.ref){if(Il=!1,t.pendingProps=a=s,!ic(e,n))return t.lanes=e.lanes,oc(e,t,n);131072&e.flags&&(Il=!0)}}return Kl(e,t,r,a,n)}function $l(e,t,r,a){var n=a.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|r:r,null!==e){for(a=t.child=e.child,n=0;null!==a;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~s}else a=0,t.child=null;return ql(e,t,s,r,a)}if(!(536870912&r))return a=t.lanes=536870912,ql(e,t,null!==s?s.baseLanes|r:r,r,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xs(0,null!==s?s.cachePool:null),null!==s?To(t,s):Ro(),Do(t)}else null!==s?(Xs(0,s.cachePool),To(t,s),$o(),t.memoizedState=null):(null!==e&&Xs(0,null),Ro(),$o());return Ll(e,t,n,r),t.child}function Ul(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ql(e,t,r,a,n){var s=Js();return s=null===s?null:{parent:$s._currentValue,pool:s},t.memoizedState={baseLanes:r,cachePool:s},null!==e&&Xs(0,null),Ro(),Do(t),null!==e&&Os(e,t,a,!0),t.childLanes=n,null}function Fl(e,t){return(t=tc({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vl(e,t,r){return mo(t,e.child,null,r),(e=Fl(t,t.pendingProps)).flags|=2,Uo(t),t.memoizedState=null,e}function Hl(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof r&&"object"!=typeof r)throw Error(le(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Kl(e,t,r,a,n){return Rs(t),r=ai(e,t,r,a,void 0,n),a=ii(),null===e||Il?(ps&&a&&ls(t),t.flags|=1,Ll(e,t,r,n),t.child):(li(e,t,n),oc(e,t,n))}function Gl(e,t,r,a,n,s){return Rs(t),t.updateQueue=null,r=si(t,a,r,n),ni(e),a=ii(),null===e||Il?(ps&&a&&ls(t),t.flags|=1,Ll(e,t,r,s),t.child):(li(e,t,s),oc(e,t,s))}function Wl(e,t,r,a,n){if(Rs(t),null===t.stateNode){var s=Mn,o=r.contextType;"object"==typeof o&&null!==o&&(s=As(o)),s=new r(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},yo(t),o=r.contextType,s.context="object"==typeof o&&null!==o?As(o):Mn,s.state=t.memoizedState,"function"==typeof(o=r.getDerivedStateFromProps)&&(vl(t,r,o,a),s.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(o=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&wl.enqueueReplaceState(s,s.state,null),_o(t,a,s,n),Co(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var i=t.memoizedProps,l=Sl(r,i);s.props=l;var c=s.context,d=r.contextType;o=Mn,"object"==typeof d&&null!==d&&(o=As(d));var u=r.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i||c!==o)&&Nl(t,s,a,o),xo=!1;var h=t.memoizedState;s.state=h,_o(t,a,s,n),Co(),c=t.memoizedState,i||h!==c||xo?("function"==typeof u&&(vl(t,r,u,a),c=t.memoizedState),(l=xo||jl(t,r,l,a,h,c,o))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=o,a=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ko(e,t),d=Sl(r,o=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=r.contextType,l=Mn,"object"==typeof c&&null!==c&&(l=As(c)),(c="function"==typeof(i=r.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||h!==l)&&Nl(t,s,a,l),xo=!1,h=t.memoizedState,s.state=h,_o(t,a,s,n),Co();var p=t.memoizedState;o!==u||h!==p||xo||null!==e&&null!==e.dependencies&&Ts(e.dependencies)?("function"==typeof i&&(vl(t,r,i,a),p=t.memoizedState),(d=xo||jl(t,r,d,a,h,p,l)||null!==e&&null!==e.dependencies&&Ts(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=d):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Hl(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,r=a&&"function"!=typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=mo(t,e.child,null,n),t.child=mo(t,null,r,n)):Ll(e,t,r,n),t.memoizedState=s.state,e=t.child):e=oc(e,t,n),e}function Ql(e,t,r,a){return vs(),t.flags|=256,Ll(e,t,r,a),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xl(e){return{baseLanes:e,cachePool:Ys()}}function Yl(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Pd),e}function Zl(e,t,r){var a,n=t.pendingProps,s=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&qo.current)),a&&(s=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(ps){if(s?zo(t):$o(),(e=hs)?null!==(e=null!==(e=Th(e,gs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==as?{id:ns,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},(r=Gn(e)).return=t,t.child=r,us=t,hs=null):e=null,null===e)throw bs(t);return Ah(e)?t.lanes=32:t.lanes=536870912,null}var i=n.children;return n=n.fallback,s?($o(),i=tc({mode:"hidden",children:i},s=t.mode),n=Hn(n,s,r,null),i.return=t,n.return=t,i.sibling=n,t.child=i,(n=t.child).memoizedState=Xl(r),n.childLanes=Yl(e,a,r),t.memoizedState=Jl,Ul(null,n)):(zo(t),ec(t,i))}var l=e.memoizedState;if(null!==l&&null!==(i=l.dehydrated)){if(o)256&t.flags?(zo(t),t.flags&=-257,t=rc(e,t,r)):null!==t.memoizedState?($o(),t.child=e.child,t.flags|=128,t=null):($o(),i=n.fallback,s=t.mode,n=tc({mode:"visible",children:n.children},s),(i=Hn(i,s,r,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,mo(t,e.child,null,r),(n=t.child).memoizedState=Xl(r),n.childLanes=Yl(e,a,r),t.memoizedState=Jl,t=Ul(null,n));else if(zo(t),Ah(i)){if(a=i.nextSibling&&i.nextSibling.dataset)var c=a.dgst;a=c,(n=Error(le(419))).stack="",n.digest=a,js({value:n,source:null,stack:null}),t=rc(e,t,r)}else if(Il||Os(e,t,r,!1),a=0!==(r&e.childLanes),Il||a){if(null!==(a=md)&&(0!==(n=zt(a,r))&&n!==l.retryLane))throw l.retryLane=n,In(e,n),Jd(a,e,n),Al;Rh(i)||lu(),t=rc(e,t,r)}else Rh(i)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,hs=Ih(i.nextSibling),us=t,ps=!0,fs=null,gs=!1,null!==e&&ds(t,e),(t=ec(t,n.children)).flags|=4096);return t}return s?($o(),i=n.fallback,s=t.mode,c=(l=e.child).sibling,(n=qn(l,{mode:"hidden",children:n.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?i=qn(c,i):(i=Hn(i,s,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,Ul(null,n),n=t.child,null===(i=e.child.memoizedState)?i=Xl(r):(null!==(s=i.cachePool)?(l=$s._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Ys(),i={baseLanes:i.baseLanes|r,cachePool:s}),n.memoizedState=i,n.childLanes=Yl(e,a,r),t.memoizedState=Jl,Ul(e.child,n)):(zo(t),e=(r=e.child).sibling,(r=qn(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r)}function ec(e,t){return(t=tc({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tc(e,t){return(e=$n(22,e,null,t)).lanes=0,e}function rc(e,t,r){return mo(t,e.child,null,r),(e=ec(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ac(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ps(e.return,t,r)}function nc(e,t,r,a,n,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=n,o.treeForkCount=s)}function sc(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;a=a.children;var o=qo.current,i=!!(2&o);if(i?(o=1&o|2,t.flags|=128):o&=1,Fe(qo,o),Ll(e,t,a,r),a=ps?es:0,!i&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ac(e,r,t);else if(19===e.tag)ac(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===Fo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),nc(t,!1,n,r,s,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Fo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}nc(t,!0,r,null,s,a);break;case"together":nc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function oc(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Cd|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Os(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(le(153));if(null!==t.child){for(r=qn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=qn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ic(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ts(e))}function lc(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Il=!0;else{if(!(ic(e,r)||128&t.flags))return Il=!1,function(e,t,r){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),_s(0,$s,e.memoizedState.cache),vs();break;case 27:case 5:Ye(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:_s(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Mo(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(zo(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Zl(e,t,r):(zo(t),null!==(e=oc(e,t,r))?e.sibling:null);zo(t);break;case 19:var n=!!(128&e.flags);if((a=0!==(r&t.childLanes))||(Os(e,t,r,!1),a=0!==(r&t.childLanes)),n){if(a)return sc(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Fe(qo,qo.current),a)break;return null;case 22:return t.lanes=0,$l(e,t,r,t.pendingProps);case 24:_s(0,$s,e.memoizedState.cache)}return oc(e,t,r)}(e,t,r);Il=!!(131072&e.flags)}else Il=!1,ps&&1048576&t.flags&&is(t,es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=so(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var n=e.$$typeof;if(n===Ne){t.tag=11,t=zl(null,t,e,a,r);break e}if(n===_e){t.tag=14,t=Ml(null,t,e,a,r);break e}}throw t=Ae(e)||e,Error(le(306,t,""))}Un(e)?(a=Sl(e,a),t.tag=1,t=Wl(null,t,e,a,r)):(t.tag=0,t=Kl(null,t,e,a,r))}return t;case 0:return Kl(e,t,t.type,t.pendingProps,r);case 1:return Wl(e,t,a=t.type,n=Sl(a,t.pendingProps),r);case 3:e:{if(Je(t,t.stateNode.containerInfo),null===e)throw Error(le(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,ko(e,t),_o(t,a,null,r);var o=t.memoizedState;if(a=o.cache,_s(0,$s,a),a!==s.cache&&Bs(t,[$s],r,!0),Co(),a=o.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ql(e,t,a,r);break e}if(a!==n){js(n=Jn(Error(le(424)),t)),t=Ql(e,t,a,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hs=Ih(e.firstChild),us=t,ps=!0,fs=null,gs=!0,r=bo(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(vs(),a===n){t=oc(e,t,r);break e}Ll(e,t,a,r)}t=t.child}return t;case 26:return Hl(e,t),null===e?(r=Gh(t.type,null,t.pendingProps,null))?t.memoizedState=r:ps||(r=t.type,e=t.pendingProps,(a=xh(We.current).createElement(r))[Ft]=t,a[Vt]=e,fh(a,r,e),rr(a),t.stateNode=a):t.memoizedState=Gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ye(t),null===e&&ps&&(a=t.stateNode=Dh(t.type,t.pendingProps,We.current),us=t,gs=!0,n=hs,Eh(t.type)?(Lh=n,hs=Ih(a.firstChild)):hs=n),Ll(e,t,t.pendingProps.children,r),Hl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ps&&((n=a=hs)&&(null!==(a=function(e,t,r,a){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Jt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=Ih(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,gs))?(t.stateNode=a,us=t,hs=Ih(a.firstChild),gs=!1,n=!0):n=!1),n||bs(t)),Ye(t),n=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,vh(n,s)?a=null:null!==o&&vh(n,o)&&(t.flags|=32),null!==t.memoizedState&&(n=ai(e,t,oi,null,null,r),hp._currentValue=n),Hl(e,t),Ll(e,t,a,r),t.child;case 6:return null===e&&ps&&((e=r=hs)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Ih(e.nextSibling)))return null}return e}(r,t.pendingProps,gs))?(t.stateNode=r,us=t,hs=null,e=!0):e=!1),e||bs(t)),null;case 13:return Zl(e,t,r);case 4:return Je(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=mo(t,null,a,r):Ll(e,t,a,r),t.child;case 11:return zl(e,t,t.type,t.pendingProps,r);case 7:return Ll(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ll(e,t,t.pendingProps.children,r),t.child;case 10:return a=t.pendingProps,_s(0,t.type,a.value),Ll(e,t,a.children,r),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Rs(t),a=a(n=As(n)),t.flags|=1,Ll(e,t,a,r),t.child;case 14:return Ml(e,t,t.type,t.pendingProps,r);case 15:return Dl(e,t,t.type,t.pendingProps,r);case 19:return sc(e,t,r);case 31:return function(e,t,r){var a=t.pendingProps,n=!!(128&t.flags);if(t.flags&=-129,null===e){if(ps){if("hidden"===a.mode)return e=Fl(t,a),t.lanes=536870912,Ul(null,e);if(Mo(t),(e=hs)?null!==(e=null!==(e=Th(e,gs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==as?{id:ns,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},(r=Gn(e)).return=t,t.child=r,us=t,hs=null):e=null,null===e)throw bs(t);return t.lanes=536870912,null}return Fl(t,a)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Mo(t),n)if(256&t.flags)t.flags&=-257,t=Vl(e,t,r);else{if(null===t.memoizedState)throw Error(le(558));t.child=e.child,t.flags|=128,t=null}else if(Il||Os(e,t,r,!1),n=0!==(r&e.childLanes),Il||n){if(null!==(a=md)&&0!==(o=zt(a,r))&&o!==s.retryLane)throw s.retryLane=o,In(e,o),Jd(a,e,o),Al;lu(),t=Vl(e,t,r)}else e=s.treeContext,hs=Ih(o.nextSibling),us=t,ps=!0,fs=null,gs=!1,null!==e&&ds(t,e),(t=Fl(t,a)).flags|=4096;return t}return(e=qn(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return $l(e,t,r,t.pendingProps);case 24:return Rs(t),a=As($s),null===e?(null===(n=Js())&&(n=md,s=Us(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:a,cache:n},yo(t),_s(0,$s,n)):(0!==(e.lanes&r)&&(ko(e,t),_o(t,null,null,r),Co()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),_s(0,$s,a)):(a=s.cache,_s(0,$s,a),a!==n.cache&&Bs(t,[$s],r,!0))),Ll(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(le(156,t.tag))}function cc(e){e.flags|=4}function dc(e,t,r,a,n){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&n)===n)if(e.stateNode.complete)e.flags|=8192;else{if(!su())throw oo=ro,eo;e.flags|=8192}}else e.flags&=-16777217}function uc(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!op(t)){if(!su())throw oo=ro,eo;e.flags|=8192}}function hc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Tt():536870912,e.lanes|=t,Bd|=t)}function pc(e,t){if(!ps)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=65011712&n.subtreeFlags,a|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function gc(e,t,r){var a=t.pendingProps;switch(cs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fc(t),null;case 3:return r=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Es($s),Xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ks(t)?cc(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ws())),fc(t),null;case 26:var n=t.type,s=t.memoizedState;return null===e?(cc(t),null!==s?(fc(t),uc(t,s)):(fc(t),dc(t,n,0,0,r))):s?s!==e.memoizedState?(cc(t),fc(t),uc(t,s)):(fc(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&cc(t),fc(t),dc(t,n,0,0,r)),null;case 27:if(Ze(t),r=We.current,n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cc(t);else{if(!a){if(null===t.stateNode)throw Error(le(166));return fc(t),null}e=Ke.current,ks(t)?xs(t):(e=Dh(n,a,r),t.stateNode=e,cc(t))}return fc(t),null;case 5:if(Ze(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cc(t);else{if(!a){if(null===t.stateNode)throw Error(le(166));return fc(t),null}if(s=Ke.current,ks(t))xs(t);else{var o=xh(We.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"==typeof a.is?o.createElement(n,{is:a.is}):o.createElement(n)}}s[Ft]=t,s[Vt]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fh(s,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cc(t)}}return fc(t),dc(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&cc(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(le(166));if(e=We.current,ks(t)){if(e=t.stateNode,r=t.memoizedProps,a=null,null!==(n=us))switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Ft]=t,(e=!!(e.nodeValue===r||null!==a&&!0===a.suppressHydrationWarning||uh(e.nodeValue,r)))||bs(t,!0)}else(e=xh(e).createTextNode(a))[Ft]=t,t.stateNode=e}return fc(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(a=ks(t),null!==r){if(null===e){if(!a)throw Error(le(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(le(557));e[Ft]=t}else vs(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fc(t),e=!1}else r=ws(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Uo(t),t):(Uo(t),null);if(128&t.flags)throw Error(le(558))}return fc(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=ks(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(le(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(le(317));n[Ft]=t}else vs(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fc(t),n=!1}else n=ws(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(Uo(t),t):(Uo(t),null)}return Uo(t),128&t.flags?(t.lanes=r,t):(r=null!==a,e=null!==e&&null!==e.memoizedState,r&&(n=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(n=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),hc(t,t.updateQueue),fc(t),null);case 4:return Xe(),null===e&&th(t.stateNode.containerInfo),fc(t),null;case 10:return Es(t.type),fc(t),null;case 19:if(qe(qo),null===(a=t.memoizedState))return fc(t),null;if(n=!!(128&t.flags),null===(s=a.rendering))if(n)pc(a,!1);else{if(0!==Sd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Fo(e))){for(t.flags|=128,pc(a,!1),e=s.updateQueue,t.updateQueue=e,hc(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Fn(r,e),r=r.sibling;return Fe(qo,1&qo.current|2),ps&&os(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&dt()>Ld&&(t.flags|=128,n=!0,pc(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Fo(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,hc(t,e),pc(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!ps)return fc(t),null}else 2*dt()-a.renderingStartTime>Ld&&536870912!==r&&(t.flags|=128,n=!0,pc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dt(),e.sibling=null,r=qo.current,Fe(qo,n?1&r|2:1&r),ps&&os(t,a.treeForkCount),e):(fc(t),null);case 22:case 23:return Uo(t),Ao(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&r)&&!(128&t.flags)&&(fc(t),6&t.subtreeFlags&&(t.flags|=8192)):fc(t),null!==(r=t.updateQueue)&&hc(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==r&&(t.flags|=2048),null!==e&&qe(Qs),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Es($s),fc(t),null;case 25:case 30:return null}throw Error(le(156,t.tag))}function mc(e,t){switch(cs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Es($s),Xe(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Ze(t),null;case 31:if(null!==t.memoizedState){if(Uo(t),null===t.alternate)throw Error(le(340));vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(le(340));vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return qe(qo),null;case 4:return Xe(),null;case 10:return Es(t.type),null;case 22:case 23:return Uo(t),Ao(),null!==e&&qe(Qs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Es($s),null;default:return null}}function bc(e,t){switch(cs(t),t.tag){case 3:Es($s),Xe();break;case 26:case 27:case 5:Ze(t);break;case 4:Xe();break;case 31:null!==t.memoizedState&&Uo(t);break;case 13:Uo(t);break;case 19:qe(qo);break;case 10:Es(t.type);break;case 22:case 23:Uo(t),Ao(),null!==e&&qe(Qs);break;case 24:Es($s)}}function xc(e,t){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var n=a.next;r=n;do{if((r.tag&e)===e){a=void 0;var s=r.create,o=r.inst;a=s(),o.destroy=a}r=r.next}while(r!==n)}}catch(i){Su(t,t.return,i)}}function yc(e,t,r){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){var o=a.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,n=t;var l=r,c=i;try{c()}catch(d){Su(n,l,d)}}}a=a.next}while(a!==s)}}catch(d){Su(t,t.return,d)}}function kc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Po(t,r)}catch(a){Su(e,e.return,a)}}}function vc(e,t,r){r.props=Sl(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(a){Su(e,t,a)}}function wc(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof r?e.refCleanup=r(a):r.current=a}}catch(n){Su(e,t,n)}}function jc(e,t){var r=e.ref,a=e.refCleanup;if(null!==r)if("function"==typeof a)try{a()}catch(n){Su(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof r)try{r(null)}catch(s){Su(e,t,s)}else r.current=null}function Nc(e){var t=e.type,r=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(n){Su(e,e.return,n)}}function Sc(e,t,r){try{var a=e.stateNode;!function(e,t,r,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,o=null,i=null,l=null,c=null,d=null;for(p in r){var u=r[p];if(r.hasOwnProperty(p)&&null!=u)switch(p){case"checked":case"value":break;case"defaultValue":l=u;default:a.hasOwnProperty(p)||hh(e,t,p,null,a,u)}}for(var h in a){var p=a[h];if(u=r[h],a.hasOwnProperty(h)&&(null!=p||null!=u))switch(h){case"type":s=p;break;case"name":n=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":i=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(le(137,t));break;default:p!==u&&hh(e,t,h,p,a,u)}}return void kr(e,o,i,l,c,d,s,n);case"select":for(s in p=o=i=h=null,r)if(l=r[s],r.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:a.hasOwnProperty(s)||hh(e,t,s,null,a,l)}for(n in a)if(s=a[n],l=r[n],a.hasOwnProperty(n)&&(null!=s||null!=l))switch(n){case"value":h=s;break;case"defaultValue":i=s;break;case"multiple":o=s;default:s!==l&&hh(e,t,n,s,a,l)}return t=i,r=o,a=p,void(null!=h?jr(e,!!r,h,!1):!!a!=!!r&&(null!=t?jr(e,!!r,t,!0):jr(e,!!r,r?[]:"",!1)));case"textarea":for(i in p=h=null,r)if(n=r[i],r.hasOwnProperty(i)&&null!=n&&!a.hasOwnProperty(i))switch(i){case"value":case"children":break;default:hh(e,t,i,null,a,n)}for(o in a)if(n=a[o],s=r[o],a.hasOwnProperty(o)&&(null!=n||null!=s))switch(o){case"value":h=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(le(91));break;default:n!==s&&hh(e,t,o,n,a,s)}return void Nr(e,h,p);case"option":for(var f in r)if(h=r[f],r.hasOwnProperty(f)&&null!=h&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else hh(e,t,f,null,a,h);for(l in a)if(h=a[l],p=r[l],a.hasOwnProperty(l)&&h!==p&&(null!=h||null!=p))if("selected"===l)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else hh(e,t,l,h,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&null!=h&&!a.hasOwnProperty(g)&&hh(e,t,g,null,a,h);for(c in a)if(h=a[c],p=r[c],a.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(le(137,t));break;default:hh(e,t,c,h,a,p)}return;default:if(Br(t)){for(var m in r)h=r[m],r.hasOwnProperty(m)&&void 0!==h&&!a.hasOwnProperty(m)&&ph(e,t,m,void 0,a,h);for(d in a)h=a[d],p=r[d],!a.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||ph(e,t,d,h,a,p);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&null!=h&&!a.hasOwnProperty(b)&&hh(e,t,b,null,a,h);for(u in a)h=a[u],p=r[u],!a.hasOwnProperty(u)||h===p||null==h&&null==p||hh(e,t,u,h,a,p)}(a,e.type,r,t),a[Vt]=t}catch(n){Su(e,e.return,n)}}function Cc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eh(e.type)||4===e.tag}function _c(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ec(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Ar));else if(4!==a&&(27===a&&Eh(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Ec(e,t,r),e=e.sibling;null!==e;)Ec(e,t,r),e=e.sibling}function Pc(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&(27===a&&Eh(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(Pc(e,t,r),e=e.sibling;null!==e;)Pc(e,t,r),e=e.sibling}function Bc(e){var t=e.stateNode,r=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fh(t,a,r),t[Ft]=e,t[Vt]=r}catch(s){Su(e,e.return,s)}}var Oc=!1,Tc=!1,Rc=!1,Ac="function"==typeof WeakSet?WeakSet:Set,Ic=null;function Lc(e,t,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Jc(e,r),4&a&&xc(5,r);break;case 1:if(Jc(e,r),4&a)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(o){Su(r,r.return,o)}else{var n=Sl(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Su(r,r.return,i)}}64&a&&kc(r),512&a&&wc(r,r.return);break;case 3:if(Jc(e,r),64&a&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Po(e,t)}catch(o){Su(r,r.return,o)}}break;case 27:null===t&&4&a&&Bc(r);case 26:case 5:Jc(e,r),null===t&&4&a&&Nc(r),512&a&&wc(r,r.return);break;case 12:Jc(e,r);break;case 31:Jc(e,r),4&a&&qc(e,r);break;case 13:Jc(e,r),4&a&&Fc(e,r),64&a&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var a=function(){t(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,r=Pu.bind(null,r))));break;case 22:if(!(a=null!==r.memoizedState||Oc)){t=null!==t&&null!==t.memoizedState||Tc,n=Oc;var s=Tc;Oc=a,(Tc=t)&&!s?Yc(e,r,!!(8772&r.subtreeFlags)):Jc(e,r),Oc=n,Tc=s}break;case 30:break;default:Jc(e,r)}}function zc(e){var t=e.alternate;null!==t&&(e.alternate=null,zc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mc=null,Dc=!1;function $c(e,t,r){for(r=r.child;null!==r;)Uc(e,t,r),r=r.sibling}function Uc(e,t,r){if(kt&&"function"==typeof kt.onCommitFiberUnmount)try{kt.onCommitFiberUnmount(yt,r)}catch(s){}switch(r.tag){case 26:Tc||jc(r,t),$c(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Tc||jc(r,t);var a=Mc,n=Dc;Eh(r.type)&&(Mc=r.stateNode,Dc=!1),$c(e,t,r),$h(r.stateNode),Mc=a,Dc=n;break;case 5:Tc||jc(r,t);case 6:if(a=Mc,n=Dc,Mc=null,$c(e,t,r),Dc=n,null!==(Mc=a))if(Dc)try{(9===Mc.nodeType?Mc.body:"HTML"===Mc.nodeName?Mc.ownerDocument.body:Mc).removeChild(r.stateNode)}catch(o){Su(r,t,o)}else try{Mc.removeChild(r.stateNode)}catch(o){Su(r,t,o)}break;case 18:null!==Mc&&(Dc?(Ph(9===(e=Mc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Kp(e)):Ph(Mc,r.stateNode));break;case 4:a=Mc,n=Dc,Mc=r.stateNode.containerInfo,Dc=!0,$c(e,t,r),Mc=a,Dc=n;break;case 0:case 11:case 14:case 15:yc(2,r,t),Tc||yc(4,r,t),$c(e,t,r);break;case 1:Tc||(jc(r,t),"function"==typeof(a=r.stateNode).componentWillUnmount&&vc(r,t,a)),$c(e,t,r);break;case 21:$c(e,t,r);break;case 22:Tc=(a=Tc)||null!==r.memoizedState,$c(e,t,r),Tc=a;break;default:$c(e,t,r)}}function qc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kp(e)}catch(r){Su(t,t.return,r)}}}function Fc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kp(e)}catch(r){Su(t,t.return,r)}}function Vc(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ac),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ac),t;default:throw Error(le(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var a=Bu.bind(null,e,t);t.then(a,a)}})}function Hc(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a],s=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 27:if(Eh(i.type)){Mc=i.stateNode,Dc=!1;break e}break;case 5:Mc=i.stateNode,Dc=!1;break e;case 3:case 4:Mc=i.stateNode.containerInfo,Dc=!0;break e}i=i.return}if(null===Mc)throw Error(le(160));Uc(s,o,n),Mc=null,Dc=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gc(t,e),t=t.sibling}var Kc=null;function Gc(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hc(t,e),Wc(e),4&a&&(yc(3,e,e.return),xc(3,e),yc(5,e,e.return));break;case 1:Hc(t,e),Wc(e),512&a&&(Tc||null===r||jc(r,r.return)),64&a&&Oc&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?a:r.concat(a))));break;case 26:var n=Kc;if(Hc(t,e),Wc(e),512&a&&(Tc||null===r||jc(r,r.return)),4&a){var s=null!==r?r.memoizedState:null;if(a=e.memoizedState,null===r)if(null===a)if(null===e.stateNode){e:{a=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":(!(s=n.getElementsByTagName("title")[0])||s[Jt]||s[Ft]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),fh(s,a,r),s[Ft]=e,rr(s),a=s;break e;case"link":var o=np("link","href",n).get(a+(r.href||""));if(o)for(var i=0;i<o.length;i++)if((s=o[i]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(i,1);break t}fh(s=n.createElement(a),a,r),n.head.appendChild(s);break;case"meta":if(o=np("meta","content",n).get(a+(r.content||"")))for(i=0;i<o.length;i++)if((s=o[i]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(i,1);break t}fh(s=n.createElement(a),a,r),n.head.appendChild(s);break;default:throw Error(le(468,a))}s[Ft]=e,rr(s),a=s}e.stateNode=a}else sp(n,e.type,e.stateNode);else e.stateNode=Zh(n,a,e.memoizedProps);else s!==a?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===a?sp(n,e.type,e.stateNode):Zh(n,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Sc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Hc(t,e),Wc(e),512&a&&(Tc||null===r||jc(r,r.return)),null!==r&&4&a&&Sc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Hc(t,e),Wc(e),512&a&&(Tc||null===r||jc(r,r.return)),32&e.flags){n=e.stateNode;try{Cr(n,"")}catch(f){Su(e,e.return,f)}}4&a&&null!=e.stateNode&&Sc(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&a&&(Rc=!0);break;case 6:if(Hc(t,e),Wc(e),4&a){if(null===e.stateNode)throw Error(le(162));a=e.memoizedProps,r=e.stateNode;try{r.nodeValue=a}catch(f){Su(e,e.return,f)}}break;case 3:if(ap=null,n=Kc,Kc=Fh(t.containerInfo),Hc(t,e),Kc=n,Wc(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Kp(t.containerInfo)}catch(f){Su(e,e.return,f)}Rc&&(Rc=!1,Qc(e));break;case 4:a=Kc,Kc=Fh(e.stateNode.containerInfo),Hc(t,e),Wc(e),Kc=a;break;case 12:default:Hc(t,e),Wc(e);break;case 31:case 19:Hc(t,e),Wc(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Vc(e,a)));break;case 13:Hc(t,e),Wc(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==r&&null!==r.memoizedState)&&(Ad=dt()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Vc(e,a)));break;case 22:n=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,c=Oc,d=Tc;if(Oc=c||n,Tc=d||l,Hc(t,e),Tc=d,Oc=c,Wc(e),8192&a)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||l||Oc||Tc||Xc(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(s=l.stateNode,n)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{i=l.stateNode;var u=l.memoizedProps.style,h=null!=u&&u.hasOwnProperty("display")?u.display:null;i.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(f){Su(l,l.return,f)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=n?"":l.memoizedProps}catch(f){Su(l,l.return,f)}}}else if(18===t.tag){if(null===r){l=t;try{var p=l.stateNode;n?Bh(p,!0):Bh(l.stateNode,!1)}catch(f){Su(l,l.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(r=a.retryQueue)&&(a.retryQueue=null,Vc(e,r))));case 30:case 21:}}function Wc(e){var t=e.flags;if(2&t){try{for(var r,a=e.return;null!==a;){if(Cc(a)){r=a;break}a=a.return}if(null==r)throw Error(le(160));switch(r.tag){case 27:var n=r.stateNode;Pc(e,_c(e),n);break;case 5:var s=r.stateNode;32&r.flags&&(Cr(s,""),r.flags&=-33),Pc(e,_c(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Ec(e,_c(e),o);break;default:throw Error(le(161))}}catch(i){Su(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Qc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Qc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Lc(e,t.alternate,t),t=t.sibling}function Xc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yc(4,t,t.return),Xc(t);break;case 1:jc(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&vc(t,t.return,r),Xc(t);break;case 27:$h(t.stateNode);case 26:case 5:jc(t,t.return),Xc(t);break;case 22:null===t.memoizedState&&Xc(t);break;default:Xc(t)}e=e.sibling}}function Yc(e,t,r){for(r=r&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,n=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Yc(n,s,r),xc(4,s);break;case 1:if(Yc(n,s,r),"function"==typeof(n=(a=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){Su(a,a.return,c)}if(null!==(n=(a=s).updateQueue)){var i=a.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)Eo(l[n],i)}catch(c){Su(a,a.return,c)}}r&&64&o&&kc(s),wc(s,s.return);break;case 27:Bc(s);case 26:case 5:Yc(n,s,r),r&&null===a&&4&o&&Nc(s),wc(s,s.return);break;case 12:Yc(n,s,r);break;case 31:Yc(n,s,r),r&&4&o&&qc(n,s);break;case 13:Yc(n,s,r),r&&4&o&&Fc(n,s);break;case 22:null===s.memoizedState&&Yc(n,s,r),wc(s,s.return);break;case 30:break;default:Yc(n,s,r)}t=t.sibling}}function Zc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&qs(r))}function ed(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qs(e))}function td(e,t,r,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)rd(e,t,r,a),t=t.sibling}function rd(e,t,r,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:td(e,t,r,a),2048&n&&xc(9,t);break;case 1:case 31:case 13:default:td(e,t,r,a);break;case 3:td(e,t,r,a),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qs(e)));break;case 12:if(2048&n){td(e,t,r,a),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,i=s.onPostCommit;"function"==typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else td(e,t,r,a);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?td(e,t,r,a):nd(e,t):2&s._visibility?td(e,t,r,a):(s._visibility|=2,ad(e,t,r,a,!!(10256&t.subtreeFlags)||!1)),2048&n&&Zc(o,t);break;case 24:td(e,t,r,a),2048&n&&ed(t.alternate,t)}}function ad(e,t,r,a,n){for(n=n&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,i=r,l=a,c=o.flags;switch(o.tag){case 0:case 11:case 15:ad(s,o,i,l,n),xc(8,o);break;case 23:break;case 22:var d=o.stateNode;null!==o.memoizedState?2&d._visibility?ad(s,o,i,l,n):nd(s,o):(d._visibility|=2,ad(s,o,i,l,n)),n&&2048&c&&Zc(o.alternate,o);break;case 24:ad(s,o,i,l,n),n&&2048&c&&ed(o.alternate,o);break;default:ad(s,o,i,l,n)}t=t.sibling}}function nd(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,a=t,n=a.flags;switch(a.tag){case 22:nd(r,a),2048&n&&Zc(a.alternate,a);break;case 24:nd(r,a),2048&n&&ed(a.alternate,a);break;default:nd(r,a)}t=t.sibling}}var sd=8192;function od(e,t,r){if(e.subtreeFlags&sd)for(e=e.child;null!==e;)id(e,t,r),e=e.sibling}function id(e,t,r){switch(e.tag){case 26:od(e,t,r),e.flags&sd&&null!==e.memoizedState&&function(e,t,r,a){if(!("stylesheet"!==r.type||"string"==typeof a.media&&!1===matchMedia(a.media).matches||4&r.state.loading)){if(null===r.instance){var n=Wh(a.href),s=t.querySelector(Qh(n));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lp.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=s,void rr(s);s=t.ownerDocument||t,a=Jh(a),(n=Uh.get(n))&&tp(a,n),rr(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",a),r.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(3&r.state.loading)&&(e.count++,r=lp.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Kc,e.memoizedState,e.memoizedProps);break;case 5:default:od(e,t,r);break;case 3:case 4:var a=Kc;Kc=Fh(e.stateNode.containerInfo),od(e,t,r),Kc=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=sd,sd=16777216,od(e,t,r),sd=a):od(e,t,r))}}function ld(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cd(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];Ic=a,hd(a,e)}ld(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)dd(e),e=e.sibling}function dd(e){switch(e.tag){case 0:case 11:case 15:cd(e),2048&e.flags&&yc(9,e,e.return);break;case 3:case 12:default:cd(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ud(e)):cd(e)}}function ud(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];Ic=a,hd(a,e)}ld(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yc(8,t,t.return),ud(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,ud(t));break;default:ud(t)}e=e.sibling}}function hd(e,t){for(;null!==Ic;){var r=Ic;switch(r.tag){case 0:case 11:case 15:yc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var a=r.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:qs(r.memoizedState.cache)}if(null!==(a=r.child))a.return=r,Ic=a;else e:for(r=e;null!==Ic;){var n=(a=Ic).sibling,s=a.return;if(zc(a),a===r){Ic=null;break e}if(null!==n){n.return=s,Ic=n;break e}Ic=s}}}var pd={getCacheForType:function(e){var t=As($s),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return As($s).controller.signal}},fd="function"==typeof WeakMap?WeakMap:Map,gd=0,md=null,bd=null,xd=0,yd=0,kd=null,vd=!1,wd=!1,jd=!1,Nd=0,Sd=0,Cd=0,_d=0,Ed=0,Pd=0,Bd=0,Od=null,Td=null,Rd=!1,Ad=0,Id=0,Ld=1/0,zd=null,Md=null,Dd=0,$d=null,Ud=null,qd=0,Fd=0,Vd=null,Hd=null,Kd=0,Gd=null;function Wd(){return 2&gd&&0!==xd?xd&-xd:null!==Le.T?Vu():$t()}function Qd(){if(0===Pd)if(536870912&xd&&!ps)Pd=536870912;else{var e=Ct;!(3932160&(Ct<<=1))&&(Ct=262144),Pd=e}return null!==(e=Io.current)&&(e.flags|=32),Pd}function Jd(e,t,r){(e!==md||2!==yd&&9!==yd)&&null===e.cancelPendingCommit||(au(e,0),eu(e,xd,Pd,!1)),At(e,r),2&gd&&e===md||(e===md&&(!(2&gd)&&(_d|=r),4===Sd&&eu(e,xd,Pd,!1)),zu(e))}function Xd(e,t,r){if(6&gd)throw Error(le(327));for(var a=!r&&!(127&t)&&0===(t&e.expiredLanes)||Bt(e,t),n=a?function(e,t){var r=gd;gd|=2;var a=ou(),n=iu();md!==e||xd!==t?(zd=null,Ld=dt()+500,au(e,t)):wd=Bt(e,t);e:for(;;)try{if(0!==yd&&null!==bd){t=bd;var s=kd;t:switch(yd){case 1:yd=0,kd=null,fu(e,t,s,1);break;case 2:case 9:if(ao(s)){yd=0,kd=null,pu(t);break}t=function(){2!==yd&&9!==yd||md!==e||(yd=7),zu(e)},s.then(t,t);break e;case 3:yd=7;break e;case 4:yd=5;break e;case 7:ao(s)?(yd=0,kd=null,pu(t)):(yd=0,kd=null,fu(e,t,s,7));break;case 5:var o=null;switch(bd.tag){case 26:o=bd.memoizedState;case 5:case 27:var i=bd;if(o?op(o):i.stateNode.complete){yd=0,kd=null;var l=i.sibling;if(null!==l)bd=l;else{var c=i.return;null!==c?(bd=c,gu(c)):bd=null}break t}}yd=0,kd=null,fu(e,t,s,5);break;case 6:yd=0,kd=null,fu(e,t,s,6);break;case 8:ru(),Sd=6;break e;default:throw Error(le(462))}}uu();break}catch(d){nu(e,d)}return Cs=Ss=null,Le.H=a,Le.A=n,gd=r,null!==bd?0:(md=null,xd=0,Tn(),Sd)}(e,t):cu(e,t,!0),s=a;;){if(0===n){wd&&!a&&eu(e,t,0,!1);break}if(r=e.current.alternate,!s||Zd(r)){if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var i=e;n=Od;var l=i.current.memoizedState.isDehydrated;if(l&&(au(i,o).flags|=256),2!==(o=cu(i,o,!1))){if(jd&&!l){i.errorRecoveryDisabledLanes|=s,_d|=s,n=4;break e}s=Td,Td=n,null!==s&&(null===Td?Td=s:Td.push.apply(Td,s))}n=o}if(s=!1,2!==n)continue}}if(1===n){au(e,0),eu(e,t,0,!0);break}e:{switch(a=e,s=n){case 0:case 1:throw Error(le(345));case 4:if((4194048&t)!==t)break;case 6:eu(a,t,Pd,!vd);break e;case 2:Td=null;break;case 3:case 5:break;default:throw Error(le(329))}if((62914560&t)===t&&10<(n=Ad+300-dt())){if(eu(a,t,Pd,!vd),0!==Pt(a,0,!0))break e;qd=t,a.timeoutHandle=jh(Yd.bind(null,a,r,Td,zd,Rd,t,Pd,_d,Bd,vd,s,"Throttled",-0,0),n)}else Yd(a,r,Td,zd,Rd,t,Pd,_d,Bd,vd,s,null,-0,0)}break}n=cu(e,t,!1),s=!1}zu(e)}function Yd(e,t,r,a,n,s,o,i,l,c,d,u,h,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){id(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ar});var f=(62914560&s)===s?Ad-dt():(4194048&s)===s?Id-dt():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&dp(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var a=setTimeout(function(){if(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ip&&(ip=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var n=r[a],s=n.transferSize,o=n.initiatorType,i=n.duration;if(s&&i&&gh(o)){for(o=0,i=n.responseEnd,a+=1;a<r.length;a++){var l=r[a],c=l.startTime;if(c>i)break;var d=l.transferSize,u=l.initiatorType;d&&gh(u)&&(o+=d*((l=l.responseEnd)<i?1:(i-c)/(l-c)))}if(--a,t+=8*(s+o)/(n.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var n=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ip?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}(u,f)))return qd=s,e.cancelPendingCommit=f(bu.bind(null,e,t,s,r,a,n,o,i,l,d,u,null,h,p)),void eu(e,s,o,!c)}bu(e,t,s,r,a,n,o,i,l)}function Zd(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!Za(s(),n))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,r,a){t&=~Ed,t&=~_d,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-wt(n),o=1<<s;a[s]=-1,n&=~o}0!==r&&It(e,r,t)}function tu(){return!!(6&gd)||(Mu(0),!1)}function ru(){if(null!==bd){if(0===yd)var e=bd.return;else Cs=Ss=null,ci(e=bd),co=null,uo=0,e=bd;for(;null!==e;)bc(e.alternate,e),e=e.return;bd=null}}function au(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Nh(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),qd=0,ru(),md=e,bd=r=qn(e.current,null),xd=t,yd=0,kd=null,vd=!1,wd=Bt(e,t),jd=!1,Bd=Pd=Ed=_d=Cd=Sd=0,Td=Od=null,Rd=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var n=31-wt(a),s=1<<n;t|=e[n],a&=~s}return Nd=t,Tn(),r}function nu(e,t){Ho=null,Le.H=bl,t===Zs||t===to?(t=io(),yd=3):t===eo?(t=io(),yd=4):yd=t===Al?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,kd=t,null===bd&&(Sd=1,Pl(e,Jn(t,e.current)))}function su(){var e=Io.current;return null===e||((4194048&xd)===xd?null===Lo:!!((62914560&xd)===xd||536870912&xd)&&e===Lo)}function ou(){var e=Le.H;return Le.H=bl,null===e?bl:e}function iu(){var e=Le.A;return Le.A=pd,e}function lu(){Sd=4,vd||(4194048&xd)!==xd&&null!==Io.current||(wd=!0),!(134217727&Cd)&&!(134217727&_d)||null===md||eu(md,xd,Pd,!1)}function cu(e,t,r){var a=gd;gd|=2;var n=ou(),s=iu();md===e&&xd===t||(zd=null,au(e,t)),t=!1;var o=Sd;e:for(;;)try{if(0!==yd&&null!==bd){var i=bd,l=kd;switch(yd){case 8:ru(),o=6;break e;case 3:case 2:case 9:case 6:null===Io.current&&(t=!0);var c=yd;if(yd=0,kd=null,fu(e,i,l,c),r&&wd){o=0;break e}break;default:c=yd,yd=0,kd=null,fu(e,i,l,c)}}du(),o=Sd;break}catch(d){nu(e,d)}return t&&e.shellSuspendCounter++,Cs=Ss=null,gd=a,Le.H=n,Le.A=s,null===bd&&(md=null,xd=0,Tn()),o}function du(){for(;null!==bd;)hu(bd)}function uu(){for(;null!==bd&&!lt();)hu(bd)}function hu(e){var t=lc(e.alternate,e,Nd);e.memoizedProps=e.pendingProps,null===t?gu(e):bd=t}function pu(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Gl(r,t,t.pendingProps,t.type,void 0,xd);break;case 11:t=Gl(r,t,t.pendingProps,t.type.render,t.ref,xd);break;case 5:ci(t);default:bc(r,t),t=lc(r,t=bd=Fn(t,Nd),Nd)}e.memoizedProps=e.pendingProps,null===t?gu(e):bd=t}function fu(e,t,r,a){Cs=Ss=null,ci(t),co=null,uo=0;var n=t.return;try{if(function(e,t,r,a,n){if(r.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=r.alternate)&&Os(t,r,n,!0),null!==(r=Io.current)){switch(r.tag){case 31:case 13:return null===Lo?lu():null===r.alternate&&0===Sd&&(Sd=3),r.flags&=-257,r.flags|=65536,r.lanes=n,a===ro?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([a]):t.add(a),Cu(e,a,n)),!1;case 22:return r.flags|=65536,a===ro?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([a]):r.add(a),Cu(e,a,n)),!1}throw Error(le(435,r.tag))}return Cu(e,a,n),lu(),!1}if(ps)return null!==(t=Io.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==ms&&js(Jn(e=Error(le(422),{cause:a}),r))):(a!==ms&&js(Jn(t=Error(le(423),{cause:a}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,a=Jn(a,r),No(e,n=Ol(e.stateNode,a,n)),4!==Sd&&(Sd=2)),!1;var s=Error(le(520),{cause:a});if(s=Jn(s,r),null===Od?Od=[s]:Od.push(s),4!==Sd&&(Sd=2),null===t)return!0;a=Jn(a,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,No(r,e=Ol(r.stateNode,a,e)),!1;case 1:if(t=r.type,s=r.stateNode,!(128&r.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Md&&Md.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,Rl(n=Tl(n),e,r,a),No(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,xd))return Sd=1,Pl(e,Jn(r,e.current)),void(bd=null)}catch(s){if(null!==n)throw bd=n,s;return Sd=1,Pl(e,Jn(r,e.current)),void(bd=null)}32768&t.flags?(ps||1===a?e=!0:wd||536870912&xd?e=!1:(vd=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Io.current)&&13===a.tag&&(a.flags|=16384))),mu(t,e)):gu(t)}function gu(e){var t=e;do{if(32768&t.flags)return void mu(t,vd);e=t.return;var r=gc(t.alternate,t,Nd);if(null!==r)return void(bd=r);if(null!==(t=t.sibling))return void(bd=t);bd=t=e}while(null!==t);0===Sd&&(Sd=5)}function mu(e,t){do{var r=mc(e.alternate,e);if(null!==r)return r.flags&=32767,void(bd=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(bd=e);bd=e=r}while(null!==e);Sd=6,bd=null}function bu(e,t,r,a,n,s,o,i,l){e.cancelPendingCommit=null;do{wu()}while(0!==Dd);if(6&gd)throw Error(le(327));if(null!==t){if(t===e.current)throw Error(le(177));if(s=t.lanes|t.childLanes,function(e,t,r,a,n,s){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-wt(r),u=1<<d;i[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}r&=~u}0!==a&&It(e,a,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,r,s|=On,o,i,l),e===md&&(bd=md=null,xd=0),Ud=t,$d=e,qd=r,Fd=s,Vd=n,Hd=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ot(ft,function(){return ju(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=Le.T,Le.T=null,n=ze.p,ze.p=2,o=gd,gd|=4;try{!function(e,t){if(e=e.containerInfo,mh=vp,sn(e=nn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,i=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var p;u!==r||0!==n&&3!==u.nodeType||(i=o+n),u!==s||0!==a&&3!==u.nodeType||(l=o+a),3===u.nodeType&&(o+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===r&&++c===n&&(i=o),h===s&&++d===a&&(l=o),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}r=-1===i||-1===l?null:{start:i,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bh={focusedElem:e,selectionRange:r},vp=!1,Ic=t;null!==Ic;)if(e=(t=Ic).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ic=e;else for(;null!==Ic;){switch(s=(t=Ic).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(n=e[r]).ref.impl=n.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,a=r.stateNode;try{var f=Sl(r.type,n);e=a.getSnapshotBeforeUpdate(f,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(m){Su(r,r.return,m)}}break;case 3:if(1024&e)if(9===(r=(e=t.stateNode.containerInfo).nodeType))Oh(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oh(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(le(163))}if(null!==(e=t.sibling)){e.return=t.return,Ic=e;break}Ic=t.return}}(e,t)}finally{gd=o,ze.p=n,Le.T=a}}Dd=1,xu(),yu(),ku()}}function xu(){if(1===Dd){Dd=0;var e=$d,t=Ud,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=Le.T,Le.T=null;var a=ze.p;ze.p=2;var n=gd;gd|=4;try{Gc(t,e);var s=bh,o=nn(e.containerInfo),i=s.focusedElem,l=s.selectionRange;if(o!==i&&i&&i.ownerDocument&&an(i.ownerDocument.documentElement,i)){if(null!==l&&sn(i)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=i.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>m&&(o=m,m=g,g=o);var b=rn(i,g),x=rn(i,m);if(b&&x&&(1!==p.rangeCount||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var y=u.createRange();y.setStart(b.node,b.offset),p.removeAllRanges(),g>m?(p.addRange(y),p.extend(x.node,x.offset)):(y.setEnd(x.node,x.offset),p.addRange(y))}}}}for(u=[],p=i;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<u.length;i++){var k=u[i];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}vp=!!mh,bh=mh=null}finally{gd=n,ze.p=a,Le.T=r}}e.current=t,Dd=2}}function yu(){if(2===Dd){Dd=0;var e=$d,t=Ud,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=Le.T,Le.T=null;var a=ze.p;ze.p=2;var n=gd;gd|=4;try{Lc(e,t.alternate,t)}finally{gd=n,ze.p=a,Le.T=r}}Dd=3}}function ku(){if(4===Dd||3===Dd){Dd=0,ct();var e=$d,t=Ud,r=qd,a=Hd;10256&t.subtreeFlags||10256&t.flags?Dd=5:(Dd=0,Ud=$d=null,vu(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(Md=null),Dt(r),t=t.stateNode,kt&&"function"==typeof kt.onCommitFiberRoot)try{kt.onCommitFiberRoot(yt,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==a){t=Le.T,n=ze.p,ze.p=2,Le.T=null;try{for(var s=e.onRecoverableError,o=0;o<a.length;o++){var i=a[o];s(i.value,{componentStack:i.stack})}}finally{Le.T=t,ze.p=n}}3&qd&&wu(),zu(e),n=e.pendingLanes,261930&r&&42&n?e===Gd?Kd++:(Kd=0,Gd=e):Kd=0,Mu(0)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qs(t)))}function wu(){return xu(),yu(),ku(),ju()}function ju(){if(5!==Dd)return!1;var e=$d,t=Fd;Fd=0;var r=Dt(qd),a=Le.T,n=ze.p;try{ze.p=32>r?32:r,Le.T=null,r=Vd,Vd=null;var s=$d,o=qd;if(Dd=0,Ud=$d=null,qd=0,6&gd)throw Error(le(331));var i=gd;if(gd|=4,dd(s.current),rd(s,s.current,o,r),gd=i,Mu(0,!1),kt&&"function"==typeof kt.onPostCommitFiberRoot)try{kt.onPostCommitFiberRoot(yt,s)}catch(l){}return!0}finally{ze.p=n,Le.T=a,vu(e,t)}}function Nu(e,t,r){t=Jn(r,t),null!==(e=wo(e,t=Ol(e.stateNode,t,2),2))&&(At(e,2),zu(e))}function Su(e,t,r){if(3===e.tag)Nu(e,e,r);else for(;null!==t;){if(3===t.tag){Nu(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Md||!Md.has(a))){e=Jn(r,e),null!==(a=wo(t,r=Tl(2),2))&&(Rl(r,a,t,e),At(a,2),zu(a));break}}t=t.return}}function Cu(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new fd;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(jd=!0,n.add(r),e=_u.bind(null,e,t,r),t.then(e,e))}function _u(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,md===e&&(xd&r)===r&&(4===Sd||3===Sd&&(62914560&xd)===xd&&300>dt()-Ad?!(2&gd)&&au(e,0):Ed|=r,Bd===xd&&(Bd=0)),zu(e)}function Eu(e,t){0===t&&(t=Tt()),null!==(e=In(e,t))&&(At(e,t),zu(e))}function Pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Eu(e,r)}function Bu(e,t){var r=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(le(314))}null!==a&&a.delete(t),Eu(e,r)}var Ou=null,Tu=null,Ru=!1,Au=!1,Iu=!1,Lu=0;function zu(e){e!==Tu&&null===e.next&&(null===Tu?Ou=Tu=e:Tu=Tu.next=e),Au=!0,Ru||(Ru=!0,Ch(function(){6&gd?ot(ht,Du):$u()}))}function Mu(e,t){if(!Iu&&Au){Iu=!0;do{for(var r=!1,a=Ou;null!==a;){if(0!==e){var n=a.pendingLanes;if(0===n)var s=0;else{var o=a.suspendedLanes,i=a.pingedLanes;s=(1<<31-wt(42|e)+1)-1,s=201326741&(s&=n&~(o&~i))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Fu(a,s))}else s=xd,!(3&(s=Pt(a,a===md?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Bt(a,s)||(r=!0,Fu(a,s));a=a.next}}while(r);Iu=!1}}function Du(){$u()}function $u(){Au=Ru=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wh&&(wh=e,!0);return wh=null,!1}()&&(e=Lu);for(var t=dt(),r=null,a=Ou;null!==a;){var n=a.next,s=Uu(a,t);0===s?(a.next=null,null===r?Ou=n:r.next=n,null===n&&(Tu=r)):(r=a,(0!==e||3&s)&&(Au=!0)),a=n}0!==Dd&&5!==Dd||Mu(e),0!==Lu&&(Lu=0)}function Uu(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-wt(s),i=1<<o,l=n[o];-1===l?0!==(i&r)&&0===(i&a)||(n[o]=Ot(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}if(r=xd,r=Pt(e,e===(t=md)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===r||e===t&&(2===yd||9===yd)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&it(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||Bt(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==a&&it(a),Dt(r)){case 2:case 8:r=pt;break;case 32:default:r=ft;break;case 268435456:r=mt}return a=qu.bind(null,e),r=ot(r,a),e.callbackPriority=t,e.callbackNode=r,t}return null!==a&&null!==a&&it(a),e.callbackPriority=2,e.callbackNode=null,2}function qu(e,t){if(0!==Dd&&5!==Dd)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(wu()&&e.callbackNode!==r)return null;var a=xd;return 0===(a=Pt(e,e===md?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xd(e,a,t),Uu(e,dt()),null!=e.callbackNode&&e.callbackNode===r?qu.bind(null,e):null)}function Fu(e,t){if(wu())return null;Xd(e,t,!0)}function Vu(){if(0===Lu){var e=Hs;0===e&&(e=St,!(261888&(St<<=1))&&(St=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Rr(""+e)}function Ku(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Gu=0;Gu<Cn.length;Gu++){var Wu=Cn[Gu];_n(Wu.toLowerCase(),"on"+(Wu[0].toUpperCase()+Wu.slice(1)))}_n(xn,"onAnimationEnd"),_n(yn,"onAnimationIteration"),_n(kn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(vn,"onTransitionRun"),_n(wn,"onTransitionStart"),_n(jn,"onTransitionCancel"),_n(Nn,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var i=a[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&n.isPropagationStopped())break e;s=i,n.currentTarget=c;try{s(n)}catch(d){En(d)}n.currentTarget=null,s=l}else for(o=0;o<a.length;o++){if(l=(i=a[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&n.isPropagationStopped())break e;s=i,n.currentTarget=c;try{s(n)}catch(d){En(d)}n.currentTarget=null,s=l}}}}function Yu(e,t){var r=t[Kt];void 0===r&&(r=t[Kt]=new Set);var a=e+"__bubble";r.has(a)||(rh(t,e,2,!1),r.add(a))}function Zu(e,t,r){var a=0;t&&(a|=4),rh(r,e,a,t)}var eh="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[eh]){e[eh]=!0,ar.forEach(function(t){"selectionchange"!==t&&(Ju.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eh]||(t[eh]=!0,Zu("selectionchange",!1,t))}}function rh(e,t,r,a){switch(Ep(t)){case 2:var n=wp;break;case 8:n=jp;break;default:n=Np}r=n.bind(null,t,r,e),n=void 0,!Vr||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function ah(e,t,r,a,n){var s=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var i=a.stateNode.containerInfo;if(i===n)break;if(4===o)for(o=a.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===n)return;o=o.return}for(;null!==i;){if(null===(o=Yt(i)))return;if(5===(l=o.tag)||6===l||26===l||27===l){a=s=o;continue e}i=i.parentNode}}a=a.return}Ur(function(){var a=s,n=Lr(r),o=[];e:{var i=Sn.get(e);if(void 0!==i){var l=na,c=e;switch(e){case"keypress":if(0===Jr(r))break e;case"keydown":case"keyup":l=ya;break;case"focusin":c="focus",l=da;break;case"focusout":c="blur",l=da;break;case"beforeblur":case"afterblur":l=da;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=la;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=va;break;case xn:case yn:case kn:l=ua;break;case Nn:l=wa;break;case"scroll":case"scrollend":l=oa;break;case"wheel":l=ja;break;case"copy":case"cut":case"paste":l=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ka;break;case"toggle":case"beforetoggle":l=Na}var d=!!(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==i?i+"Capture":null:i;d=[];for(var p,f=a;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=qr(f,h))&&d.push(nh(f,g,p)),u)break;f=f.return}0<d.length&&(i=new l(i,c,null,r,n),o.push({event:i,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===Ir||!(c=r.relatedTarget||r.fromElement)||!Yt(c)&&!c[Ht])&&(l||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?Yt(c):null)&&(u=de(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=a),l!==c)){if(d=la,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=ka,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?i:er(l),p=null==c?i:er(c),(i=new d(g,f+"leave",l,r,n)).target=u,i.relatedTarget=p,g=null,Yt(n)===a&&((d=new d(h,f+"enter",c,r,n)).target=p,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(d=oh,f=c,p=0,g=h=l;g;g=d(g))p++;g=0;for(var m=f;m;m=d(m))g++;for(;0<p-g;)h=d(h),p--;for(;0<g-p;)f=d(f),g--;for(;p--;){if(h===f||null!==f&&h===f.alternate){d=h;break e}h=d(h),f=d(f)}d=null}else d=null;null!==l&&ih(o,i,l,d,!1),null!==c&&null!==u&&ih(o,u,c,d,!0)}if("select"===(l=(i=a?er(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var b=qa;else if(La(i))if(Fa)b=Ya;else{b=Ja;var x=Qa}else!(l=i.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Br(a.elementType)&&(b=qa):b=Xa;switch(b&&(b=b(e,a))?za(o,b,r,n):(x&&x(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&wr(i,"number",i.value)),x=a?er(a):window,e){case"focusin":(La(x)||"true"===x.contentEditable)&&(ln=x,cn=a,dn=null);break;case"focusout":dn=cn=ln=null;break;case"mousedown":un=!0;break;case"contextmenu":case"mouseup":case"dragend":un=!1,hn(o,r,n);break;case"selectionchange":if(on)break;case"keydown":case"keyup":hn(o,r,n)}var y;if(Ca)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Aa?Ta(e,r)&&(k="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(k="onCompositionStart");k&&(Pa&&"ko"!==r.locale&&(Aa||"onCompositionStart"!==k?"onCompositionEnd"===k&&Aa&&(y=Qr()):(Gr="value"in(Kr=n)?Kr.value:Kr.textContent,Aa=!0)),0<(x=sh(a,k)).length&&(k=new pa(k,e,null,r,n),o.push({event:k,listeners:x}),y?k.data=y:null!==(y=Ra(r))&&(k.data=y))),(y=Ea?function(e,t){switch(e){case"compositionend":return Ra(t);case"keypress":return 32!==t.which?null:(Oa=!0,Ba);case"textInput":return(e=t.data)===Ba&&Oa?null:e;default:return null}}(e,r):function(e,t){if(Aa)return"compositionend"===e||!Ca&&Ta(e,t)?(e=Qr(),Wr=Gr=Kr=null,Aa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pa&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(k=sh(a,"onBeforeInput")).length&&(x=new pa("onBeforeInput","beforeinput",null,r,n),o.push({event:x,listeners:k}),x.data=y)),function(e,t,r,a,n){if("submit"===t&&r&&r.stateNode===n){var s=Hu((n[Vt]||null).action),o=a.submitter;o&&null!==(t=(t=o[Vt]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var i=new na("action","action",null,a,n);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Lu){var e=o?Ku(n,o):new FormData(n);al(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"==typeof s&&(i.preventDefault(),e=o?Ku(n,o):new FormData(n),al(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(o,e,a,r,n)}Xu(o,t)})}function nh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sh(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=qr(e,r))&&a.unshift(nh(e,n,s)),null!=(n=qr(e,t))&&a.push(nh(e,n,s))),3===e.tag)return a;e=e.return}return[]}function oh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ih(e,t,r,a,n){for(var s=t._reactName,o=[];null!==r&&r!==a;){var i=r,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===a)break;5!==i&&26!==i&&27!==i||null===c||(l=c,n?null!=(c=qr(r,s))&&o.unshift(nh(r,c,l)):n||null!=(c=qr(r,s))&&o.push(nh(r,c,l))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var lh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function dh(e){return("string"==typeof e?e:""+e).replace(lh,"\n").replace(ch,"")}function uh(e,t){return t=dh(t),dh(e)===t}function hh(e,t,r,a,n,s){switch(r){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||Cr(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&Cr(e,""+a);break;case"className":ur(e,"class",a);break;case"tabIndex":ur(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(e,r,a);break;case"style":Pr(e,a,s);break;case"data":if("object"!==t){ur(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(r);break}a=Rr(""+a),e.setAttribute(r,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===r?("input"!==t&&hh(e,t,"name",n.name,n,null),hh(e,t,"formEncType",n.formEncType,n,null),hh(e,t,"formMethod",n.formMethod,n,null),hh(e,t,"formTarget",n.formTarget,n,null)):(hh(e,t,"encType",n.encType,n,null),hh(e,t,"method",n.method,n,null),hh(e,t,"target",n.target,n,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(r);break}a=Rr(""+a),e.setAttribute(r,a);break;case"onClick":null!=a&&(e.onclick=Ar);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(le(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(le(60));e.innerHTML=r}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}r=Rr(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,""+a):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===a?e.setAttribute(r,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(r,a):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(r,a):e.removeAttribute(r);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(r):e.setAttribute(r,a);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),dr(e,"popover",a);break;case"xlinkActuate":hr(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":hr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":hr(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":hr(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":hr(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":hr(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":hr(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":hr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":hr(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":dr(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&dr(e,r=Or.get(r)||r,a)}}function ph(e,t,r,a,n,s){switch(r){case"style":Pr(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(le(61));if(null!=(r=a.__html)){if(null!=n.children)throw Error(le(60));e.innerHTML=r}}break;case"children":"string"==typeof a?Cr(e,a):("number"==typeof a||"bigint"==typeof a)&&Cr(e,""+a);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nr.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"==typeof(s=null!=(s=e[Vt]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!=typeof a)?r in e?e[r]=a:!0===a?e.setAttribute(r,""):dr(e,r,a):("function"!=typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,a,n)))}}function fh(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var a,n=!1,s=!1;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(null!=o)switch(a){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(le(137,t));default:hh(e,t,a,o,r,null)}}return s&&hh(e,t,"srcSet",r.srcSet,r,null),void(n&&hh(e,t,"src",r.src,r,null));case"input":Yu("invalid",e);var i=a=o=s=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(null!=d)switch(n){case"name":s=d;break;case"type":o=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":a=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(le(137,t));break;default:hh(e,t,n,d,r,null)}}return void vr(e,a,i,l,c,o,s,!1);case"select":for(s in Yu("invalid",e),n=o=a=null,r)if(r.hasOwnProperty(s)&&null!=(i=r[s]))switch(s){case"value":a=i;break;case"defaultValue":o=i;break;case"multiple":n=i;default:hh(e,t,s,i,r,null)}return t=a,r=o,e.multiple=!!n,void(null!=t?jr(e,!!n,t,!1):null!=r&&jr(e,!!n,r,!0));case"textarea":for(o in Yu("invalid",e),a=s=n=null,r)if(r.hasOwnProperty(o)&&null!=(i=r[o]))switch(o){case"value":n=i;break;case"defaultValue":s=i;break;case"children":a=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(le(91));break;default:hh(e,t,o,i,r,null)}return void Sr(e,n,s,a);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(n=r[l]))if("selected"===l)e.selected=n&&"function"!=typeof n&&"symbol"!=typeof n;else hh(e,t,l,n,r,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Yu(Qu[n],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(le(137,t));default:hh(e,t,c,n,r,null)}return;default:if(Br(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(n=r[d])&&ph(e,t,d,n,r,void 0));return}}for(i in r)r.hasOwnProperty(i)&&(null!=(n=r[i])&&hh(e,t,i,n,r,null))}function gh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,bh=null;function xh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wh=null;var jh="function"==typeof setTimeout?setTimeout:void 0,Nh="function"==typeof clearTimeout?clearTimeout:void 0,Sh="function"==typeof Promise?Promise:void 0,Ch="function"==typeof queueMicrotask?queueMicrotask:void 0!==Sh?function(e){return Sh.resolve(null).then(e).catch(_h)}:jh;function _h(e){setTimeout(function(){throw e})}function Eh(e){return"head"===e}function Ph(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)||"/&"===r){if(0===a)return e.removeChild(n),void Kp(t);a--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)a++;else if("html"===r)$h(e.ownerDocument.documentElement);else if("head"===r){$h(r=e.ownerDocument.head);for(var s=r.firstChild;s;){var o=s.nextSibling,i=s.nodeName;s[Jt]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===s.rel.toLowerCase()||r.removeChild(s),s=o}}else"body"===r&&$h(e.ownerDocument.body);r=n}while(r);Kp(t)}function Bh(e,t){var r=e;e=0;do{var a=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=a}while(r)}function Oh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Oh(r),Xt(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Th(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ih(e.nextSibling)))return null}return e}function Rh(e){return"$?"===e.data||"$~"===e.data}function Ah(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ih(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lh=null;function zh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Ih(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Dh(e,t,r){switch(t=xh(r),e){case"html":if(!(e=t.documentElement))throw Error(le(452));return e;case"head":if(!(e=t.head))throw Error(le(453));return e;case"body":if(!(e=t.body))throw Error(le(454));return e;default:throw Error(le(451))}}function $h(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xt(e)}var Uh=new Map,qh=new Set;function Fh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vh=ze.d;ze.d={f:function(){var e=Vh.f(),t=tu();return e||t},r:function(e){var t=Zt(e);null!==t&&5===t.tag&&"form"===t.type?sl(t):Vh.r(e)},D:function(e){Vh.D(e),Kh("dns-prefetch",e,null)},C:function(e,t){Vh.C(e,t),Kh("preconnect",e,t)},L:function(e,t,r){Vh.L(e,t,r);var a=Hh;if(a&&e&&t){var n='link[rel="preload"][as="'+yr(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+yr(r.imageSrcSet)+'"]',"string"==typeof r.imageSizes&&(n+='[imagesizes="'+yr(r.imageSizes)+'"]')):n+='[href="'+yr(e)+'"]';var s=n;switch(t){case"style":s=Wh(e);break;case"script":s=Xh(e)}Uh.has(s)||(e=ge({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Uh.set(s,e),null!==a.querySelector(n)||"style"===t&&a.querySelector(Qh(s))||"script"===t&&a.querySelector(Yh(s))||(fh(t=a.createElement("link"),"link",e),rr(t),a.head.appendChild(t)))}},m:function(e,t){Vh.m(e,t);var r=Hh;if(r&&e){var a=t&&"string"==typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+yr(a)+'"][href="'+yr(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xh(e)}if(!Uh.has(s)&&(e=ge({rel:"modulepreload",href:e},t),Uh.set(s,e),null===r.querySelector(n))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yh(s)))return}fh(a=r.createElement("link"),"link",e),rr(a),r.head.appendChild(a)}}},X:function(e,t){Vh.X(e,t);var r=Hh;if(r&&e){var a=tr(r).hoistableScripts,n=Xh(e),s=a.get(n);s||((s=r.querySelector(Yh(n)))||(e=ge({src:e,async:!0},t),(t=Uh.get(n))&&rp(e,t),rr(s=r.createElement("script")),fh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}},S:function(e,t,r){Vh.S(e,t,r);var a=Hh;if(a&&e){var n=tr(a).hoistableStyles,s=Wh(e);t=t||"default";var o=n.get(s);if(!o){var i={loading:0,preload:null};if(o=a.querySelector(Qh(s)))i.loading=5;else{e=ge({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Uh.get(s))&&tp(e,r);var l=o=a.createElement("link");rr(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,ep(o,t,a)}o={type:"stylesheet",instance:o,count:1,state:i},n.set(s,o)}}},M:function(e,t){Vh.M(e,t);var r=Hh;if(r&&e){var a=tr(r).hoistableScripts,n=Xh(e),s=a.get(n);s||((s=r.querySelector(Yh(n)))||(e=ge({src:e,async:!0,type:"module"},t),(t=Uh.get(n))&&rp(e,t),rr(s=r.createElement("script")),fh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}};var Hh="undefined"==typeof document?null:document;function Kh(e,t,r){var a=Hh;if(a&&"string"==typeof t&&t){var n=yr(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"==typeof r&&(n+='[crossorigin="'+r+'"]'),qh.has(n)||(qh.add(n),e={rel:e,crossOrigin:r,href:t},null===a.querySelector(n)&&(fh(t=a.createElement("link"),"link",e),rr(t),a.head.appendChild(t)))}}function Gh(e,t,r,a){var n,s,o,i,l=(l=We.current)?Fh(l):null;if(!l)throw Error(le(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof r.precedence&&"string"==typeof r.href?(t=Wh(r.href),(a=(r=tr(l).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"==typeof r.href&&"string"==typeof r.precedence){e=Wh(r.href);var c=tr(l).hoistableStyles,d=c.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=l.querySelector(Qh(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Uh.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Uh.set(e,r),c||(n=l,s=e,o=r,i=d.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=n.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),fh(s,"link",o),rr(s),n.head.appendChild(s))))),t&&null===a)throw Error(le(528,""));return d}if(t&&null!==a)throw Error(le(529,""));return null;case"script":return t=r.async,"string"==typeof(r=r.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xh(r),(a=(r=tr(l).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},r.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(le(444,e))}}function Wh(e){return'href="'+yr(e)+'"'}function Qh(e){return'link[rel="stylesheet"]['+e+"]"}function Jh(e){return ge({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+yr(e)+'"]'}function Yh(e){return"script[async]"+e}function Zh(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+yr(r.href)+'"]');if(a)return t.instance=a,rr(a),a;var n=ge({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return rr(a=(e.ownerDocument||e).createElement("style")),fh(a,"style",n),ep(a,r.precedence,e),t.instance=a;case"stylesheet":n=Wh(r.href);var s=e.querySelector(Qh(n));if(s)return t.state.loading|=4,t.instance=s,rr(s),s;a=Jh(r),(n=Uh.get(n))&&tp(a,n),rr(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",a),t.state.loading|=4,ep(s,r.precedence,e),t.instance=s;case"script":return s=Xh(r.src),(n=e.querySelector(Yh(s)))?(t.instance=n,rr(n),n):(a=r,(n=Uh.get(s))&&rp(a=ge({},r),n),rr(n=(e=e.ownerDocument||e).createElement("script")),fh(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(le(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,ep(a,r.precedence,e));return t.instance}function ep(e,t,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,o=0;o<a.length;o++){var i=a[o];if(i.dataset.precedence===t)s=i;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function rp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ap=null;function np(e,t,r){if(null===ap){var a=new Map,n=ap=new Map;n.set(r,a)}else(a=(n=ap).get(r))||(a=new Map,n.set(r,a));if(a.has(e))return a;for(a.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[Jt]||s[Ft]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var i=a.get(o);i?i.push(s):a.set(o,[s])}}return a}function sp(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function op(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ip=0;function lp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cp=null;function dp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cp=new Map,t.forEach(up,e),cp=null,lp.call(e))}function up(e,t){if(!(4&t.state.loading)){var r=cp.get(e);if(r)var a=r.get(null);else{r=new Map,cp.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var o=n[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),a=o)}a&&r.set(null,a)}o=(n=t.instance).getAttribute("data-precedence"),(s=r.get(o)||a)===a&&r.set(null,n),r.set(o,n),this.count++,a=lp.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var hp={$$typeof:je,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function pp(e,t,r,a,n,s,o,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fp(e,t,r,a,n,s,o,i,l,c,d,u){return e=new pp(e,t,r,o,l,c,d,u,i),t=1,!0===s&&(t|=24),s=$n(3,null,null,t),e.current=s,s.stateNode=e,(t=Us()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:r,cache:t},yo(s),e}function gp(e){return e?e=Mn:Mn}function mp(e,t,r,a,n,s){n=gp(n),null===a.context?a.context=n:a.pendingContext=n,(a=vo(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(r=wo(e,a,t))&&(Jd(r,0,t),jo(r,e,t))}function bp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function xp(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function yp(e){if(13===e.tag||31===e.tag){var t=In(e,67108864);null!==t&&Jd(t,0,67108864),xp(e,67108864)}}function kp(e){if(13===e.tag||31===e.tag){var t=Wd(),r=In(e,t=Mt(t));null!==r&&Jd(r,0,t),xp(e,t)}}var vp=!0;function wp(e,t,r,a){var n=Le.T;Le.T=null;var s=ze.p;try{ze.p=2,Np(e,t,r,a)}finally{ze.p=s,Le.T=n}}function jp(e,t,r,a){var n=Le.T;Le.T=null;var s=ze.p;try{ze.p=8,Np(e,t,r,a)}finally{ze.p=s,Le.T=n}}function Np(e,t,r,a){if(vp){var n=Sp(a);if(null===n)ah(e,t,a,Cp,r),zp(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Bp=Mp(Bp,e,t,r,a,n),!0;case"dragenter":return Op=Mp(Op,e,t,r,a,n),!0;case"mouseover":return Tp=Mp(Tp,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Rp.set(s,Mp(Rp.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,Ap.set(s,Mp(Ap.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(zp(e,a),4&t&&-1<Lp.indexOf(e)){for(;null!==n;){var s=Zt(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Et(s.pendingLanes);if(0!==o){var i=s;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var l=1<<31-wt(o);i.entanglements[1]|=l,o&=~l}zu(s),!(6&gd)&&(Ld=dt()+500,Mu(0))}}break;case 31:case 13:null!==(i=In(s,2))&&Jd(i,0,2),tu(),xp(s,2)}if(null===(s=Sp(a))&&ah(e,t,a,Cp,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else ah(e,t,a,null,r)}}function Sp(e){return _p(e=Lr(e))}var Cp=null;function _p(e){if(Cp=null,null!==(e=Yt(e))){var t=de(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=ue(t)))return e;e=null}else if(31===r){if(null!==(e=he(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cp=e,null}function Ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case ht:return 2;case pt:return 8;case ft:case gt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Pp=!1,Bp=null,Op=null,Tp=null,Rp=new Map,Ap=new Map,Ip=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":Bp=null;break;case"dragenter":case"dragleave":Op=null;break;case"mouseover":case"mouseout":Tp=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(t.pointerId)}}function Mp(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Zt(t))&&yp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Dp(e){var t=Yt(e.target);if(null!==t){var r=de(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ue(r)))return e.blockedOn=t,void Ut(e.priority,function(){kp(r)})}else if(31===t){if(null!==(t=he(r)))return e.blockedOn=t,void Ut(e.priority,function(){kp(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function $p(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sp(e.nativeEvent);if(null!==r)return null!==(t=Zt(r))&&yp(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);Ir=a,r.target.dispatchEvent(a),Ir=null,t.shift()}return!0}function Up(e,t,r){$p(e)&&r.delete(t)}function qp(){Pp=!1,null!==Bp&&$p(Bp)&&(Bp=null),null!==Op&&$p(Op)&&(Op=null),null!==Tp&&$p(Tp)&&(Tp=null),Rp.forEach(Up),Ap.forEach(Up)}function Fp(e,t){e.blockedOn===t&&(e.blockedOn=null,Pp||(Pp=!0,se.unstable_scheduleCallback(se.unstable_NormalPriority,qp)))}var Vp=null;function Hp(e){Vp!==e&&(Vp=e,se.unstable_scheduleCallback(se.unstable_NormalPriority,function(){Vp===e&&(Vp=null);for(var t=0;t<e.length;t+=3){var r=e[t],a=e[t+1],n=e[t+2];if("function"!=typeof a){if(null===_p(a||r))continue;break}var s=Zt(r);null!==s&&(e.splice(t,3),t-=3,al(s,{pending:!0,data:n,method:r.method,action:a},a,n))}}))}function Kp(e){function t(t){return Fp(t,e)}null!==Bp&&Fp(Bp,e),null!==Op&&Fp(Op,e),null!==Tp&&Fp(Tp,e),Rp.forEach(t),Ap.forEach(t);for(var r=0;r<Ip.length;r++){var a=Ip[r];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ip.length&&null===(r=Ip[0]).blockedOn;)Dp(r),null===r.blockedOn&&Ip.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<r.length;a+=3){var n=r[a],s=r[a+1],o=n[Vt]||null;if("function"==typeof s)o||Hp(r);else if(o){var i=null;if(s&&s.hasAttribute("formAction")){if(n=s,o=s[Vt]||null)i=o.formAction;else if(null!==_p(n))continue}else i=o.action;"function"==typeof i?r[a+1]=i:(r.splice(a,3),a-=3),Hp(r)}}}function Gp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return n=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==n&&(n(),n=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==n&&(n(),n=null)}}}function Wp(e){this._internalRoot=e}function Qp(e){this._internalRoot=e}Qp.prototype.render=Wp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(le(409));mp(t.current,Wd(),e,t,null,null)},Qp.prototype.unmount=Wp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),tu(),t[Ht]=null}},Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=$t();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ip.length&&0!==t&&t<Ip[r].priority;r++);Ip.splice(r,0,e),0===r&&Dp(e)}};var Jp=oe.version;if("19.2.4"!==Jp)throw Error(le(527,Jp,"19.2.4"));ze.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(le(188));throw e=Object.keys(e).join(","),Error(le(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=de(e)))throw Error(le(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(a=n.return)){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return pe(n),e;if(s===a)return pe(n),t;s=s.sibling}throw Error(le(188))}if(r.return!==a.return)r=n,a=s;else{for(var o=!1,i=n.child;i;){if(i===r){o=!0,r=n,a=s;break}if(i===a){o=!0,a=n,r=s;break}i=i.sibling}if(!o){for(i=s.child;i;){if(i===r){o=!0,r=s,a=n;break}if(i===a){o=!0,a=s,r=n;break}i=i.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==a)throw Error(le(190))}if(3!==r.tag)throw Error(le(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?fe(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Le,reconcilerVersion:"19.2.4"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{yt=Yp.inject(Xp),kt=Yp}catch(Dy){}}H.createRoot=function(e,t){if(!ce(e))throw Error(le(299));var r=!1,a="",n=Cl,s=_l,o=El;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=fp(e,1,!1,null,0,r,a,null,n,s,o,Gp),e[Ht]=t.current,th(e),new Wp(t)},H.hydrateRoot=function(e,t,r){if(!ce(e))throw Error(le(299));var a=!1,n="",s=Cl,o=_l,i=El,l=null;return null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(o=r.onCaughtError),void 0!==r.onRecoverableError&&(i=r.onRecoverableError),void 0!==r.formState&&(l=r.formState)),(t=fp(e,1,!0,t,0,a,n,l,s,o,i,Gp)).context=gp(null),r=t.current,(n=vo(a=Mt(a=Wd()))).callback=null,wo(r,n,a),r=a,t.current.lanes=r,At(t,r),zu(t),e[Ht]=t.current,th(e),new Qp(t)},H.version="19.2.4",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(Dy){}}(),V.exports=H;const Zp=e(V.exports);var ef=(e=>(e.PENDING="PENDING",e.ONGOING="ONGOING",e.SERVED="SERVED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(ef||{});
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),rf=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var af={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},sf=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:s,iconNode:o,...i},l)=>q.createElement("svg",{ref:l,...af,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:tf("lucide",n),...!s&&!nf(i)&&{"aria-hidden":"true"},...i},[...o.map(([e,t])=>q.createElement(e,t)),...Array.isArray(s)?s:[s]])),of=(e,t)=>{const r=q.forwardRef(({className:r,...a},n)=>{return q.createElement(sf,{ref:n,iconNode:t,className:tf(`lucide-${s=rf(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...a});var s});return r.displayName=rf(e),r},lf=of("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),cf=of("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),df=of("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),uf=of("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),hf=of("bluetooth-connected",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}],["line",{x1:"18",x2:"21",y1:"12",y2:"12",key:"1rsjjs"}],["line",{x1:"3",x2:"6",y1:"12",y2:"12",key:"11yl8c"}]]),pf=of("bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]),ff=of("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),gf=of("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),mf=of("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),bf=of("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),xf=of("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),yf=of("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]),kf=of("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),vf=of("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),wf=of("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jf=of("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Nf=of("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Sf=of("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Cf=of("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),_f=of("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),Ef=of("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Pf=of("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Bf=of("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Of=of("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Tf=of("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Rf=of("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Af=of("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),If=of("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Lf=of("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),zf=of("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Mf=of("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Df=of("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),$f=of("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Uf=of("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),qf=of("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Ff=of("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Vf=of("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),Hf=of("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Kf=of("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gf=of("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),Wf=of("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Qf=of("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Jf=of("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Xf=of("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Yf=of("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Zf=of("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),eg=of("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),tg=of("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rg=of("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ag=of("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),ng=of("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),sg=of("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),og=of("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ig=of("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),lg=of("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),cg=of("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),dg=of("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ug=of("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),hg=of("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),pg=of("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),fg=of("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),gg=of("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),mg=of("thermometer-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 8a4 4 0 0 0-1.645 7.647",key:"wz5p04"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}]]),bg=of("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),xg=of("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),yg=of("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),kg=of("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vg=of("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),wg=of("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),jg=of("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Ng=of("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sg=of("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Cg=({restaurants:e,cart:t,orders:r,onAddToCart:a,onRemoveFromCart:n,onPlaceOrder:s,locationName:i,tableNo:l,onLoginClick:c,areaType:d="MULTI",allRestaurants:u=[]})=>{var h,p,f,g,m,b,x;const[y,k]=q.useState(e),[v,w]=q.useState(r),[j,N]=q.useState(""),[S,C]=q.useState(!1);q.useEffect(()=>{k(e)},[e]),q.useEffect(()=>{w(r)},[r]);const[_,E]=q.useState(null),[P,B]=q.useState(""),[O,T]=q.useState(void 0),[R,A]=q.useState(""),[I,L]=q.useState({}),[z,M]=q.useState(3),[D,$]=q.useState(""),[U,F]=q.useState(()=>{try{const e=localStorage.getItem("qs_dismissed_orders");return e?JSON.parse(e):[]}catch{return[]}}),V=q.useRef({}),H=t.reduce((e,t)=>e+t.price*t.quantity,0),K=q.useMemo(()=>t.filter(e=>{const t=u.find(t=>t.id===e.restaurantId);return t&&!1===t.isOnline}),[t,u]);q.useEffect(()=>{if("SINGLE"===d)return;const e=()=>{const e=window.scrollY+180;for(const t of y){const r=V.current[t.id];r&&r.offsetTop<=e&&r.offsetTop+r.offsetHeight>e&&N(t.id)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[y,d]),q.useEffect(()=>{!(y.length>0)||j&&y.find(e=>e.id===j)||N(y[0].id)},[y,j]);const G=(e,t)=>{const r=I[e.name]||{name:e.name,price:e.price,quantity:0},a=Math.max(0,Math.min(e.maxQuantity||99,r.quantity+t));if(0===a){const t={...I};delete t[e.name],L(t)}else L({...I,[e.name]:{name:e.name,price:e.price,quantity:a}})},W=()=>Object.values(I).reduce((e,t)=>e+t.price*t.quantity,0),Q=q.useMemo(()=>{const e=Date.now()-18e5;return v.filter(t=>{if(!(t.locationName===i&&t.tableNumber===l))return!1;return!U.includes(t.id)&&(t.status!==ef.COMPLETED&&(t.status===ef.SERVED||(t.status!==ef.CANCELLED||t.timestamp>e)))})},[v,i,l,U]);return o.jsxs("div",{className:"relative min-h-screen pb-28 bg-gray-50 dark:bg-gray-900 transition-colors",children:["SINGLE"!==d&&o.jsxs("div",{className:"sticky top-16 z-40 bg-white/95 dark:bg-gray-800/95 backdrop-blur-md border-b dark:border-gray-700 shadow-md",children:[o.jsxs("div",{className:"px-4 py-2 border-b dark:border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vg,{size:14,className:"text-orange-500"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] dark:text-gray-300",children:"Available Kitchens"})]}),o.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[y.length," Stores Online"]})]}),o.jsx("nav",{className:"overflow-x-auto hide-scrollbar flex items-center px-4 py-3 gap-3",children:y.map(e=>o.jsxs("button",{onClick:()=>(e=>{N(e);const t=V.current[e];if(t){const e=140,r=document.body.getBoundingClientRect().top,a=t.getBoundingClientRect().top-r-e;window.scrollTo({top:a,behavior:"smooth"})}})(e.id),className:"whitespace-nowrap flex items-center gap-2 px-4 py-2 rounded-xl text-[11px] font-black uppercase tracking-tight transition-all duration-300 border-2 "+(j===e.id?"bg-orange-500 border-orange-500 text-white shadow-lg shadow-orange-100 dark:shadow-none scale-105":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-orange-200"),children:[o.jsx("img",{src:e.logo,className:"w-4 h-4 rounded-full object-cover"}),e.name]},e.id))})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-4",children:[o.jsxs("div",{className:"mb-4 px-3 py-2 bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700 shadow-sm flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qf,{size:14,className:"text-orange-500 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Serving At"}),o.jsx("h2",{className:"text-[11px] font-black dark:text-white leading-tight uppercase tracking-tight truncate",children:i||"QuickServe Hub"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[l&&o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg font-black text-[10px] uppercase tracking-tighter",children:[o.jsx(Mf,{size:12,className:"text-orange-500"}),"Table ",l]}),o.jsx("button",{onClick:()=>{M(e=>3===e?2:3)},className:"p-2 bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-300 rounded-lg hover:text-orange-500 transition-colors flex items-center gap-1.5 border dark:border-gray-600",children:3===z?o.jsx(qf,{size:14}):o.jsx(zf,{size:14})})]})]}),Q.length>0&&o.jsx("div",{className:"mb-6 space-y-2",children:Q.map(e=>o.jsxs("div",{className:"relative p-4 rounded-2xl border flex flex-col gap-2 transition-all shadow-sm "+(e.status===ef.CANCELLED?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/30":"bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-900/30"),children:[o.jsx("button",{onClick:()=>(e=>{const t=[...U,e];F(t),localStorage.setItem("qs_dismissed_orders",JSON.stringify(t))})(e.id),className:"absolute top-3 right-3 p-1.5 hover:bg-black/5 dark:hover:bg-white/5 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ng,{size:14})}),o.jsx("div",{className:"flex items-center justify-between pr-8",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full "+(e.status===ef.CANCELLED?"bg-red-500":e.status===ef.SERVED?"bg-green-500":"bg-orange-500 animate-pulse")}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest "+(e.status===ef.CANCELLED?"text-red-700 dark:text-red-400":e.status===ef.SERVED?"text-green-700 dark:text-green-400":"text-orange-800 dark:text-orange-200"),children:e.status===ef.CANCELLED?`Rejected: ${e.id}`:e.status===ef.SERVED?`Served: ${e.id} - Please pay at counter`:`Preparing Your Meal: ${e.id}`})]})}),e.status===ef.CANCELLED&&o.jsx("div",{className:"pl-4 border-l-2 border-red-200 dark:border-red-800",children:o.jsxs("p",{className:"text-[10px] font-bold text-red-800 dark:text-red-300",children:["Reason: ",e.rejectionReason]})})]},e.id))}),o.jsx("div",{className:"space-y-12",children:y.map(e=>o.jsxs("section",{id:e.id,ref:t=>{V.current[e.id]=t},className:"SINGLE"===d?"mt-4":"scroll-mt-48",children:[o.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden border dark:border-gray-700 shadow-sm",children:o.jsx("img",{src:e.logo,alt:e.name,className:"w-full h-full object-cover"})}),o.jsx("h2",{className:"text-sm font-black text-gray-900 dark:text-white leading-tight tracking-tight uppercase",children:e.name})]})}),o.jsx("div",{className:"grid gap-3 md:gap-6 "+(3===z?"grid-cols-3":"grid-cols-2"),children:e.menu.filter(e=>!e.isArchived).map(t=>o.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100 dark:bg-gray-700",children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute top-2 left-2 bg-black/50 backdrop-blur-md px-2 py-0.5 rounded-lg text-[8px] font-black text-white shadow-sm uppercase tracking-widest",children:t.category})]}),o.jsxs("div",{className:"p-2 md:p-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("h4",{className:"font-black text-gray-900 dark:text-white leading-tight line-clamp-1 mb-1 "+(3===z?"text-[10px] md:text-sm":"text-xs md:text-base"),children:t.name}),o.jsxs("p",{className:"font-black text-orange-500 text-xs md:text-lg",children:["RM",t.price.toFixed(2)]})]}),o.jsx("button",{onClick:()=>((e,t)=>{var r,n,s,o,i;L({}),e.sizes&&e.sizes.length>0||e.tempOptions&&e.tempOptions.enabled||e.otherVariantsEnabled&&e.otherVariants&&e.otherVariants.length>0||e.addOns&&e.addOns.length>0?(E({item:e,resId:t}),B((null==(n=null==(r=e.sizes)?void 0:r[0])?void 0:n.name)||""),T((null==(s=e.tempOptions)?void 0:s.enabled)?"Hot":void 0),A(e.otherVariantsEnabled&&(null==(i=null==(o=e.otherVariants)?void 0:o[0])?void 0:i.name)||"")):a({...e,quantity:1,restaurantId:t})})(t,e.id),className:"mt-auto w-full py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black uppercase tracking-tighter hover:bg-orange-500 dark:hover:bg-orange-500 hover:text-white transition-all active:scale-95 shadow-sm text-[9px] md:text-xs",children:"Add to Order"})]})]},t.id))})]},e.id))})]}),_&&o.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-sm rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in fade-in duration-300",children:[o.jsxs("div",{className:"relative h-48",children:[o.jsx("img",{src:_.item.image,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsx("button",{onClick:()=>E(null),className:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-md text-white rounded-full hover:bg-white/40 transition-colors",children:o.jsx(Ng,{size:20})}),o.jsxs("div",{className:"absolute bottom-6 left-6",children:[o.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:_.item.name}),o.jsx("p",{className:"text-[10px] text-orange-300 font-bold uppercase tracking-[0.3em]",children:_.item.category})]})]}),o.jsx("div",{className:"p-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:o.jsxs("div",{className:"space-y-6",children:[_.item.sizes&&_.item.sizes.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Choose Portion"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:_.item.sizes.map(e=>o.jsxs("button",{onClick:()=>B(e.name),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(P===e.name?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 shadow-lg":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[o.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:e.name}),o.jsxs("p",{className:"font-black text-sm",children:["+",e.price>0?`RM${e.price.toFixed(2)}`:"FREE"]})]},e.name))})]}),_.item.otherVariantsEnabled&&_.item.otherVariants&&_.item.otherVariants.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:_.item.otherVariantName||"Additional Options"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>A(""),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(""===R?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[o.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:"None"}),o.jsx("p",{className:"font-black text-sm",children:"Default"})]}),_.item.otherVariants.map(e=>o.jsxs("button",{onClick:()=>A(e.name),className:"p-4 rounded-2xl border-2 text-left transition-all duration-300 "+(R===e.name?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 shadow-lg":"border-gray-50 dark:border-gray-700 text-gray-500 dark:text-gray-400"),children:[o.jsx("p",{className:"text-[10px] font-black uppercase tracking-tighter mb-1",children:e.name}),o.jsxs("p",{className:"font-black text-sm",children:["+",e.price>0?`RM${e.price.toFixed(2)}`:"FREE"]})]},e.name))]})]}),(null==(h=_.item.tempOptions)?void 0:h.enabled)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Temperature"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>T("Hot"),className:"flex-1 py-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all "+("Hot"===O?"border-orange-500 bg-orange-50 text-orange-600":"border-gray-50 text-gray-500"),children:[o.jsx(mg,{size:20,className:"text-orange-500"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Hot"})]}),o.jsxs("button",{onClick:()=>T("Cold"),className:"flex-1 py-4 rounded-2xl border-2 flex flex-col items-center gap-2 transition-all "+("Cold"===O?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-50 text-gray-500"),children:[o.jsx($f,{size:20,className:"text-blue-500"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cold"})]})]})]}),_.item.addOns&&_.item.addOns.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-3 ml-1",children:"Add-Ons"}),o.jsx("div",{className:"space-y-3",children:_.item.addOns.map((e,t)=>{const r=I[e.name],a=(null==r?void 0:r.quantity)||0;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-black text-xs dark:text-white",children:e.name}),o.jsxs("p",{className:"text-[9px] text-orange-500 font-black",children:["+RM",e.price.toFixed(2)]}),e.required&&o.jsx("span",{className:"text-[8px] font-black text-red-500 uppercase tracking-widest",children:"Required"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>G(e,-1),className:"p-1.5 bg-white dark:bg-gray-800 rounded-lg text-gray-500 hover:bg-orange-500 hover:text-white transition-all",disabled:0===a,children:o.jsx(Yf,{size:14})}),o.jsx("span",{className:"font-black text-xs w-6 text-center dark:text-white",children:a}),o.jsx("button",{onClick:()=>G(e,1),className:"p-1.5 bg-white dark:bg-gray-800 rounded-lg text-gray-500 hover:bg-orange-500 hover:text-white transition-all",disabled:a>=(e.maxQuantity||99),children:o.jsx(tg,{size:14})})]})]},t)})})]})]})}),o.jsx("div",{className:"p-8 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80",children:o.jsxs("div",{className:"flex items-center justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Total"}),o.jsxs("p",{className:"text-2xl font-black dark:text-white",children:["RM",(_.item.price+((null==(f=null==(p=_.item.sizes)?void 0:p.find(e=>e.name===P))?void 0:f.price)||0)+("Hot"===O?(null==(g=_.item.tempOptions)?void 0:g.hot)||0:"Cold"===O&&(null==(m=_.item.tempOptions)?void 0:m.cold)||0)+((null==(x=null==(b=_.item.otherVariants)?void 0:b.find(e=>e.name===R))?void 0:x.price)||0)+W()).toFixed(2)]})]}),o.jsx("button",{onClick:()=>{var e,t,r,n;if(!_)return;const{item:s,resId:o}=_;let i=s.price;if(P){const t=null==(e=s.sizes)?void 0:e.find(e=>e.name===P);t&&(i+=t.price)}if("Hot"===O&&(null==(t=s.tempOptions)?void 0:t.hot)&&(i+=s.tempOptions.hot),"Cold"===O&&(null==(r=s.tempOptions)?void 0:r.cold)&&(i+=s.tempOptions.cold),R){const e=null==(n=s.otherVariants)?void 0:n.find(e=>e.name===R);e&&(i+=e.price)}i+=W();const l={id:s.id,name:s.name,description:s.description,price:i,image:s.image,category:s.category,isArchived:s.isArchived,sizes:s.sizes,otherVariantName:s.otherVariantName,otherVariants:s.otherVariants,otherVariantsEnabled:s.otherVariantsEnabled,tempOptions:s.tempOptions,addOns:s.addOns,quantity:1,restaurantId:o,selectedSize:P,selectedTemp:O,selectedOtherVariant:R,selectedAddOns:Object.values(I)};a(l),E(null),L({})},className:"flex-1 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl hover:bg-orange-600 transition-all active:scale-95",children:"Add to Cart"})]})})]})}),t.length>0&&o.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-[340px] px-4 z-50",children:o.jsxs("button",{onClick:()=>C(!0),className:"w-full py-3 px-4 rounded-2xl shadow-2xl flex items-center justify-between transition-all border-2 "+(K.length>0?"bg-red-600 text-white border-red-400":"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-orange-500"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-xl bg-orange-500 text-white flex items-center justify-center font-black text-sm shadow-lg",children:t.length}),o.jsx("span",{className:"font-black text-[10px] uppercase tracking-widest",children:"View Tray"})]}),o.jsxs("span",{className:"font-black text-lg",children:["RM",H.toFixed(2)]})]})}),S&&o.jsx("div",{className:"fixed inset-0 z-[80] bg-black/70 backdrop-blur-md flex justify-end",children:o.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 h-full flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[o.jsx("h2",{className:"text-sm font-black uppercase tracking-widest",children:"Your Tray"}),o.jsx("button",{onClick:()=>C(!1),className:"p-3",children:o.jsx(Ng,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:t.map((e,t)=>o.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl border",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-gray-200 dark:bg-gray-700 shrink-0",children:o.jsx("img",{src:e.image||"https://picsum.photos/seed/default/100/100",alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://picsum.photos/seed/default/100/100"}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-black text-sm uppercase",children:e.name}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.selectedSize&&o.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded",children:e.selectedSize}),e.selectedOtherVariant&&o.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-purple-100 text-purple-600 rounded",children:e.selectedOtherVariant}),e.selectedTemp&&o.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 rounded "+("Hot"===e.selectedTemp?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"),children:e.selectedTemp})]}),e.selectedAddOns&&e.selectedAddOns.length>0&&o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Add-ons:"}),e.selectedAddOns.map((e,t)=>o.jsxs("div",{className:"flex justify-between text-[9px] pl-2 border-l-2 border-orange-200",children:[o.jsxs("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:["x",e.quantity," ",e.name]}),o.jsxs("span",{className:"font-black text-orange-500",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))]})]}),o.jsxs("div",{className:"text-right min-w-[80px]",children:[o.jsxs("p",{className:"font-black text-orange-500 text-xs",children:["RM",(e.price*e.quantity).toFixed(2)]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[o.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 bg-white dark:bg-gray-700 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-all",children:o.jsx(Yf,{size:12})}),o.jsx("span",{className:"font-black text-xs w-4 text-center dark:text-white",children:e.quantity}),o.jsx("button",{onClick:()=>a(e),className:"p-1.5 bg-white dark:bg-gray-700 rounded-lg text-green-500 hover:bg-green-500 hover:text-white transition-all",children:o.jsx(tg,{size:12})})]})]})]},t))}),o.jsxs("div",{className:"p-8 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Subtotal"}),o.jsxs("span",{className:"font-black dark:text-white",children:["RM",H.toFixed(2)]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Special Instructions"}),o.jsx("textarea",{value:D,onChange:e=>$(e.target.value),placeholder:"Any special requests? (e.g., no spicy, extra sauce)",className:"w-full p-3 bg-white dark:bg-gray-700 border dark:border-gray-600 rounded-xl text-xs font-medium dark:text-white resize-none",rows:2})]}),o.jsxs("button",{onClick:()=>{s(D),C(!1),$("")},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-orange-600 transition-all active:scale-95 shadow-lg",children:["Place Order  RM",H.toFixed(2)]})]})]})}),o.jsx("style",{children:"\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 4px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #e5e7eb;\n          border-radius: 10px;\n        }\n      "})]})},_g=async(e,t="quickserve",r="uploads")=>{const a=new FormData;a.append("file",e),a.append("filename",`${r}/${Date.now()}-${e.name}`);try{const e=await fetch("/api/upload",{method:"POST",body:a}),t=await e.json();if(!e.ok)throw new Error(t.error||"Upload failed");return t.url}catch(n){throw n}};
/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Eg(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}function Pg(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(My){s(My)}}function i(e){try{l(a.throw(e))}catch(My){s(My)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((a=a.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class Bg extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Og extends Bg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tg extends Bg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rg extends Bg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ag,Ig;(Ig=Ag||(Ag={})).Any="any",Ig.ApNortheast1="ap-northeast-1",Ig.ApNortheast2="ap-northeast-2",Ig.ApSouth1="ap-south-1",Ig.ApSoutheast1="ap-southeast-1",Ig.ApSoutheast2="ap-southeast-2",Ig.CaCentral1="ca-central-1",Ig.EuCentral1="eu-central-1",Ig.EuWest1="eu-west-1",Ig.EuWest2="eu-west-2",Ig.EuWest3="eu-west-3",Ig.SaEast1="sa-east-1",Ig.UsEast1="us-east-1",Ig.UsWest1="us-west-1",Ig.UsWest2="us-west-2";class Lg{constructor(e,{headers:t={},customFetch:r,region:a=Ag.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Pg(this,arguments,void 0,function*(e,t={}){var r;let a,n;try{const{headers:s,method:o,body:i,signal:l,timeout:c}=t;let d={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let p;u&&"any"!==u&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=i):"string"==typeof i?(d["Content-Type"]="text/plain",p=i):"undefined"!=typeof FormData&&i instanceof FormData?p=i:(d["Content-Type"]="application/json",p=JSON.stringify(i)):p=!i||"string"==typeof i||"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer||"undefined"!=typeof FormData&&i instanceof FormData?i:JSON.stringify(i);let f=l;c&&(n=new AbortController,a=setTimeout(()=>n.abort(),c),l?(f=n.signal,l.addEventListener("abort",()=>n.abort())):f=n.signal);const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:f}).catch(e=>{throw new Og(e)}),m=g.headers.get("x-relay-error");if(m&&"true"===m)throw new Tg(g);if(!g.ok)throw new Rg(g);let b,x=(null!==(r=g.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return b="application/json"===x?yield g.json():"application/octet-stream"===x||"application/pdf"===x?yield g.blob():"text/event-stream"===x?g:"multipart/form-data"===x?yield g.formData():yield g.text(),{data:b,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof Rg||s instanceof Tg?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var zg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Mg=class{constructor(e){var t,r,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,this.urlLengthLimit=null!==(a=e.urlLengthLimit)&&void 0!==a?a:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let a=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,a=null,n=null,s=e.status,o=e.statusText;if(e.ok){var i,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(a="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(i=r.headers.get("Prefer"))||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(n=parseInt(u[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(a)&&(a.length>1?(t={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,n=null,s=406,o="Not Acceptable"):a=1===a.length?a[0]:null)}else{var d;const n=await e.text();try{t=JSON.parse(n),Array.isArray(t)&&404===e.status&&(a=[],t=null,s=200,o="OK")}catch(u){404===e.status&&""===n?(s=204,o="No Content"):t={message:n}}if(t&&r.isMaybeSingle&&(null==t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,s=200,o="OK"),t&&r.shouldThrowOnError)throw new zg(t)}return{error:t,data:a,count:n,status:s,statusText:o}});return this.shouldThrowOnError||(a=a.catch(e=>{var t;let r="",a="",n="";const s=null==e?void 0:e.cause;if(s){var o,i,l,c;const t=null!==(o=null==s?void 0:s.message)&&void 0!==o?o:"",a=null!==(i=null==s?void 0:s.code)&&void 0!==i?i:"";r=`${null!==(l=null==e?void 0:e.name)&&void 0!==l?l:"FetchError"}: ${null==e?void 0:e.message}`,r+=`\n\nCaused by: ${null!==(c=null==s?void 0:s.name)&&void 0!==c?c:"Error"}: ${t}`,a&&(r+=` (${a})`),(null==s?void 0:s.stack)&&(r+=`\n${s.stack}`)}else{var d;r=null!==(d=null==e?void 0:e.stack)&&void 0!==d?d:""}const u=this.url.toString().length;return"AbortError"===(null==e?void 0:e.name)||"ABORT_ERR"===(null==e?void 0:e.code)?(n="",a="Request was aborted (timeout or manual cancellation)",u>this.urlLengthLimit&&(a+=`. Note: Your request URL is ${u} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):"HeadersOverflowError"!==(null==s?void 0:s.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null==s?void 0:s.code)||(n="",a="HTTP headers exceeded server limits (typically 16KB)",u>this.urlLengthLimit&&(a+=`. Your request URL is ${u} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:r,hint:a,code:n},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Dg=class extends Mg{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:n=a}={}){const s=n?`${n}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:a=r}={}){const n=void 0===a?"offset":`${a}.offset`,s=void 0===a?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:n=!1,format:s="text"}={}){var o;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${i};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const $g=new RegExp("[,()]");var Ug=class extends Dg{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&$g.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&$g.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a}={}){let n="";"plain"===a?n="pl":"phrase"===a?n="ph":"websearch"===a&&(n="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},qg=class{constructor(e,{headers:t={},schema:r,fetch:a,urlLengthLimit:n=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=a,this.urlLengthLimit=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:a}=null!=t?t:{},n=r?"HEAD":"GET";let s=!1;const o=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:i,headers:l}=this.cloneRequestState();return i.searchParams.set("select",o),a&&l.append("Prefer",`count=${a}`),new Ug({method:n,url:i,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var a;const{url:n,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);n.searchParams.set("columns",e.join(","))}}return new Ug({method:"POST",url:n,headers:s,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:n=!0}={}){var s;const{url:o,headers:i}=this.cloneRequestState();if(i.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&o.searchParams.set("on_conflict",t),a&&i.append("Prefer",`count=${a}`),n||i.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);o.searchParams.set("columns",e.join(","))}}return new Ug({method:"POST",url:o,headers:i,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const{url:a,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new Ug({method:"PATCH",url:a,headers:n,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const{url:r,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ug({method:"DELETE",url:r,headers:a,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Fg(e){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vg(e){var t=function(e,t){if("object"!=Fg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Fg(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fg(t)?t:t+""}function Hg(e,t,r){return(t=Vg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kg(Object(r),!0).forEach(function(t){Hg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Wg=class e{constructor(e,{headers:t={},schema:r,fetch:a,timeout:n,urlLengthLimit:s=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=s;const o=null!=a?a:globalThis.fetch;this.fetch=void 0!==n&&n>0?(e,t)=>{const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=null==t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(a),o(e,t);const n=()=>{clearTimeout(a),r.abort()};return s.addEventListener("abort",n,{once:!0}),o(e,Gg(Gg({},t),{},{signal:r.signal})).finally(()=>{clearTimeout(a),s.removeEventListener("abort",n)})}return o(e,Gg(Gg({},t),{},{signal:r.signal})).finally(()=>clearTimeout(a))}:o}from(e){if(!e||"string"!=typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new qg(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:a=!1,count:n}={}){var s;let o;const i=new URL(`${this.url}/rpc/${e}`);let l;const c=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(c)),d=r&&Object.values(t).some(c);d?(o="POST",l=t):r||a?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{i.searchParams.append(e,t)})):(o="POST",l=t);const u=new Headers(this.headers);return d?u.set("Prefer",n?`count=${n},return=minimal`:"return=minimal"):n&&u.set("Prefer",`count=${n}`),new Ug({method:o,url:i,headers:u,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class Qg{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Jg="2.0.0",Xg=Jg,Yg=1e4;var Zg,em,tm,rm,am,nm,sm,om,im,lm,cm;(em=Zg||(Zg={}))[em.connecting=0]="connecting",em[em.open=1]="open",em[em.closing=2]="closing",em[em.closed=3]="closed",(rm=tm||(tm={})).closed="closed",rm.errored="errored",rm.joined="joined",rm.joining="joining",rm.leaving="leaving",(nm=am||(am={})).close="phx_close",nm.error="phx_error",nm.join="phx_join",nm.reply="phx_reply",nm.leave="phx_leave",nm.access_token="access_token",(sm||(sm={})).websocket="websocket",(im=om||(om={})).Connecting="connecting",im.Open="open",im.Closing="closing",im.Closed="closed";class dm{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const a=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,r;const a=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},n=(new TextEncoder).encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,r){var a,n;const s=e.topic,o=null!==(a=e.ref)&&void 0!==a?a:"",i=null!==(n=e.join_ref)&&void 0!==n?n:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(i.length>255)throw new Error(`joinRef length ${i.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let p=new DataView(h),f=0;p.setUint8(f++,this.KINDS.userBroadcastPush),p.setUint8(f++,i.length),p.setUint8(f++,o.length),p.setUint8(f++,s.length),p.setUint8(f++,l.length),p.setUint8(f++,d.length),p.setUint8(f++,t),Array.from(i,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(s,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(d,e=>p.setUint8(f++,e.charCodeAt(0)));var g=new Uint8Array(h.byteLength+r.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(r),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const r=JSON.parse(e),[a,n,s,o,i]=r;return t({join_ref:a,ref:n,topic:s,event:o,payload:i})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),a=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,a)}_decodeUserBroadcast(e,t,r){const a=t.getUint8(1),n=t.getUint8(2),s=t.getUint8(3),o=t.getUint8(4);let i=this.HEADER_LENGTH+4;const l=r.decode(e.slice(i,i+a));i+=a;const c=r.decode(e.slice(i,i+n));i+=n;const d=r.decode(e.slice(i,i+s));i+=s;const u=e.slice(i,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(u)):u,p={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class um{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(cm=lm||(lm={})).abstime="abstime",cm.bool="bool",cm.date="date",cm.daterange="daterange",cm.float4="float4",cm.float8="float8",cm.int2="int2",cm.int4="int4",cm.int4range="int4range",cm.int8="int8",cm.int8range="int8range",cm.json="json",cm.jsonb="jsonb",cm.money="money",cm.numeric="numeric",cm.oid="oid",cm.reltime="reltime",cm.text="text",cm.time="time",cm.timestamp="timestamp",cm.timestamptz="timestamptz",cm.timetz="timetz",cm.tsrange="tsrange",cm.tstzrange="tstzrange";const hm=(e,t,r={})=>{var a;const n=null!==(a=r.skipTypes)&&void 0!==a?a:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=pm(a,e,t,n),r),{}):{}},pm=(e,t,r,a)=>{const n=t.find(t=>t.name===e),s=null==n?void 0:n.type,o=r[e];return s&&!a.includes(s)?fm(s,o):gm(o)},fm=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return ym(t,r)}switch(e){case lm.bool:return mm(t);case lm.float4:case lm.float8:case lm.int2:case lm.int4:case lm.int8:case lm.numeric:case lm.oid:return bm(t);case lm.json:case lm.jsonb:return xm(t);case lm.timestamp:return km(t);case lm.abstime:case lm.date:case lm.daterange:case lm.int4range:case lm.int8range:case lm.money:case lm.reltime:case lm.text:case lm.time:case lm.timestamptz:case lm.timetz:case lm.tsrange:case lm.tstzrange:default:return gm(t)}},gm=e=>e,mm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bm=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xm=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},ym=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,a=e[r];if("{"===e[0]&&"}"===a){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch(n){a=s?s.split(","):[]}return a.map(e=>fm(t,e))}return e},km=e=>"string"==typeof e?e.replace(" ","T"):e,vm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wm{constructor(e,t,r={},a=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jm,Nm,Sm,Cm,_m,Em,Pm,Bm;(Nm=jm||(jm={})).SYNC="sync",Nm.JOIN="join",Nm.LEAVE="leave";class Om{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Om.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Om.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Om.syncDiff(this.state,e,t,r),a())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const n=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(n,(e,t)=>{s[e]||(i[e]=t)}),this.map(s,(e,t)=>{const r=n[e];if(r){const a=t.map(e=>e.presence_ref),n=r.map(e=>e.presence_ref),s=t.filter(e=>n.indexOf(e.presence_ref)<0),l=r.filter(e=>a.indexOf(e.presence_ref)<0);s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(n,{joins:o,leaves:i},r,a)}static syncDiff(e,t,r,a){const{joins:n,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(n,(t,a)=>{var n;const s=null!==(n=e[t])&&void 0!==n?n:[];if(e[t]=this.cloneDeep(a),s.length>0){const r=e[t].map(e=>e.presence_ref),a=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...a)}r(t,s,a)}),this.map(s,(t,r)=>{let n=e[t];if(!n)return;const s=r.map(e=>e.presence_ref);n=n.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=n,a(t,n,r),0===n.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return t[r]="metas"in a?a.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Cm=Sm||(Sm={})).ALL="*",Cm.INSERT="INSERT",Cm.UPDATE="UPDATE",Cm.DELETE="DELETE",(Em=_m||(_m={})).BROADCAST="broadcast",Em.PRESENCE="presence",Em.POSTGRES_CHANGES="postgres_changes",Em.SYSTEM="system",(Bm=Pm||(Pm={})).SUBSCRIBED="SUBSCRIBED",Bm.TIMED_OUT="TIMED_OUT",Bm.CLOSED="CLOSED",Bm.CHANNEL_ERROR="CHANNEL_ERROR";class Tm{constructor(e,t={config:{}},r){var a,n;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=tm.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new wm(this,am.join,this.params,this.timeout),this.rejoinTimer=new um(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tm.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tm.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=tm.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tm.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=tm.errored,this.rejoinTimer.scheduleTimeout())}),this._on(am.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Om(this),this.broadcastEndpointURL=vm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(n=null===(a=this.params.config)||void 0===a?void 0:a.broadcast)||void 0===n?void 0:n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==tm.closed){const{config:{broadcast:s,presence:o,private:i}}=this.params,l=null!==(a=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==a?a:[],c=!!this.bindings[_m.PRESENCE]&&this.bindings[_m.PRESENCE].length>0||!0===(null===(n=this.params.config.presence)||void 0===n?void 0:n.enabled),d={},u={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Pm.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Pm.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==t){const a=this.bindings.postgres_changes,n=null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0,s=[];for(let r=0;r<n;r++){const n=a[r],{filter:{event:o,schema:i,table:l,filter:c}}=n,d=t&&t[r];if(!(d&&d.event===o&&Tm.isFilterValueEqual(d.schema,i)&&Tm.isFilterValueEqual(d.table,l)&&Tm.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=tm.errored,void(null==e||e(Pm.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},n),{id:d.id}))}return this.bindings.postgres_changes=s,void(e&&e(Pm.SUBSCRIBED))}null==e||e(Pm.SUBSCRIBED)}).receive("error",t=>{this.state=tm.errored,null==e||e(Pm.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Pm.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===tm.joined&&e===_m.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var a;if(null==t)return Promise.reject("Payload is required for httpSend()");const n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(a=r.timeout)&&void 0!==a?a:this.timeout);if(202===o.status)return{success:!0};let i=o.statusText;try{const e=await o.json();i=e.error||e.message||i}catch(l){}return Promise.reject(new Error(i))}async send(e,t={}){var r,a;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var a,n,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(n=null===(a=this.params)||void 0===a?void 0:a.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{const{event:s,payload:o}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(a=e.body)||void 0===a?void 0:a.cancel()),e.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tm.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(am.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new wm(this,am.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tm.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const a=new AbortController,n=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(n),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new wm(this,e,t,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,n;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=am;if(r&&[o,i,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(a=this.bindings.postgres_changes)||void 0===a||a.filter(e=>{var t,r,a;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(a=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===a?void 0:a.toLocaleLowerCase())===s}).map(e=>e.callback(d,r)):null===(n=this.bindings[s])||void 0===n||n.filter(e=>{var r,a,n,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(a=t.ids)||void 0===a?void 0:a.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(n=t.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(i=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:a,type:n,errors:s}=e,o={schema:t,table:r,commit_timestamp:a,eventType:n,new:{},old:{},errors:s};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===tm.closed}_isJoined(){return this.state===tm.joined}_isJoining(){return this.state===tm.joining}_isLeaving(){return this.state===tm.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const a=e.toLocaleLowerCase(),n={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(n):this.bindings[a]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var a;return!((null===(a=e.type)||void 0===a?void 0:a.toLocaleLowerCase())===r&&Tm.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(am.close,{},e)}_onError(e){this._on(am.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tm.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=hm(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=hm(e.columns,e.old_record)),t}}const Rm=()=>{},Am=25e3,Im=10,Lm=100,zm=[1e3,2e3,5e3,1e4];class Mm{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yg,this.transport=null,this.heartbeatIntervalMs=Am,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rm,this.ref=0,this.reconnectTimer=null,this.vsn=Xg,this.logger=Rm,this.conn=null,this.sendBuffer=[],this.serializer=new dm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${sm.websocket}`,this.httpEndpoint=vm(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zg.connecting:return om.Connecting;case Zg.open:return om.Open;case Zg.closing:return om.Closing;default:return om.Closed}}isConnected(){return this.connectionState()===om.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(e=>e.topic===r);if(a)return a;{const r=new Tm(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:a,ref:n}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${n})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(My){this.log("error","error in heartbeat callback",My)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Lm)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(My){this.log("error","error in heartbeat callback",My)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(My){this.log("error","error in heartbeat callback",My)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(My){this.log("error","error in heartbeat callback",My)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:r,payload:a,ref:n}=e,s=n?`(${n})`:"",o=a.status||"";this.log("receive",`${o} ${t} ${r} ${s}`.trim(),a),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,a,n)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Zg.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zg.open||this.conn.readyState===Zg.connecting)try{this.conn.close()}catch(My){this.log("error","Error closing connection",My)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(My){this.log("error","error in heartbeat callback",My)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(am.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(My){this.log("error","Error fetching access token from callback",My),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.97.0"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(am.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(My){this.log("error",`error in ${e} callback`,My)}})}catch(My){this.log("error",`error triggering ${e} callbacks`,My)}}_setupReconnectionTimer(){this.reconnectTimer=new um(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Im)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,a,n,s,o,i,l,c,d,u,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:Yg,this.heartbeatIntervalMs=null!==(a=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==a?a:Am,this.worker=null!==(n=null==e?void 0:e.worker)&&void 0!==n&&n,this.accessToken=null!==(s=null==e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(o=null==e?void 0:e.heartbeatCallback)&&void 0!==o?o:Rm,this.vsn=null!==(i=null==e?void 0:e.vsn)&&void 0!==i?i:Xg,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>zm[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case Jg:this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var Dm=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null==(r=t.icebergType)?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function $m(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:n,body:s,headers:o}){const i=function(e,t,r){const a=new URL(t,e);if(r)for(const[n,s]of Object.entries(r))void 0!==s&&a.searchParams.set(n,s);return a.toString()}(e.baseUrl,a,n),l=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),c=await t(i,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),d=await c.text(),u=(c.headers.get("content-type")||"").includes("application/json"),h=u&&d?JSON.parse(d):d;if(!c.ok){const e=u?h:void 0,t=null==e?void 0:e.error;throw new Dm((null==t?void 0:t.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:null==t?void 0:t.type,icebergCode:null==t?void 0:t.code,details:e})}return{status:c.status,headers:c.headers,data:h}}}}function Um(e){return e.join("")}var qm=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Um(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null==t?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Um(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Um(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Um(e.namespace)}`}),!0}catch(t){if(t instanceof Dm&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Dm&&409===r.status)return;throw r}}};function Fm(e){return e.join("")}var Vm=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((null==t?void 0:t.purge)??!1)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fm(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Dm&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Dm&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Hm=class{constructor(e){var t;let r="v1";e.catalogName&&(r+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$m({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null==(t=e.accessDelegation)?void 0:t.join(","),this.namespaceOps=new qm(this.client,r),this.tableOps=new Vm(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Km=class extends Error{constructor(e,t="storage",r,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function Gm(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var Wm=class extends Km{constructor(e,t,r,a="storage"){super(e,a,t,r),this.name="vectors"===a?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qm=class extends Km{constructor(e,t,r="storage"){super(e,r),this.name="vectors"===r?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Jm=e=>{if(Array.isArray(e))return e.map(e=>Jm(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const a=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Jm(r)}),t};function Xm(e){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ym(e){var t=function(e,t){if("object"!=Xm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Xm(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xm(t)?t:t+""}function Zm(e,t,r){return(t=Ym(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){Zm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const rb=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},ab=(e,t,r,a)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&a?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(a)?(n.headers=tb({"Content-Type":"application/json"},null==t?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,(null==t?void 0:t.duplex)&&(n.duplex=t.duplex),tb(tb({},n),r)):tb(tb({},n),r)};async function nb(e,t,r,a,n,s,o){return new Promise((i,l)=>{e(r,ab(t,a,n,s)).then(e=>{if(!e.ok)throw e;if(null==a?void 0:a.noResolveJson)return e;if("vectors"===o){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>i(e)).catch(e=>(async(e,t,r,a)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){const r=e,n=r.status||500;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||n+"";t(new Wm(rb(e),n,r,a))}).catch(()=>{if("vectors"===a){const e=n+"";t(new Wm(r.statusText||`HTTP ${n} error`,n,e,a))}else{const e=n+"";t(new Wm(r.statusText||`HTTP ${n} error`,n,e,a))}});else{const e=n+"";t(new Wm(r.statusText||`HTTP ${n} error`,n,e,a))}}else t(new Qm(rb(e),e,a))})(e,l,a,o))})}function sb(e="storage"){return{get:async(t,r,a,n)=>nb(t,"GET",r,a,n,void 0,e),post:async(t,r,a,n,s)=>nb(t,"POST",r,n,s,a,e),put:async(t,r,a,n,s)=>nb(t,"PUT",r,n,s,a,e),head:async(t,r,a,n)=>nb(t,"HEAD",r,tb(tb({},a),{},{noResolveJson:!0}),n,void 0,e),remove:async(t,r,a,n,s)=>nb(t,"DELETE",r,n,s,a,e)}}const ob=sb("storage"),{get:ib,post:lb,put:cb,head:db,remove:ub}=ob,hb=sb("vectors");var pb=class{constructor(e,t={},r,a="storage"){var n;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(n=r)?(...e)=>n(...e):(...e)=>fetch(...e),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=tb(tb({},this.headers),{},{[e]:t}),this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gm(t))return{data:null,error:t};throw t}}},fb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gm(e))return{data:null,error:e};throw e}}};let gb;gb=Symbol.toStringTag;var mb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[gb]="BlobDownloadBuilder",this.promise=null}asStream(){return new fb(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Gm(e))return{data:null,error:e};throw e}}};const bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yb=class extends pb{constructor(e,t={},r,a){super(e,t,a,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,a){var n=this;return n.handleOperation(async()=>{let s;const o=tb(tb({},xb),a);let i=tb(tb({},n.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const l=o.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",n.encodeMetadata(l)),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",n.encodeMetadata(l))):(s=r,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,l&&(i["x-metadata"]=n.toBase64(n.encodeMetadata(l))),("undefined"!=typeof ReadableStream&&s instanceof ReadableStream||s&&"object"==typeof s&&"pipe"in s&&"function"==typeof s.pipe)&&!o.duplex&&(o.duplex="half")),(null==a?void 0:a.headers)&&(i=tb(tb({},i),a.headers));const c=n._removeEmptyFolders(t),d=n._getFinalPath(c),u=await("PUT"==e?cb:lb)(n.fetch,`${n.url}/object/${d}`,s,tb({headers:i},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{path:c,id:u.Id,fullPath:u.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,a){var n=this;const s=n._removeEmptyFolders(e),o=n._getFinalPath(s),i=new URL(n.url+`/object/upload/sign/${o}`);return i.searchParams.set("token",t),n.handleOperation(async()=>{let e;const t=tb({upsert:xb.upsert},a),o=tb(tb({},n.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType),{path:s,fullPath:(await cb(n.fetch,i.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e);const n=tb({},r.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=await lb(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(r.url+s.url),i=o.searchParams.get("token");if(!i)throw new Km("No token returned by API");return{signedUrl:o.toString(),path:e,token:i}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var a=this;return a.handleOperation(async()=>await lb(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:a.headers}))}async copy(e,t,r){var a=this;return a.handleOperation(async()=>({path:(await lb(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,r){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e),s=await lb(a.fetch,`${a.url}/object/sign/${n}`,tb({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:a.headers});const o=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{signedUrl:encodeURI(`${a.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var a=this;return a.handleOperation(async()=>{const n=await lb(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return n.map(e=>tb(tb({},e),{},{signedUrl:e.signedURL?encodeURI(`${a.url}${e.signedURL}${s}`):null}))})}download(e,t,r){const a=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e);return new mb(()=>ib(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0},r),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Jm(await ib(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await db(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Gm(a)&&a instanceof Qm){const e=a.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],n=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==n&&a.push(n);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&a.push(o);let i=a.join("&");return""!==i&&(i=`?${i}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${i}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ub(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var a=this;return a.handleOperation(async()=>{const n=tb(tb(tb({},bb),t),{},{prefix:e||""});return await lb(a.fetch,`${a.url}/object/list/${a.bucketId}`,n,{headers:a.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const a=tb({},e);return await lb(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const kb={"X-Client-Info":"storage-js/2.97.0"};var vb=class extends pb{constructor(e,t={},r,a){const n=new URL(e);(null==a?void 0:a.useNewHostname)&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));super(n.href.replace(/\/$/,""),tb(tb({},kb),t),r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ib(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ib(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await lb(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await cb(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await lb(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ub(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wb=class extends pb{constructor(e,t={},r){super(e.replace(/\/$/,""),tb(tb({},kb),t),r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await lb(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);const a=r.toString(),n=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await ib(t.fetch,n,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ub(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!=typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Km("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Hm({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(n){if(a)throw n;return{data:null,error:n}}}}})}},jb=class extends pb{constructor(e,t={},r){super(e.replace(/\/$/,""),tb(tb({},kb),{},{"Content-Type":"application/json"},t),r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await hb.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await hb.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Nb=class extends pb{constructor(e,t={},r){super(e.replace(/\/$/,""),tb(tb({},kb),{},{"Content-Type":"application/json"},t),r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Sb=class extends pb{constructor(e,t={},r){super(e.replace(/\/$/,""),tb(tb({},kb),{},{"Content-Type":"application/json"},t),r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await hb.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Cb=class extends Sb{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _b(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(e={}){return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},_b=class extends jb{constructor(e,t,r,a){super(e,t,a),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,tb(tb({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return(()=>super.listIndexes)().call(this,tb(tb({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new Eb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Eb=class extends Nb{constructor(e,t,r,a,n){super(e,t,n),this.vectorBucketName=r,this.indexName=a}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,tb(tb({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,tb(tb({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var t=this;return(()=>super.listVectors)().call(t,tb(tb({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,tb(tb({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,tb(tb({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Pb=class extends vb{constructor(e,t={},r,a){super(e,t,r,a)}from(e){return new yb(this.url,this.headers,e,this.fetch)}get vectors(){return new Cb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wb(this.url+"/iceberg",this.headers,this.fetch)}};const Bb="2.97.0",Ob=3e4,Tb=9e4,Rb={"X-Client-Info":`gotrue-js/${Bb}`},Ab="X-Supabase-Api-Version",Ib={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Lb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class zb extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Mb(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Db extends zb{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class $b extends zb{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ub extends zb{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class qb extends Ub{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fb(e){return Mb(e)&&"AuthSessionMissingError"===e.name}class Vb extends Ub{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hb extends Ub{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kb extends Ub{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gb extends Ub{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wb extends Ub{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qb extends Ub{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Jb(e){return Mb(e)&&"AuthRetryableFetchError"===e.name}class Xb extends Ub{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Yb extends Ub{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ex=" \t\n\r=".split(""),tx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ex.length;t+=1)e[ex[t].charCodeAt(0)]=-2;for(let t=0;t<Zb.length;t+=1)e[Zb[t].charCodeAt(0)]=t;return e})();function rx(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Zb[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Zb[e]),t.queuedBits-=6}}function ax(e,t,r){const a=tx[e];if(!(a>-1)){if(-2===a)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function nx(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,a,r)};for(let o=0;o<e.length;o+=1)ax(e.charCodeAt(o),n,s);return t.join("")}function sx(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ox(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};for(let n=0;n<e.length;n+=1)ax(e.charCodeAt(n),r,a);return new Uint8Array(t)}function ix(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const t=1024*(a-55296)&65535;a=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}sx(a,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function lx(e){const t=[],r={queue:0,queuedBits:0},a=e=>{t.push(e)};return e.forEach(e=>rx(e,r,a)),rx(null,r,a),t.join("")}const cx=()=>"undefined"!=typeof window&&"undefined"!=typeof document,dx={tested:!1,writable:!1},ux=()=>{if(!cx())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(My){return!1}if(dx.tested)return dx.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dx.tested=!0,dx.writable=!0}catch(My){dx.tested=!0,dx.writable=!1}return dx.writable};const hx=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),px=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fx=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(a){return r}},gx=async(e,t)=>{await e.removeItem(t)};class mx{constructor(){this.promise=new mx.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function bx(e){const t=e.split(".");if(3!==t.length)throw new Yb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Lb.test(t[r]))throw new Yb("JWT not in base64url format");return{header:JSON.parse(nx(t[0])),payload:JSON.parse(nx(t[1])),signature:ox(t[2]),raw:{header:t[0],payload:t[1]}}}function xx(e){return("0"+e.toString(16)).substr(-2)}async function yx(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kx(e,t,r=!1){const a=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let a=0;a<56;a++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,xx).join("")}();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await px(e,`${t}-code-verifier`,n);const s=await yx(a);return[s,a===s?"plain":"s256"]}mx.promiseConstructor=Promise;const vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jx(e){if(!wx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nx(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sx(e){return JSON.parse(JSON.stringify(e))}const Cx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_x=[502,503,504];async function Ex(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Qb(Cx(e),0);if(_x.includes(e.status))throw new Qb(Cx(e),e.status);let a,n;try{a=await e.json()}catch(My){throw new $b(Cx(My),My)}const s=function(e){const t=e.headers.get(Ab);if(!t)return null;if(!t.match(vx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(My){return null}}(e);if(s&&s.getTime()>=Ib.timestamp&&"object"==typeof a&&a&&"string"==typeof a.code?n=a.code:"object"==typeof a&&a&&"string"==typeof a.error_code&&(n=a.error_code),n){if("weak_password"===n)throw new Xb(Cx(a),e.status,(null===(t=a.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new qb}else if("object"==typeof a&&a&&"object"==typeof a.weak_password&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Xb(Cx(a),e.status,a.weak_password.reasons);throw new Db(Cx(a),e.status||500,n)}async function Px(e,t,r,a){var n;const s=Object.assign({},null==a?void 0:a.headers);s[Ab]||(s[Ab]=Ib.name),(null==a?void 0:a.jwt)&&(s.Authorization=`Bearer ${a.jwt}`);const o=null!==(n=null==a?void 0:a.query)&&void 0!==n?n:{};(null==a?void 0:a.redirectTo)&&(o.redirect_to=a.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,a,n,s){const o=((e,t,r,a)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))})(t,a,n,s);let i;try{i=await e(r,Object.assign({},o))}catch(My){throw new Qb(Cx(My),0)}i.ok||await Ex(i);if(null==a?void 0:a.noResolveJson)return i;try{return await i.json()}catch(My){await Ex(My)}}(e,t,r+i,{headers:s,noResolveJson:null==a?void 0:a.noResolveJson},{},null==a?void 0:a.body);return(null==a?void 0:a.xform)?null==a?void 0:a.xform(l):{data:Object.assign({},l),error:null}}function Bx(e){var t;let r=null;var a;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(a=e.expires_in,Math.round(Date.now()/1e3)+a)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ox(e){const t=Bx(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Tx(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Rx(e){return{data:e,error:null}}function Ax(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s}=e,o=Eg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:s},user:Object.assign({},o)},error:null}}function Ix(e){return e}const Lx=["global","local","others"];class zx{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Lx[0]){if(Lx.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lx.join(", ")}`);try{return await Px(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mb(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Px(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tx})}catch(r){if(Mb(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Eg(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=null==r?void 0:r.newEmail,delete a.newEmail),await Px(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ax,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Mb(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Px(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tx})}catch(t){if(Mb(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,n,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Px(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null==e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:Ix});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Mb(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){jx(e);try{return await Px(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tx})}catch(t){if(Mb(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){jx(e);try{return await Px(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Tx})}catch(r){if(Mb(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){jx(e);try{return await Px(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Tx})}catch(r){if(Mb(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jx(e.userId);try{const{data:t,error:r}=await Px(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Mb(t))return{data:null,error:t};throw t}}async _deleteFactor(e){jx(e.userId),jx(e.id);try{return{data:await Px(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Mb(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,a,n,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Px(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(a=null==e?void 0:e.perPage)||void 0===a?void 0:a.toString())&&void 0!==n?n:""},xform:Ix});if(c.error)throw c.error;const d=await c.json(),u=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Mb(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Px(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mb(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Px(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mb(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Px(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(Mb(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Px(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Mb(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Px(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Mb(t))return{data:null,error:t};throw t}}}function Mx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Dx=!!(globalThis&&ux()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class $x extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ux extends $x{}async function qx(e,t,r){const a=new globalThis.AbortController;t>0&&setTimeout(()=>{a.abort()},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async a=>{if(!a){if(0===t)throw new Ux(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dx)try{await globalThis.navigator.locks.query()}catch(My){}return await r()}try{return await r()}finally{}})}catch(My){if("AbortError"===(null==My?void 0:My.name))throw new Ux(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`);throw My}}function Fx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Vx(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Hx extends Error{constructor({message:e,code:t,cause:r,name:a}){var n;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(n=null!=a?a:r instanceof Error?r.name:void 0)&&void 0!==n?n:"Unknown Error",this.code=t}}class Kx extends Hx{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Gx({error:e,options:t}){var r,a,n;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Hx({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(r=s.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new Hx({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(a=s.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new Hx({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(n=s.authenticatorSelection)||void 0===n?void 0:n.userVerification))return new Hx({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Hx({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Hx({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===s.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Hx({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Hx({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!ey(t))return new Hx({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(s.rp.id!==t)return new Hx({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Hx({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Hx({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hx({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Wx({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Hx({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Hx({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!ey(t))return new Hx({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new Hx({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Hx({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Hx({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Qx=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Jx(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=Eg(e,["challenge","user","excludeCredentials"]),s=ox(t).buffer,o=Object.assign(Object.assign({},r),{id:ox(r.id).buffer}),i=Object.assign(Object.assign({},n),{challenge:s,user:o});if(a&&a.length>0){i.excludeCredentials=new Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];i.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:ox(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function Xx(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=Eg(e,["challenge","allowCredentials"]),n=ox(t).buffer,s=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:ox(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Yx(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lx(new Uint8Array(e.response.attestationObject)),clientDataJSON:lx(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Zx(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lx(new Uint8Array(n.authenticatorData)),clientDataJSON:lx(new Uint8Array(n.clientDataJSON)),signature:lx(new Uint8Array(n.signature)),userHandle:n.userHandle?lx(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function ey(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ty(){var e,t;return!!(cx()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const ry={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ay={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ny(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),a={};for(const n of e)if(n)for(const e in n){const s=n[e];if(void 0!==s)if(Array.isArray(s))a[e]=s;else if(r(s))a[e]=s;else if(t(s)){const r=a[e];t(r)?a[e]=ny(r,s):a[e]=ny(s)}else a[e]=s}return a}class sy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:a},n){var s;try{const{data:o,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:i};const l=null!=a?a:Qx.createNewAbortSignal();if("create"===o.webauthn.type){const{user:e}=o.webauthn.credential_options.publicKey;if(!e.name){const t=r;if(t)e.name=`${e.id}:${t}`;else{const t=(await this.client.getUser()).data.user,r=(null===(s=null==t?void 0:t.user_metadata)||void 0===s?void 0:s.name)||(null==t?void 0:t.email)||(null==t?void 0:t.id)||"User";e.name=`${e.id}:${r}`}}e.displayName||(e.displayName=e.name)}switch(o.webauthn.type){case"create":{const t=function(e,t){return ny(ry,e,t||{})}(o.webauthn.credential_options.publicKey,null==n?void 0:n.create),{data:r,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kx("Browser returned unexpected credential type",t)}:{data:null,error:new Kx("Empty credential response",t)}}catch(Dy){return{data:null,error:Gx({error:Dy,options:e})}}}({publicKey:t,signal:l});return r?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:r}},error:null}:{data:null,error:a}}case"request":{const t=function(e,t){return ny(ay,e,t||{})}(o.webauthn.credential_options.publicKey,null==n?void 0:n.request),{data:r,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kx("Browser returned unexpected credential type",t)}:{data:null,error:new Kx("Empty credential response",t)}}catch(Dy){return{data:null,error:Wx({error:Dy,options:e})}}}(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:t,signal:l}));return r?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:r}},error:null}:{data:null,error:a}}}}catch(o){return Mb(o)?{data:null,error:o}:{data:null,error:new $b("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:a}={}},n){if(!t)return{data:null,error:new zb("rpId is required for WebAuthn authentication")};try{if(!ty())return{data:null,error:new $b("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:a},{request:n});if(!s)return{data:null,error:o};const{webauthn:i}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:i.type,rpId:t,rpOrigins:r,credential_response:i.credential_response}})}catch(s){return Mb(s)?{data:null,error:s}:{data:null,error:new $b("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:r=("undefined"!=typeof window?[window.location.origin]:void 0),signal:a}={}},n){if(!t)return{data:null,error:new zb("rpId is required for WebAuthn registration")};try{if(!ty())return{data:null,error:new $b("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:o};const{data:i,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:a},{create:n});return i?this._verify({factorId:s.id,challengeId:i.challengeId,webauthn:{rpId:t,rpOrigins:r,type:i.webauthn.type,credential_response:i.webauthn.credential_response}}):{data:null,error:l}}catch(s){return Mb(s)?{data:null,error:s}:{data:null,error:new $b("Unexpected error in register",s)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(My){"undefined"!=typeof self&&(self.globalThis=self)}}();const oy={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function iy(e,t,r){return await r()}const ly={};class cy{get jwks(){var e,t;return null!==(t=null===(e=ly[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){ly[this.storageKey]=Object.assign(Object.assign({},ly[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=ly[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ly[this.storageKey]=Object.assign(Object.assign({},ly[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},oy),e);if(this.storageKey=n.storageKey,this.instanceID=null!==(t=cy.nextInstanceID[this.storageKey])&&void 0!==t?t:0,cy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.instanceID>0&&cx()){this._logPrefix();this.logDebugMessages}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new zx({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=hx(n.fetch),this.lock=n.lock||iy,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,this.lockAcquireTimeout=n.lockAcquireTimeout,n.lock?this.lock=n.lock:this.persistSession&&cx()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=qx:this.lock=iy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ux()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mx(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Mx(this.memoryStorage)),cx()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(My){}null===(a=this.broadcastChannel)||void 0===a||a.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}n.skipAutoInitialize||this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bb}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(cx()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(My){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),cx()&&this.detectSessionInUrl&&"none"!==r){const{data:a,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),function(e){return Mb(e)&&"AuthImplicitGrantRedirectError"===e.name}(n)){const t=null===(e=n.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:n}}return{error:n}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Mb(t)?this._returnResult({error:t}):this._returnResult({error:new $b("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const n=await Px(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(a=null==e?void 0:e.options)||void 0===a?void 0:a.captchaToken}},xform:Bx}),{data:s,error:o}=n;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(n){if(Mb(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var t,r,a;try{let n;if("email"in e){const{email:r,password:a,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await kx(this.storage,this.storageKey)),n=await Px(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:a,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:Bx})}else{if(!("phone"in e))throw new Hb("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;n=await Px(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(a=null==o?void 0:o.channel)&&void 0!==a?a:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Bx})}}const{data:s,error:o}=n;if(o||!s)return await gx(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(n){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:a,options:n}=e;t=await Px(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Ox})}else{if(!("phone"in e))throw new Hb("You must provide either an email or phone number and a password");{const{phone:r,password:a,options:n}=e;t=await Px(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Ox})}}const{data:r,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const e=new Vb;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(t){if(Mb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,a,n;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,a,n,s,o,i,l,c,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:f,options:g}=e;let m;if(cx())if("object"==typeof u)m=u;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");m=e.ethereum}else{if("object"!=typeof u||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=u}const b=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href),x=await m.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||0===x.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=Fx(x[0]);let k=null===(r=null==g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!k){const e=await m.request({method:"eth_chainId"});k=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:s=new Date,nonce:o,notBefore:i,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const p=`${d?`${d}://${a}`:a} wants you to sign in with your Ethereum account:\n${Fx(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let f=`URI: ${u}\nVersion: ${h}\nChain ID: ${r}${o?`\nNonce: ${o}`:""}\nIssued At: ${s.toISOString()}`;if(n&&(f+=`\nExpiration Time: ${n.toISOString()}`),i&&(f+=`\nNot Before: ${i.toISOString()}`),l&&(f+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}f+=e}return`${p}\n${f}`}({domain:b.host,address:y,statement:f,uri:b.href,version:"1",chainId:k,nonce:null===(a=null==g?void 0:g.signInWithEthereum)||void 0===a?void 0:a.nonce,issuedAt:null!==(s=null===(n=null==g?void 0:g.signInWithEthereum)||void 0===n?void 0:n.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(o=null==g?void 0:g.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(i=null==g?void 0:g.signInWithEthereum)||void 0===i?void 0:i.notBefore,requestId:null===(l=null==g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await m.request({method:"personal_sign",params:[Vx(h),y]})}try{const{data:t,error:r}=await Px(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Bx});if(r)throw r;if(!t||!t.session||!t.user){const e=new Vb;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(f){if(Mb(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,r,a,n,s,o,i,l,c,d,u,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:u,wallet:h,statement:g,options:m}=e;let b;if(cx())if("object"==typeof h)b=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");b=e.solana}else{if("object"!=typeof h||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=h}const x=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in b&&b.signIn){const e=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==m?void 0:m.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in b&&"function"==typeof b.signMessage&&"publicKey"in b&&"object"==typeof b&&b.publicKey&&"toBase58"in b.publicKey&&"function"==typeof b.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${null!==(a=null===(r=null==m?void 0:m.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==a?a:(new Date).toISOString()}`,...(null===(n=null==m?void 0:m.signInWithSolana)||void 0===n?void 0:n.notBefore)?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...(null===(s=null==m?void 0:m.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...(null===(o=null==m?void 0:m.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...(null===(i=null==m?void 0:m.signInWithSolana)||void 0===i?void 0:i.nonce)?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...(null===(l=null==m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...m.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await b.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:r}=await Px(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:lx(f)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Bx});if(r)throw r;if(!t||!t.session||!t.user){const e=new Vb;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(g){if(Mb(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await fx(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new Wb;const{data:t,error:n}=await Px(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bx});if(await gx(this.storage,`${this.storageKey}-code-verifier`),n)throw n;if(!t||!t.session||!t.user){const e=new Vb;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=a?a:null}),error:n})}catch(n){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:n,nonce:s}=e,o=await Px(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Bx}),{data:i,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const e=new Vb;return this._returnResult({data:{user:null,session:null},error:e})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:i,error:l})}catch(t){if(Mb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,a,n,s;try{if("email"in e){const{email:a,options:n}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await kx(this.storage,this.storageKey));const{error:i}=await Px(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},create_user:null===(r=null==n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:i}=await Px(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(a=null==r?void 0:r.data)&&void 0!==a?a:{},create_user:null===(n=null==r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:i})}throw new Hb("You must provide either an email or phone number.")}catch(o){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,r;try{let a,n;"options"in e&&(a=null===(t=e.options)||void 0===t?void 0:t.redirectTo,n=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:o}=await Px(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:a,xform:Bx});if(o)throw o;if(!s){throw new Error("An error occurred on token verification.")}const i=s.session,l=s.user;return(null==i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(a){if(Mb(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,r,a,n,s;try{let o=null,i=null;"pkce"===this.flowType&&([o,i]=await kx(this.storage,this.storageKey));const l=await Px(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(a=null==e?void 0:e.options)||void 0===a?void 0:a.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Rx});return(null===(n=l.data)||void 0===n?void 0:n.url)&&cx()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new qb;const{error:a}=await Px(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Mb(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:n}=e,{error:s}=await Px(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:r,type:a,options:n}=e,{data:s,error:o}=await Px(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o})}throw new Hb("You must provide either an email or phone number and a type")}catch(t){if(Mb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(My){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(My){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await fx(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Tb;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await fx(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Nx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,a)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,a)}return t.value||"string"!=typeof r||(t.value=!0),Reflect.get(e,r,a)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Px(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tx}):await this._useSession(async e=>{var t,r,a;const{data:n,error:s}=e;if(s)throw s;return(null===(t=n.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Px(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0,xform:Tx}):{data:{user:null},error:new qb}})}catch(t){if(Mb(t))return Fb(t)&&(await this._removeSession(),await gx(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:a,error:n}=r;if(n)throw n;if(!a.session)throw new qb;const s=a.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await kx(this.storage,this.storageKey));const{data:l,error:c}=await Px(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:Tx});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qb;const t=Date.now()/1e3;let r=t,a=!0,n=null;const{payload:s}=bx(e.access_token);if(s.exp&&(r=s.exp,a=r<=t),a){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};n=t}else{const{data:a,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(t){if(Mb(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:n}=t;if(n)throw n;e=null!==(r=a.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new qb;const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Mb(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!cx())throw new Kb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Gb("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Kb("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gb("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const a=new URL(window.location.href);return a.searchParams.delete("code"),window.history.replaceState(window.history.state,"",a.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:n,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!(n&&o&&s&&l))throw new Kb("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let u=c+d;i&&(u=parseInt(i));const{data:h,error:p}=await this._getUser(n);if(p)throw p;const f={provider_token:r,provider_refresh_token:a,access_token:n,expires_in:d,expires_at:u,refresh_token:s,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:e.type},error:null})}catch(r){if(Mb(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fx(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n&&!Fb(n))return this._returnResult({error:n});const s=null===(r=a.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Mb(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!Fb(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await gx(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:a},error:n}=t;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(Dy){await(null===(a=this.stateChangeEmitters.get(e))||void 0===a?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",Dy)}})}async resetPasswordForEmail(e,t={}){let r=null,a=null;"pkce"===this.flowType&&([r,a]=await kx(this.storage,this.storageKey,!0));try{return await Px(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:a}=await this._useSession(async t=>{var r,a,n,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(a=e.options)||void 0===a?void 0:a.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await Px(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(a)throw a;return cx()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(r){if(Mb(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:a,data:{session:n}}=t;if(a)throw a;const{options:s,provider:o,token:i,access_token:l,nonce:c}=e,d=await Px(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==n?void 0:n.access_token)&&void 0!==r?r:void 0,body:{provider:o,id_token:i,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Bx}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new Vb})}catch(a){if(await gx(this.storage,`${this.storageKey}-code-verifier`),Mb(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)throw s;return await Px(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(a=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0})})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Px(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bx})),a=(e,t)=>{const r=200*Math.pow(2,e);return t&&Jb(t)&&Date.now()+r-n<Ob},new Promise((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!a(n,null,t))return void e(t)}catch(My){if(!a(n,My))return void t(My)}})()}))}catch(n){if(this._debug(t,"error",n),Mb(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}var r,a}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),cx()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await fx(this.storage,this.storageKey);if(n&&this.userStorage){let t=await fx(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:n.user},await px(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Nx()}else if(n&&!n.user&&!n.user){const e=await fx(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await gx(this.storage,this.storageKey+"-user"),await px(this.storage,this.storageKey,n)):n.user=Nx()}if(this._debug(r,"session from storage",n),!this._isValidSession(n))return this._debug(r,"session is not valid"),void(null!==n&&await this._removeSession());const s=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<Tb;if(this._debug(r,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(Jb(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(Dy){return void this._debug(r,"error",Dy)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new qb;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new mx;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new qb;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const a={data:t.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(a,"error",n),Mb(n)){const e={data:null,error:n};return Jb(n)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],n=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(My){a.push(My)}});if(await Promise.all(n),a.length>0){for(let e=0;e<a.length;e+=1);throw a[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gx(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await px(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const a=Sx(e);await px(this.storage,this.storageKey,a)}else{const e=Sx(t);await px(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gx(this.storage,this.storageKey),await gx(this.storage,this.storageKey+"-code-verifier"),await gx(this.storage,this.storageKey+"-user"),this.userStorage&&await gx(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cx()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(My){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ob);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*r.expires_at-e)/Ob);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&await this._callRefreshToken(r.refresh_token)})}catch(My){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(My){if(!(My.isAcquireTimeout||My instanceof $x))throw My;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cx()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await kx(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});a.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);a.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;return n?this._returnResult({data:null,error:n}):await Px(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:i,error:l}=await Px(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===i.type&&(null===(a=null==i?void 0:i.totp)||void 0===a?void 0:a.qr_code)&&(i.totp.qr_code=`data:image/svg+xml;utf-8,${i.totp.qr_code}`),this._returnResult({data:i,error:null}))})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return this._returnResult({data:null,error:n});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Yx(e.webauthn.credential_response):Zx(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:i}=await Px(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return i?this._returnResult({data:null,error:i}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:i}))})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:n}=t;if(n)return this._returnResult({data:null,error:n});const s=await Px(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});if(s.error)return s;const{data:o}=s;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Jx(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Xx(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const n of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])a.all.push(n),"verified"===n.status&&a[n.factor_type].push(n);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,a,n;if(e)try{const{payload:a}=bx(e);let n=null;a.aal&&(n=a.aal);let s=n;const{data:{user:o},error:i}=await this.getUser(e);if(i)return this._returnResult({data:null,error:i});(null!==(r=null===(t=null==o?void 0:o.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(s="aal2");return{data:{currentLevel:n,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}catch(d){if(Mb(d))return this._returnResult({data:null,error:d});throw d}const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=bx(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;(null!==(n=null===(a=s.user.factors)||void 0===a?void 0:a.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await Px(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new qb})})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new qb});const s=await Px(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&cx()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Mb(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new qb});const s=await Px(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&cx()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Mb(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Px(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new qb})})}catch(e){if(Mb(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?(await Px(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qb})})}catch(t){if(Mb(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>a)return r;const{data:n,error:s}=await Px(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=a,r=n.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:a,payload:n,signature:s,raw:{header:o,payload:i}}=bx(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(n.exp);const l=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(a.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:n,header:a,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,d,s,ix(`${o}.${i}`))))throw new Yb("Invalid JWT signature");return{data:{claims:n,header:a,signature:s},error:null}}catch(r){if(Mb(r))return this._returnResult({data:null,error:r});throw r}}}cy.nextInstanceID={};const dy=cy;let uy="";uy="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const hy={headers:{"X-Client-Info":`supabase-js-${uy}/2.97.0`}},py={schema:"public"},fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gy={};function my(e){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function by(e){var t=function(e,t){if("object"!=my(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=my(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==my(t)?t:t+""}function xy(e,t,r){return(t=by(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(t){xy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const vy=(e,t,r)=>{const a=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),n=Headers;return async(r,s)=>{var o;const i=null!==(o=await t())&&void 0!==o?o:e;let l=new n(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${i}`),a(r,ky(ky({},s),{},{headers:l}))}};var wy=class extends dy{constructor(e){super(e)}},jy=class{constructor(e,t,r){var a,n;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,i=function(e,t){var r,a;const{db:n,auth:s,realtime:o,global:i}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:ky(ky({},l),n),auth:ky(ky({},c),s),realtime:ky(ky({},d),o),storage:{},global:ky(ky(ky({},u),i),{},{headers:ky(ky({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(a=null==i?void 0:i.headers)&&void 0!==a?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:py,realtime:gy,auth:ky(ky({},fy),{},{storageKey:o}),global:hy});var l;(this.storageKey=null!==(a=i.auth.storageKey)&&void 0!==a?a:"",this.headers=null!==(n=i.global.headers)&&void 0!==n?n:{},i.accessToken)?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(l=i.auth)&&void 0!==l?l:{},this.headers,i.global.fetch);this.fetch=vy(t,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(ky({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new Wg(new URL("rest/v1",s).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch,timeout:i.db.timeout,urlLengthLimit:i.db.urlLengthLimit}),this.storage=new Pb(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new Lg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return null!==(e=null===(t=a.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:n,storageKey:s,flowType:o,lock:i,debug:l,throwOnError:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wy({url:this.authUrl.href,headers:ky(ky({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:n,flowType:o,lock:i,debug:l,throwOnError:c,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Mm(this.realtimeUrl.href,ky(ky({},e),{},{params:ky(ky({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};!function(){if("undefined"!=typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(null==t)return!1;const r=t.match(/^v(\d+)\./);!!r&&parseInt(r[1],10)}();const Ny=((e,t,r)=>new jy(e,t,r))("https://anknjpuiklglykguneax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFua25qcHVpa2xnbHlrZ3VuZWF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5ODkwNTAsImV4cCI6MjA4NzU2NTA1MH0.DUMHeKg0v-1oI9nLT-nZP9cg1eYPI0R4fRNBzE9K2MI"),Sy=["Item out of stock","Kitchen too busy","Restaurant closed early","Other"],Cy=({restaurant:e,orders:t,onUpdateOrder:r,onUpdateMenu:a,onAddMenuItem:n,onPermanentDeleteMenuItem:s,onToggleOnline:i,lastSyncTime:l,onFetchPaginatedOrders:c,onFetchAllFilteredOrders:d,onSwitchToPos:u})=>{var h,p,f,g,m,b,x;const[y,k]=q.useState("ORDERS"),[v,w]=q.useState(!1),[j,N]=q.useState("ONGOING_ALL"),[S,C]=q.useState(null),[_,E]=q.useState(!1),[P,B]=q.useState("IDLE"),[O,T]=q.useState("KITCHEN"),[R,A]=q.useState(!1),[I,L]=q.useState(""),[z,M]=q.useState([]),[D,$]=q.useState("list"),[U,F]=q.useState(null),[V,H]=q.useState(""),[K,G]=q.useState("SINGLE"),[W,Q]=q.useState("1"),[J,X]=q.useState("1"),[Y,Z]=q.useState("10"),[ee,te]=q.useState(null),[re,ae]=q.useState(Sy[0]),[ne,se]=q.useState(""),[oe,ie]=q.useState("grid"),[le,ce]=q.useState("All"),[de,ue]=q.useState("ACTIVE"),[he,pe]=q.useState(""),[fe,ge]=q.useState("ALL"),[me,be]=q.useState(()=>{const e=new Date;return e.setDate(e.getDate()-30),e.toISOString().split("T")[0]}),[xe,ye]=q.useState(()=>(new Date).toISOString().split("T")[0]),[ke,ve]=q.useState(30),[we,je]=q.useState(1),[Ne,Se]=q.useState(null),[Ce,_e]=q.useState(null),[Ee,Pe]=q.useState(!1),[Be,Oe]=q.useState(!0),[Te,Re]=q.useState(!1),[Ae,Ie]=q.useState([]),[Le,ze]=q.useState(null),[Me,De]=q.useState("disconnected"),[$e,Ue]=q.useState(""),[qe,Fe]=q.useState("idle"),[Ve,He]=q.useState(!1),Ke=q.useMemo(()=>t.filter(e=>e.status===ef.PENDING),[t]),Ge=q.useRef(Ke.length);q.useEffect(()=>{Ke.length>Ge.current&&(We(),He(!0),setTimeout(()=>He(!1),5e3)),Ge.current=Ke.length},[Ke.length]),q.useEffect(()=>{navigator.bluetooth||(Oe(!1),Ue("Web Bluetooth is not supported in this browser. Please use Chrome, Edge, or Opera."))},[]),q.useEffect(()=>{const t=localStorage.getItem(`printer_${e.id}`);if(t)try{const e=JSON.parse(t);ze(e),De("connected")}catch(My){}},[e.id]);const We=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),r.gain.setValueAtTime(0,e.currentTime),r.gain.linearRampToValueAtTime(.2,e.currentTime+.1),r.gain.linearRampToValueAtTime(0,e.currentTime+.8),t.start(),t.stop(e.currentTime+.8)}catch(My){}He(!0),setTimeout(()=>He(!1),5e3)};q.useEffect(()=>{if(l){B("SYNCING");const e=setTimeout(()=>B("IDLE"),1e3);return()=>clearTimeout(e)}},[l]);const[Qe,Je]=q.useState({name:"",description:"",price:0,image:"",category:"Main Dish",sizes:[],sizesEnabled:!1,otherVariantName:"",otherVariants:[],otherVariantsEnabled:!1,tempOptions:{enabled:!1,hot:0,cold:0},addOns:[]}),Xe=q.useRef(null),Ye=q.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return z.forEach(e=>t.add(e)),["All",...Array.from(t)]},[e.menu,z]),Ze=t.filter(e=>"ALL"===j||("ONGOING_ALL"===j?e.status===ef.PENDING||e.status===ef.ONGOING:e.status===j)),et=e.menu.filter(e=>{const t="ACTIVE"===de?!e.isArchived:!!e.isArchived,r="All"===le||e.category===le;return t&&r}),tt=async(t=!1)=>{t||Pe(!0);try{const r={restaurantId:e.id,startDate:me,endDate:xe,status:fe,search:he};if(t&&d){return await d(r)}if(!t&&c){const e=await c(r,we,ke);return void _e(e)}const a=new URLSearchParams({...r,page:t?"1":we.toString(),limit:t?"10000":ke.toString()}),n=await fetch(`/api/orders/report?${a.toString()}`);if(!n.ok)throw new Error("Failed to fetch report");const s=await n.json();if(t)return s.orders;_e(s)}catch(r){}finally{t||Pe(!1)}};q.useEffect(()=>{"REPORTS"===y&&tt()},[y,me,xe,fe,he,we,ke]),q.useEffect(()=>{je(1)},[ke,fe,me,xe,he]);const rt=Ce?Math.ceil(Ce.totalCount/ke):0,at=(null==Ce?void 0:Ce.orders)||[],nt=e=>{C(null),Je({name:"",description:"",price:0,image:"",category:e||"Main Dish",sizes:[],sizesEnabled:!1,otherVariantName:"",otherVariants:[],otherVariantsEnabled:!1,tempOptions:{enabled:!1,hot:0,cold:0},addOns:[]}),E(!0)},st=e=>{C(e),Je({...e,sizes:e.sizes?[...e.sizes]:[],sizesEnabled:!!(e.sizes&&e.sizes.length>0),otherVariantName:e.otherVariantName||"",otherVariants:e.otherVariants?[...e.otherVariants]:[],otherVariantsEnabled:!!e.otherVariantsEnabled,tempOptions:e.tempOptions?{...e.tempOptions}:{enabled:!1,hot:0,cold:0},addOns:e.addOns?[...e.addOns]:[]}),E(!0)},ot=(e,t,r)=>{const a=[...Qe.sizes||[]];a[e]={...a[e],[t]:r},Je({...Qe,sizes:a})},it=(e,t,r)=>{const a=[...Qe.otherVariants||[]];a[e]={...a[e],[t]:r},Je({...Qe,otherVariants:a})},lt=(e,t,r)=>{const a=[...Qe.addOns||[]];a[e]={...a[e],[t]:r},Je({...Qe,addOns:a})},ct=t=>{a(e.id,{...t,isArchived:!0})},dt=t=>{a(e.id,{...t,isArchived:!1})},ut=()=>{I.trim()&&(Ye.includes(I.trim())?alert("Classification already exists."):(M(e=>[...e,I.trim()]),L(""),A(!1)))},ht=(t,r)=>{if(!r.trim()||t===r)return void F(null);M(e=>e.map(e=>e===t?r:e));e.menu.filter(e=>e.category===t).forEach(t=>{a(e.id,{...t,category:r})}),F(null)},pt=t=>{if(confirm(`Are you sure you want to remove the "${t}" classification? Items in this category will be moved to "Main Dish".`)){M(e=>e.filter(e=>e!==t));e.menu.filter(e=>e.category===t).forEach(t=>{a(e.id,{...t,category:"Main Dish"})})}},ft=(e,t)=>`${window.location.origin+window.location.pathname}?loc=${encodeURIComponent(e)}&table=${t}`,gt=!1!==e.isOnline,mt=e=>{k(e),w(!1)};return o.jsxs("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden dark:bg-gray-900 transition-colors relative",children:[v&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>w(!1)}),o.jsxs("aside",{className:`\n        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r dark:border-gray-700 \n        flex flex-col transition-transform duration-300 ease-in-out no-print\n        ${v?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[o.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:e.logo,className:"w-10 h-10 rounded-lg shadow-sm"}),o.jsx("h2",{className:"font-bold text-gray-900 dark:text-white truncate",children:e.name})]}),o.jsx("button",{onClick:()=>w(!1),className:"lg:hidden p-2 text-gray-500",children:o.jsx(Ng,{size:20})})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>mt("ORDERS"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl font-medium transition-all "+("ORDERS"===y?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hg,{size:20})," Incoming Orders"]}),Ke.length>0&&o.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full animate-bounce",children:Ke.length})]}),o.jsxs("button",{onClick:()=>mt("MENU"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("MENU"===y?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[o.jsx(ff,{size:20}),"Menu Editor"]}),!1!==(null==(h=e.settings)?void 0:h.showSalesReport)&&o.jsxs("button",{onClick:()=>mt("REPORTS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("REPORTS"===y?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[o.jsx(bf,{size:20}),"Sales Reports"]}),!1!==(null==(p=e.settings)?void 0:p.showQrGenerator)&&o.jsxs("button",{onClick:()=>mt("QR"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("QR"===y?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[o.jsx(ng,{size:20}),"QR Generator"]}),o.jsxs("button",{onClick:()=>mt("SETTINGS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all "+("SETTINGS"===y?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[o.jsx(dg,{size:20}),"Printer Settings"]})]}),o.jsxs("div",{className:"p-4 mt-auto border-t dark:border-gray-700 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all border border-orange-100 dark:border-orange-900/20",children:[o.jsx(Ef,{size:18})," Switch to POS Terminal"]}),o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Store Presence"}),o.jsxs("button",{onClick:i,className:"w-full py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all flex items-center justify-center gap-3 shadow-lg "+(gt?"bg-green-500 text-white hover:bg-green-600":"bg-red-500 text-white hover:bg-red-600"),children:[gt?o.jsx(jg,{size:18}):o.jsx(wg,{size:18}),gt?"Online":"Offline"]})]}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-xl border dark:border-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${"SYNCING"===P?"bg-blue-500 scale-125":gt?"bg-green-500":"bg-red-500"} transition-all duration-300 animate-pulse`}),o.jsx("span",{className:"text-[9px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Live Feed"})]}),"SYNCING"===P&&o.jsx(og,{size:10,className:"animate-spin text-blue-500"})]})]})]}),o.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 transition-all",children:[o.jsxs("div",{className:"lg:hidden flex items-center p-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-30 no-print",children:[o.jsx("button",{onClick:()=>w(!0),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx(Jf,{size:24})}),o.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[o.jsx("img",{src:e.logo,className:"w-8 h-8 rounded-lg shadow-sm"}),o.jsx("h1",{className:"font-black dark:text-white uppercase tracking-tighter text-sm truncate",children:"ORDERS"===y?"Incoming Orders":"MENU"===y?"Menu Editor":"REPORTS"===y?"Sales Reports":"QR"===y?"QR Generator":"Printer Settings"})]})]}),o.jsxs("div",{className:"p-4 md:p-8",children:["QR"===y&&o.jsxs("div",{className:"max-w-4xl mx-auto no-print",children:[o.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Table QR Codes"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:["Generate ordering labels for your tables at ",e.location,"."]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl border dark:border-gray-700 shadow-sm space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Generation Mode"}),o.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-700 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>G("SINGLE"),className:"flex-1 py-2 rounded-lg text-xs font-bold transition-all "+("SINGLE"===K?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Single Table"}),o.jsx("button",{onClick:()=>G("BATCH"),className:"flex-1 py-2 rounded-lg text-xs font-bold transition-all "+("BATCH"===K?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Batch Range"})]})]}),"SINGLE"===K?o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Table Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mf,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none text-sm font-bold dark:text-white",value:W,onChange:e=>Q(e.target.value)})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"From"}),o.jsx("input",{type:"number",className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none text-sm font-bold dark:text-white",value:J,onChange:e=>X(e.target.value)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"To"}),o.jsx("input",{type:"number",className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none text-sm font-bold dark:text-white",value:Y,onChange:e=>Z(e.target.value)})]})]}),o.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/10 rounded-2xl border border-orange-100 dark:border-orange-900/20",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Tf,{size:14,className:"text-orange-500"}),o.jsx("span",{className:"text-[10px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest",children:"Target Link"})]}),o.jsx("p",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400 break-all leading-tight",children:ft(e.location,"SINGLE"===K?W:"{ID}")})]}),o.jsxs("button",{onClick:()=>{requestAnimationFrame(()=>{setTimeout(()=>{window.print()},50)})},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-orange-600 transition-all",children:[o.jsx(ag,{size:18})," Print Labels"]})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl border dark:border-gray-700 shadow-sm flex flex-col items-center justify-center text-center",children:"SINGLE"===K?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-6 bg-white rounded-3xl shadow-xl border border-gray-100 mb-6",children:o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(ft(e.location,W))}`,alt:"QR Code",className:"w-48 h-48"})}),o.jsx("p",{className:"font-black text-lg dark:text-white uppercase tracking-tighter",children:e.name}),o.jsxs("p",{className:"text-3xl font-black text-orange-500 uppercase",children:["TABLE ",W]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(ng,{size:80,className:"mx-auto text-orange-500 opacity-20"}),o.jsx("p",{className:"text-lg font-black dark:text-white uppercase",children:"Batch Range Ready"}),o.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:[(()=>{const e=parseInt(J),t=parseInt(Y);return isNaN(e)||isNaN(t)?0:Math.max(0,t-e+1)})()," Labels will be printed"]})]})})]})]}),"ORDERS"===y&&o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter",children:"kitchen order"}),l&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] font-black px-3 py-1.5 rounded-full border transition-all duration-300 min-w-[140px] shrink-0 "+("SYNCING"===P?"bg-blue-50 border-blue-200 text-blue-600 shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-400"),children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("SYNCING"===P?"bg-blue-500 animate-ping":"bg-gray-300")}),"SYNCING"===P?"SYNCING...":`SYNC: ${l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`]})]}),o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 border dark:border-gray-700 shadow-sm overflow-x-auto hide-scrollbar",children:[o.jsx("button",{onClick:()=>N("ONGOING_ALL"),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+("ONGOING_ALL"===j?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"ONGOING"}),o.jsx("button",{onClick:()=>N(ef.COMPLETED),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+(j===ef.COMPLETED?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"SERVED"}),o.jsx("button",{onClick:()=>N(ef.CANCELLED),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+(j===ef.CANCELLED?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"CANCELLED"}),o.jsx("button",{onClick:()=>N("ALL"),className:"px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap "+("ALL"===j?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"ALL ORDER"})]})]}),o.jsx("div",{className:"space-y-4",children:0===Ze.length?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-20 text-center border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:o.jsx(hg,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Kitchen Quiet"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Waiting for incoming signals..."})]}):Ze.map(e=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row md:items-start gap-6 transition-all hover:border-orange-200",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["ORDER #",e.id]}),o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg",children:[o.jsx(Mf,{size:12,className:"text-orange-500"}),o.jsxs("span",{className:"text-xs font-black",children:["Table ",e.tableNumber]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cf,{size:14,className:"text-gray-400"}),o.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),o.jsx("div",{className:"space-y-3",children:e.items.map((e,t)=>o.jsxs("div",{className:"flex justify-between items-start text-sm border-l-2 border-gray-100 dark:border-gray-700 pl-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["x",e.quantity," ",e.name]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.selectedSize&&o.jsxs("span",{className:"text-[9px] font-black px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded uppercase tracking-tighter",children:["Size: ",e.selectedSize]}),e.selectedTemp&&o.jsxs("span",{className:"text-[9px] font-black px-1.5 py-0.5 rounded uppercase tracking-tighter "+("Hot"===e.selectedTemp?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"),children:["Temp: ",e.selectedTemp]})]})]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-bold",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))}),e.remark&&o.jsxs("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/20 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Xf,{size:12,className:"text-orange-500"}),o.jsx("span",{className:"text-[9px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest",children:"Special Remark"})]}),o.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 italic",children:e.remark})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-gray-700 flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Grand Total"}),o.jsxs("span",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["RM",e.total.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex md:flex-col gap-2 min-w-[140px] mt-2 md:mt-0",children:[e.status===ef.PENDING&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r(e.id,ef.ONGOING),className:"flex-1 py-3 px-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 transition-all shadow-lg",children:"Accept Order"}),o.jsx("button",{onClick:()=>te(e.id),className:"flex-1 py-3 px-4 bg-red-50 text-red-500 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all border border-red-100 dark:bg-red-900/10 dark:border-red-900/20",children:"Reject"})]}),e.status===ef.ONGOING&&o.jsxs("button",{onClick:()=>r(e.id,ef.SERVED),className:"flex-1 py-4 px-4 bg-green-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-green-600 transition-all flex items-center justify-center gap-2 shadow-lg",children:[o.jsx(jf,{size:18}),"Serve Order"]})]})]},e.id))})]}),"MENU"===y&&o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter mb-4",children:"Kitchen Menu Editor"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 border dark:border-gray-700 shadow-sm",children:[o.jsx("button",{onClick:()=>T("KITCHEN"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("KITCHEN"===O?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Kitchen Menu"}),o.jsx("button",{onClick:()=>T("CLASSIFICATION"),className:"px-4 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-widest transition-all "+("CLASSIFICATION"===O?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:"Classification"})]}),"KITCHEN"===O?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 border dark:border-gray-700 shadow-sm",children:[o.jsxs("button",{onClick:()=>ue("ACTIVE"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ACTIVE"===de?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[o.jsx(Af,{size:14})," ",o.jsx("span",{className:"hidden sm:inline",children:"Active"})]}),o.jsxs("button",{onClick:()=>ue("ARCHIVED"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("ARCHIVED"===de?"bg-orange-500 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:bg-gray-50"),children:[o.jsx(cf,{size:14})," ",o.jsx("span",{className:"hidden sm:inline",children:"Archived"})]})]}),o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 border dark:border-gray-700 shadow-sm",children:[o.jsx("button",{onClick:()=>ie("grid"),className:"p-2 rounded-lg transition-all "+("grid"===oe?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:o.jsx(qf,{size:18})}),o.jsx("button",{onClick:()=>ie("list"),className:"p-2 rounded-lg transition-all "+("list"===oe?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:o.jsx(Vf,{size:18})})]})]}),o.jsx("button",{onClick:()=>nt(),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg",children:"+ Add Item"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 border dark:border-gray-700 shadow-sm",children:[o.jsx("button",{onClick:()=>$("grid"),className:"p-2 rounded-lg transition-all "+("grid"===D?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:o.jsx(qf,{size:18})}),o.jsx("button",{onClick:()=>$("list"),className:"p-2 rounded-lg transition-all "+("list"===D?"bg-orange-500 text-white shadow-sm":"text-gray-400"),children:o.jsx(Vf,{size:18})})]})}),o.jsxs("button",{onClick:()=>A(!0),className:"ml-auto px-6 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black uppercase tracking-widest text-[10px] hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg flex items-center gap-2",children:[o.jsx(gg,{size:16})," + New Class"]})]})]})]}),"KITCHEN"===O&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-8 bg-white dark:bg-gray-800 px-4 py-3 border dark:border-gray-700 rounded-2xl shadow-sm overflow-x-auto hide-scrollbar sticky top-[72px] lg:top-0 z-20",children:[o.jsx(If,{size:16,className:"text-gray-400 shrink-0"}),Ye.map(e=>o.jsx("button",{onClick:()=>ce(e),className:"whitespace-nowrap px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all "+(le===e?"bg-orange-100 text-orange-600 shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"),children:e},e))]}),0===et.length?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-20 text-center border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:o.jsx(ff,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white uppercase tracking-tighter",children:"Inventory Empty"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:"Start adding your signature dishes."})]}):"grid"===oe?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:et.map(t=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl md:rounded-3xl overflow-hidden border dark:border-gray-700 hover:shadow-xl transition-all group flex flex-col",children:[o.jsxs("div",{className:"relative aspect-video sm:aspect-square md:h-48",children:[o.jsx("img",{src:t.image,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 md:top-4 md:right-4 flex gap-1 md:gap-2",children:"ACTIVE"===de?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ct(t),className:"p-2 md:p-2.5 bg-red-50/90 backdrop-blur rounded-lg md:rounded-xl text-red-600 shadow-sm",children:o.jsx(cf,{size:14})}),o.jsx("button",{onClick:()=>st(t),className:"p-2 md:p-2.5 bg-white/90 backdrop-blur rounded-lg md:rounded-xl text-gray-700 shadow-sm",children:o.jsx(eg,{size:14})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>dt(t),className:"p-2 md:p-2.5 bg-green-50/90 backdrop-blur rounded-lg md:rounded-xl text-green-600 shadow-sm",children:o.jsx(ig,{size:14})}),o.jsx("button",{onClick:()=>{return r=t.id,void(confirm("Are you sure you want to permanently delete this item?")&&s(e.id,r));var r},className:"p-2 md:p-2.5 bg-red-50/90 backdrop-blur rounded-lg md:rounded-xl text-red-600 shadow-sm",children:o.jsx(bg,{size:14})})]})})]}),o.jsxs("div",{className:"p-3 md:p-6 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-black text-xs md:text-lg text-gray-900 dark:text-white mb-1 uppercase tracking-tight line-clamp-1",children:t.name}),o.jsx("p",{className:"hidden md:block text-xs text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 flex-1",children:t.description}),o.jsxs("div",{className:"flex justify-between items-center mt-auto pt-2 md:pt-4 border-t dark:border-gray-700",children:[o.jsxs("span",{className:"text-sm md:text-xl font-black text-orange-500",children:["RM",t.price.toFixed(2)]}),o.jsx("span",{className:"text-[8px] md:text-[10px] font-black uppercase tracking-widest text-gray-400 truncate ml-2",children:t.category})]})]})]},t.id))}):o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 overflow-hidden shadow-sm",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-8 py-4 text-left",children:"Dish Profile"}),o.jsx("th",{className:"px-4 py-4 text-left",children:"Category"}),o.jsx("th",{className:"px-4 py-4 text-left",children:"Base Cost"}),o.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:et.map(e=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[o.jsx("td",{className:"px-8 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:e.image,className:"w-12 h-12 rounded-xl object-cover"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-black text-gray-900 dark:text-white uppercase tracking-tight text-sm",children:e.name}),o.jsx("p",{className:"hidden sm:block text-[10px] text-gray-500 dark:text-gray-400 truncate max-w-xs",children:e.description})]})]})}),o.jsx("td",{className:"px-4 py-4 text-[10px] font-black uppercase text-gray-400",children:e.category}),o.jsxs("td",{className:"px-4 py-4 font-black text-gray-900 dark:text-white text-sm",children:["RM",e.price.toFixed(2)]}),o.jsx("td",{className:"px-8 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end items-center gap-2",children:["ACTIVE"===de?o.jsx("button",{onClick:()=>ct(e),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:o.jsx(cf,{size:18})}):o.jsx("button",{onClick:()=>dt(e),className:"p-3 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-xl transition-all",children:o.jsx(ig,{size:18})}),o.jsx("button",{onClick:()=>st(e),className:"p-3 text-gray-400 hover:text-orange-500 rounded-xl transition-all",children:o.jsx(eg,{size:18})})]})})]},e.id))})]})})})]}),"CLASSIFICATION"===O&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 border-b dark:border-gray-700 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[o.jsx(cg,{size:16}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Classification Manager"})]}),o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[Ye.length-1," Total"]})]}),o.jsx("div",{className:"grid"===D?"grid grid-cols-2 md:grid-cols-3 gap-4 p-4 md:p-6":"divide-y dark:divide-gray-700",children:Ye.filter(e=>"All"!==e).map(t=>{const r=e.menu.filter(e=>e.category===t&&!e.isArchived);return"grid"===D?o.jsx("div",{className:"p-4 md:p-6 bg-gray-50/50 dark:bg-gray-900/50 border dark:border-gray-700 rounded-xl flex flex-col gap-4 group hover:border-orange-200 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg md:rounded-xl flex items-center justify-center",children:o.jsx(Uf,{size:18})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black text-xs md:text-sm dark:text-white uppercase tracking-tight",children:t}),o.jsxs("p",{className:"text-[8px] md:text-[10px] font-bold text-gray-400 uppercase",children:[r.length," Items"]})]})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:()=>{F(t),H(t)},className:"p-2 text-gray-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",children:o.jsx(eg,{size:14})}),o.jsx("button",{onClick:()=>pt(t),className:"p-2 text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:o.jsx(bg,{size:14})})]})]})},t):o.jsxs("div",{className:"flex items-center justify-between p-4 px-6 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-lg flex items-center justify-center",children:o.jsx(Uf,{size:16})}),o.jsx("div",{children:U===t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{autoFocus:!0,className:"px-2 py-1 text-sm font-black border dark:border-gray-600 rounded bg-white dark:bg-gray-700",value:V,onChange:e=>H(e.target.value),onKeyDown:e=>"Enter"===e.key&&ht(t,V)}),o.jsx("button",{onClick:()=>ht(t,V),className:"text-green-500",children:o.jsx(jf,{size:16})}),o.jsx("button",{onClick:()=>F(null),className:"text-red-500",children:o.jsx(Ng,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-sm font-black dark:text-white uppercase tracking-tight",children:t}),o.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[r.length," Active Dishes"]})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>{F(t),H(t)},className:"p-2 text-gray-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-all",children:o.jsx(eg,{size:16})}),o.jsx("button",{onClick:()=>pt(t),className:"p-2 text-red-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:o.jsx(bg,{size:16})}),o.jsx("button",{onClick:()=>nt(t),className:"p-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-lg",children:o.jsx(tg,{size:16})})]})]},t)})})]})]}),"REPORTS"===y&&o.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:[o.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Sales Report"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:"Financial performance and order history."}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm flex flex-col md:flex-row items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Period Selection"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gf,{size:14,className:"text-orange-500 shrink-0"}),o.jsx("input",{type:"date",value:me,onChange:e=>be(e.target.value),className:"flex-1 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5"}),o.jsx("span",{className:"text-gray-400 font-black",children:"to"}),o.jsx("input",{type:"date",value:xe,onChange:e=>ye(e.target.value),className:"flex-1 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5"})]})]}),o.jsxs("div",{className:"w-full sm:w-48",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Order Outcome"}),o.jsxs("select",{value:fe,onChange:e=>ge(e.target.value),className:"w-full p-1.5 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"ALL",children:"All Outcomes"}),o.jsx("option",{value:ef.COMPLETED,children:"Paid/Finalized"}),o.jsx("option",{value:ef.SERVED,children:"Served (Unpaid)"}),o.jsx("option",{value:ef.CANCELLED,children:"Rejected"})]})]})]}),o.jsxs("button",{onClick:async()=>{const e=await tt(!0);if(!e||0===e.length)return;const t=[["Order ID","Table","Date","Time","Status","Items","Total"],...e.map(e=>[e.id,e.tableNumber,new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",`sales_report_${me}_to_${xe}.csv`),document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"w-full md:w-auto px-6 py-2 bg-black text-white dark:bg-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-orange-500 transition-all",children:[o.jsx(Of,{size:16})," Export CSV"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Total Revenue"}),o.jsxs("p",{className:"text-xl md:text-2xl font-black dark:text-white",children:["RM",(null==Ce?void 0:Ce.summary.totalRevenue.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Order Volume"}),o.jsx("p",{className:"text-xl md:text-2xl font-black dark:text-white",children:(null==Ce?void 0:Ce.summary.orderVolume)||0})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Efficiency"}),o.jsxs("p",{className:"text-xl md:text-2xl font-black text-green-500",children:[(null==Ce?void 0:Ce.summary.efficiency)||0,"%"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative max-w-sm w-full",children:[o.jsx(lg,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search Order ID...",value:he,onChange:e=>pe(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-1 focus:ring-orange-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Show"}),o.jsxs("select",{value:ke,onChange:e=>ve(Number(e.target.value)),className:"bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5 outline-none cursor-pointer",children:[o.jsx("option",{value:30,children:"30"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Entries"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:"Order ID"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Table"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Time"}),o.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Bill"})]})}),o.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:at.map(e=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[o.jsx("td",{className:"px-6 py-2.5",children:o.jsx("button",{onClick:()=>Se(e),className:"text-[10px] font-black text-orange-500 hover:text-orange-600 uppercase tracking-widest underline decoration-dotted underline-offset-4",children:e.id})}),o.jsxs("td",{className:"px-6 py-2.5 text-[10px] font-black text-gray-900 dark:text-white",children:["#",e.tableNumber]}),o.jsx("td",{className:"px-6 py-2.5 text-[10px] font-black text-gray-700 dark:text-gray-300 uppercase tracking-tighter",children:new Date(e.timestamp).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-2.5 text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"px-6 py-2.5",children:o.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===ef.COMPLETED?"bg-green-100 text-green-600":e.status===ef.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:e.status===ef.COMPLETED?"Paid":e.status===ef.SERVED?"Served":e.status})}),o.jsxs("td",{className:"px-6 py-2.5 text-right font-black dark:text-white text-xs",children:["RM",e.total.toFixed(2)]})]},e.id))})]})})]}),rt>1&&o.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2 no-print",children:[o.jsx("button",{onClick:()=>je(1),disabled:1===we,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(xf,{size:16})}),o.jsx("button",{onClick:()=>je(e=>Math.max(1,e-1)),disabled:1===we,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(kf,{size:16})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:rt},(e,t)=>t+1).map(e=>o.jsx("button",{onClick:()=>je(e),className:"w-8 h-8 rounded-lg text-[10px] font-black transition-all "+(we===e?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-white dark:bg-gray-800 text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e},e))}),o.jsx("button",{onClick:()=>je(e=>Math.min(rt,e+1)),disabled:we===rt,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(vf,{size:16})}),o.jsx("button",{onClick:()=>je(rt),disabled:we===rt,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(yf,{size:16})})]})]}),"SETTINGS"===y&&o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Printer Settings"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium mb-8 uppercase tracking-widest",children:"Connect to your CX58D thermal printer"}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 shadow-sm overflow-hidden",children:o.jsxs("div",{className:"p-6 md:p-8 space-y-8",children:[!Be&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(wf,{size:48,className:"mx-auto text-red-500 mb-4"}),o.jsx("h3",{className:"text-lg font-black dark:text-white mb-2",children:"Bluetooth Not Supported"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:$e}),o.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Please use Chrome, Edge, or Opera browser"})]}),Be&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-6 rounded-2xl border-2 transition-all "+("connected"===Me?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center "+("connected"===Me?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:o.jsx(ag,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black dark:text-white",children:"CX58D Thermal Printer"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"connected"===Me?`Connected to ${null==Le?void 0:Le.name}`:"No printer connected"})]})]}),o.jsx("div",{className:"px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest "+("connected"===Me?"bg-green-100 text-green-600":"connecting"===Me?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-500"),children:"connected"===Me?"Connected":"connecting"===Me?"Connecting...":"Disconnected"})]})}),"connected"!==Me?o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:async()=>{if(navigator.bluetooth){Re(!0),Ie([]),Ue("");try{const e=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["000018f0-0000-1000-8000-00805f9b34fb"]});if(e){const t={id:e.id,name:e.name||"Unknown Printer",connected:!1};Ie([t])}}catch(e){"User cancelled the requestDevice dialog."!==e.message&&Ue("Failed to scan for printers: "+e.message)}finally{Re(!1)}}else Ue("Bluetooth not supported")},disabled:Te,className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:Te?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Scanning..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pf,{size:18}),"Scan for Bluetooth Printers"]})}),Ae.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1",children:"Found Printers"}),Ae.map(t=>o.jsxs("button",{onClick:()=>(async t=>{var r;De("connecting"),Ue("");try{const a=await navigator.bluetooth.requestDevice({filters:[{name:t.name}],optionalServices:["000018f0-0000-1000-8000-00805f9b34fb"]});await(null==(r=a.gatt)?void 0:r.connect())&&(ze(t),De("connected"),localStorage.setItem(`printer_${e.id}`,JSON.stringify(t)),await Ny.from("restaurants").update({printer_settings:{connected:!0,deviceId:t.id,deviceName:t.name}}).eq("id",e.id))}catch(a){De("error"),Ue("Failed to connect: "+a.message)}})(t),className:"w-full p-4 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl flex items-center justify-between hover:border-orange-500 transition-all group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ag,{size:20,className:"text-gray-400 group-hover:text-orange-500"}),o.jsx("span",{className:"font-bold dark:text-white",children:t.name})]}),o.jsx("span",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Connect"})]},t.id))]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/20",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(hf,{size:16,className:"text-blue-500"}),o.jsx("span",{className:"text-xs font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest",children:"Connected Device"})]}),o.jsx("p",{className:"font-bold dark:text-white mb-1",children:null==Le?void 0:Le.name}),o.jsxs("p",{className:"text-[10px] text-gray-500",children:["ID: ",null==Le?void 0:Le.id]})]}),o.jsx("button",{onClick:async()=>{var e;if(Le){Fe("printing");try{new Uint8Array([27,64,27,97,49,27,33,48,81,117,105,99,107,83,101,114,118,101,10,27,33,0,84,101,115,116,32,80,97,103,101,10,10,68,97,116,101,58,32,...(new TextEncoder).encode((new Date).toLocaleDateString()),10,29,86,65,3]);const t=await navigator.bluetooth.requestDevice({filters:[{name:Le.name}],optionalServices:["000018f0-0000-1000-8000-00805f9b34fb"]});await(null==(e=t.gatt)?void 0:e.connect());Fe("success"),setTimeout(()=>Fe("idle"),3e3)}catch(t){Fe("error"),Ue("Test print failed: "+t.message)}}},disabled:"printing"===qe,className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:"printing"===qe?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Printing..."]}):"success"===qe?o.jsxs(o.Fragment,{children:[o.jsx(Nf,{size:18,className:"text-green-500"}),"Test Page Sent!"]}):o.jsxs(o.Fragment,{children:[o.jsx(ag,{size:18}),"Print Test Page"]})}),o.jsx("button",{onClick:()=>{ze(null),De("disconnected"),localStorage.removeItem(`printer_${e.id}`),Ny.from("restaurants").update({printer_settings:{connected:!1}}).eq("id",e.id)},className:"w-full py-3 bg-red-50 dark:bg-red-900/10 text-red-500 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all border border-red-200 dark:border-red-900/20",children:"Disconnect Printer"})]}),$e&&o.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-200 dark:border-red-900/20",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Ng,{size:16,className:"text-red-500 shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:$e})]})}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[o.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Printer Setup Instructions"}),o.jsxs("ul",{className:"space-y-2 text-[10px] text-gray-500 dark:text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full mt-1.5"}),o.jsx("span",{children:"Turn on your CX58D printer and enable Bluetooth pairing mode"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full mt-1.5"}),o.jsx("span",{children:'Click "Scan for Bluetooth Printers" and select your printer when it appears'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full mt-1.5"}),o.jsx("span",{children:'Use "Print Test Page" to verify the connection'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-orange-500 rounded-full mt-1.5"}),o.jsx("span",{children:"The printer will automatically reconnect when you return to this page"})]})]})]}),o.jsx("p",{className:"text-[8px] text-gray-400 text-center",children:"* Works best in Chrome, Edge, or Opera browsers. Requires Bluetooth permission."})]})]})})]})]})]}),ee&&o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-md w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[o.jsx("button",{onClick:()=>te(null),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:20})}),o.jsx("h2",{className:"text-2xl font-black mb-6 dark:text-white uppercase tracking-tighter",children:"Order Rejection"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Select Reason"}),o.jsx("select",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none text-sm font-bold dark:text-white appearance-none cursor-pointer",value:re,onChange:e=>ae(e.target.value),children:Sy.map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Internal Note (Optional)"}),o.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none text-sm font-bold dark:text-white resize-none",rows:3,placeholder:"Additional details...",value:ne,onChange:e=>se(e.target.value)})]}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{onClick:()=>te(null),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl font-black uppercase text-[10px] tracking-widest text-gray-500",children:"Cancel"}),o.jsx("button",{onClick:()=>{ee&&(r(ee,ef.CANCELLED,re,ne),te(null),ae(Sy[0]),se(""))},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-black uppercase text-[10px] tracking-widest shadow-xl",children:"Confirm Rejection"})]})]})]})}),R&&o.jsx("div",{className:"fixed inset-0 z-[110] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-sm w-full p-8 shadow-2xl relative",children:[o.jsx("button",{onClick:()=>A(!1),className:"absolute top-6 right-6 p-2 text-gray-400",children:o.jsx(Ng,{size:20})}),o.jsx("h2",{className:"text-xl font-black mb-6 dark:text-white uppercase tracking-tight",children:"Add Classification"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{autoFocus:!0,placeholder:"e.g. Beverages",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:I,onChange:e=>L(e.target.value),onKeyDown:e=>"Enter"===e.key&&ut()}),o.jsx("button",{onClick:ut,className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-xs",children:"Confirm Class"})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[o.jsx("button",{onClick:()=>E(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:24})}),o.jsx("h2",{className:"text-2xl font-black mb-8 dark:text-white uppercase tracking-tighter",children:S?"Edit Menu Details":"New Dish Broadcast"}),o.jsxs("form",{onSubmit:t=>{var r;if(t.preventDefault(),!Qe.name)return;const s={id:S?S.id:crypto.randomUUID(),name:Qe.name||"",description:Qe.description||"",price:Number(Qe.price||0),image:Qe.image||`https://picsum.photos/seed/${Qe.name}/400/300`,category:Qe.category||"Main Dish",isArchived:!!S&&S.isArchived,sizes:Qe.sizesEnabled?Qe.sizes:[],otherVariantName:Qe.otherVariantName,otherVariants:Qe.otherVariants,otherVariantsEnabled:Qe.otherVariantsEnabled,tempOptions:(null==(r=Qe.tempOptions)?void 0:r.enabled)?Qe.tempOptions:void 0,addOns:Qe.addOns||[]};S?a(e.id,s):n(e.id,s),E(!1)},className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Menu Name"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:Qe.name,onChange:e=>Je({...Qe,name:e.target.value}),placeholder:"e.g. Signature Beef Burger"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Description"}),o.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm resize-none",rows:3,value:Qe.description,onChange:e=>Je({...Qe,description:e.target.value}),placeholder:"Describe the ingredients and preparation..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Base Cost"}),o.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:0===Qe.price?"":Qe.price,onChange:e=>Je({...Qe,price:""===e.target.value?0:Number(e.target.value)}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Classification"}),o.jsx("select",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm appearance-none cursor-pointer",value:Qe.category,onChange:e=>Je({...Qe,category:e.target.value}),children:Ye.filter(e=>"All"!==e).map(e=>o.jsx("option",{value:e,children:e},e))})]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Visual Asset"}),o.jsxs("div",{className:"relative group aspect-video rounded-2xl overflow-hidden bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-200 dark:border-gray-600 flex items-center justify-center cursor-pointer mb-4",onClick:()=>{var e;return null==(e=Xe.current)?void 0:e.click()},children:[Qe.image?o.jsx("img",{src:Qe.image,className:"w-full h-full object-cover group-hover:scale-105 transition-all"}):o.jsxs("div",{className:"text-center",children:[o.jsx(Df,{size:32,className:"mx-auto text-gray-300 mb-2"}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Upload Frame"})]}),o.jsx("input",{type:"file",ref:Xe,className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{const e=await _g(r,"quickserve","menu-items");Je({...Qe,image:e})}catch(a){alert("Failed to upload image. Please try again.")}}})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1 flex items-center gap-2",children:[o.jsx(Ff,{size:12})," Or Image URL"]}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-xs",value:Qe.image,onChange:e=>Je({...Qe,image:e.target.value}),placeholder:"Paste link here..."})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-6 border-t dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Portion Variants"}),o.jsx("button",{type:"button",onClick:()=>Je({...Qe,sizesEnabled:!Qe.sizesEnabled}),className:"px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all "+(Qe.sizesEnabled?"bg-orange-500 text-white":"bg-gray-100 text-gray-400"),children:Qe.sizesEnabled?"Activated":"Disabled"})]}),Qe.sizesEnabled&&o.jsxs("div",{className:"space-y-3 animate-in fade-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Options"}),o.jsx("button",{type:"button",onClick:()=>{Je({...Qe,sizes:[...Qe.sizes||[],{name:"",price:0}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsx(tg,{size:16})})]}),null==(f=Qe.sizes)?void 0:f.map((e,t)=>o.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-right-2 duration-300",children:[o.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-xs font-bold dark:text-white",placeholder:"Portion Name",value:e.name,onChange:e=>ot(t,"name",e.target.value)}),o.jsx("input",{type:"number",step:"0.01",className:"w-24 px-3 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-xs font-bold dark:text-white",placeholder:"+Price",value:0===e.price?"":e.price,onChange:e=>ot(t,"price",""===e.target.value?0:Number(e.target.value))}),o.jsx("button",{type:"button",onClick:()=>{return e=t,void Je({...Qe,sizes:null==(r=Qe.sizes)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-2 text-red-400 hover:bg-red-50 rounded-lg",children:o.jsx(bg,{size:14})})]},t)),(!Qe.sizes||0===Qe.sizes.length)&&o.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"No variants established yet."})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Other Variant Group"}),o.jsx("button",{type:"button",onClick:()=>{Je({...Qe,otherVariants:[...Qe.otherVariants||[],{name:"",price:0}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsx(tg,{size:16})})]}),o.jsxs("div",{className:"space-y-4",children:[Qe.otherVariants&&Qe.otherVariants.length>0&&o.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Variant Title (e.g. Toppings)"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-xs",value:Qe.otherVariantName,onChange:e=>Je({...Qe,otherVariantName:e.target.value,otherVariantsEnabled:!0}),placeholder:"Milk Choice, Toppings, etc."})]}),o.jsx("div",{className:"space-y-3",children:null==(g=Qe.otherVariants)?void 0:g.map((e,t)=>o.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-right-2 duration-300",children:[o.jsx("input",{type:"text",className:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-xs font-bold dark:text-white",placeholder:"Option Name",value:e.name,onChange:e=>it(t,"name",e.target.value)}),o.jsx("input",{type:"number",step:"0.01",className:"w-24 px-3 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-xs font-bold dark:text-white",placeholder:"+Price",value:0===e.price?"":e.price,onChange:e=>it(t,"price",""===e.target.value?0:Number(e.target.value))}),o.jsx("button",{type:"button",onClick:()=>{return e=t,void Je({...Qe,otherVariants:null==(r=Qe.otherVariants)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-2 text-red-400 hover:bg-red-50 rounded-lg",children:o.jsx(bg,{size:14})})]},t))})]}),(!Qe.otherVariants||0===Qe.otherVariants.length)&&o.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"No other variants established yet."})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Thermal Options"}),o.jsx("button",{type:"button",onClick:()=>{var e;return Je({...Qe,tempOptions:{...Qe.tempOptions,enabled:!(null==(e=Qe.tempOptions)?void 0:e.enabled)}})},className:"px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all "+((null==(m=Qe.tempOptions)?void 0:m.enabled)?"bg-orange-500 text-white":"bg-gray-100 text-gray-400"),children:(null==(b=Qe.tempOptions)?void 0:b.enabled)?"Activated":"Disabled"})]}),(null==(x=Qe.tempOptions)?void 0:x.enabled)&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-500",children:[o.jsx(mg,{size:14}),o.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Hot Surcharge"})]}),o.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 bg-orange-50 dark:bg-orange-900/10 border-none rounded-lg text-xs font-bold dark:text-white",value:0===Qe.tempOptions.hot?"":Qe.tempOptions.hot,onChange:e=>Je({...Qe,tempOptions:{...Qe.tempOptions,hot:""===e.target.value?0:Number(e.target.value)}}),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[o.jsx($f,{size:14}),o.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Cold Surcharge"})]}),o.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 bg-blue-50 dark:bg-blue-900/10 border-none rounded-lg text-xs font-bold dark:text-white",value:0===Qe.tempOptions.cold?"":Qe.tempOptions.cold,onChange:e=>Je({...Qe,tempOptions:{...Qe.tempOptions,cold:""===e.target.value?0:Number(e.target.value)}}),placeholder:"0.00"})]})]})]})]})]}),o.jsxs("div",{className:"border-t dark:border-gray-700 pt-6 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[o.jsx(Sf,{size:14})," Add-On Items"]}),o.jsx("button",{type:"button",onClick:()=>{Je({...Qe,addOns:[...Qe.addOns||[],{name:"",price:0,maxQuantity:1,required:!1}]})},className:"p-1.5 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 transition-all",children:o.jsx(tg,{size:16})})]}),Qe.addOns&&Qe.addOns.length>0?o.jsx("div",{className:"space-y-4",children:Qe.addOns.map((e,t)=>o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:["Add-On #",t+1]}),o.jsx("button",{type:"button",onClick:()=>{return e=t,void Je({...Qe,addOns:null==(r=Qe.addOns)?void 0:r.filter((t,r)=>r!==e)});var e,r},className:"p-1 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:o.jsx(bg,{size:14})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Name"}),o.jsx("input",{type:"text",value:e.name,onChange:e=>lt(t,"name",e.target.value),placeholder:"e.g. Extra Cheese",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Price (RM)"}),o.jsx("input",{type:"number",step:"0.01",value:e.price,onChange:e=>lt(t,"price",parseFloat(e.target.value)||0),placeholder:"2.00",className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Max Quantity"}),o.jsx("input",{type:"number",min:"1",value:e.maxQuantity,onChange:e=>lt(t,"maxQuantity",parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg text-xs font-bold dark:text-white"})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-5",children:[o.jsx("input",{type:"checkbox",id:`required-${t}`,checked:e.required||!1,onChange:e=>lt(t,"required",e.target.checked),className:"w-4 h-4 text-orange-500 rounded border-gray-300 focus:ring-orange-500"}),o.jsx("label",{htmlFor:`required-${t}`,className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Required"})]})]})]},t))}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-700/30 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx(Sf,{size:24,className:"mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No add-ons added yet"}),o.jsx("p",{className:"text-[8px] text-gray-400 mt-1",children:"Click + to add optional items"})]})]}),o.jsx("div",{className:"pt-8 border-t dark:border-gray-700",children:o.jsx("button",{type:"submit",className:"w-full py-5 bg-orange-500 text-white rounded-[2rem] font-black uppercase tracking-[0.2em] text-xs shadow-xl shadow-orange-100 dark:shadow-none hover:bg-orange-600 transition-all active:scale-95",children:"Save Changes"})})]})]})}),Ne&&o.jsx("div",{className:"fixed inset-0 z-[120] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-md w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[o.jsx("button",{onClick:()=>Se(null),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:24})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Mf,{size:16,className:"text-orange-500"}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Order Details"})]}),o.jsxs("h2",{className:"text-xl font-black dark:text-white uppercase tracking-tighter",children:["#",Ne.id]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[o.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Table Number"}),o.jsxs("p",{className:"text-sm font-black dark:text-white",children:["#",Ne.tableNumber]})]}),o.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[o.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Status"}),o.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(Ne.status===ef.COMPLETED?"bg-green-100 text-green-600":Ne.status===ef.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:Ne.status===ef.COMPLETED?"Paid":Ne.status===ef.SERVED?"Served":Ne.status})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ordered Items"}),o.jsx("div",{className:"space-y-2 max-h-[30vh] overflow-y-auto custom-scrollbar pr-2",children:Ne.items.map((e,t)=>o.jsxs("div",{className:"flex justify-between items-start py-2 border-b dark:border-gray-700 last:border-0",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-black dark:text-white",children:["x",e.quantity," ",e.name]}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.selectedSize&&o.jsxs("span",{className:"text-[8px] font-bold px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded uppercase tracking-tighter",children:["Size: ",e.selectedSize]}),e.selectedTemp&&o.jsxs("span",{className:"text-[8px] font-bold px-1.5 py-0.5 rounded uppercase tracking-tighter "+("Hot"===e.selectedTemp?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"),children:["Temp: ",e.selectedTemp]})]})]}),o.jsxs("p",{className:"text-xs font-black dark:text-white",children:["RM",(e.price*e.quantity).toFixed(2)]})]},t))})]}),Ne.remark&&o.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/20 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Xf,{size:14,className:"text-orange-500"}),o.jsx("span",{className:"text-[9px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest",children:"Customer Remark"})]}),o.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 italic",children:Ne.remark})]}),o.jsxs("div",{className:"pt-4 border-t dark:border-gray-700 flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Total Bill"}),o.jsxs("span",{className:"text-xl font-black dark:text-white",children:["RM",Ne.total.toFixed(2)]})]})]})]})}),o.jsx("style",{children:"\n        @media print {\n          .no-print { display: none !important; }\n          body { background: white !important; }\n          .page-break-inside-avoid { page-break-inside: avoid; }\n        }\n        .custom-scrollbar::-webkit-scrollbar { width: 4px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 10px; }\n      "})]})},_y=()=>{var e,t,r,a,n,s,i,l,c,d,u,h,p,f,g,m,b,x,y,k,v,w,j,N,S,C,_,E,P,B,O,T,R,A,I,L,z,M,D,$,U,F,V,H,K,G,W,Q,J,X,Y,Z,ee,te,re,ae,ne,se,oe,ie,le,ce,de,ue,he,pe;const[fe,ge]=q.useState({}),[me,be]=q.useState(!1),xe=async()=>{be(!0);const e=(new Date).toLocaleTimeString();try{const{data:t,error:r}=await Ny.from("areas").select("count",{count:"exact",head:!0});ge(t=>({...t,hubs:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to areas table",lastChecked:e}}))}catch(t){ge(r=>({...r,hubs:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await Ny.from("users").select("count",{count:"exact",head:!0}).eq("role","VENDOR");ge(t=>({...t,vendors:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to users table",lastChecked:e}}))}catch(t){ge(r=>({...r,vendors:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await Ny.from("restaurants").select("count",{count:"exact",head:!0});ge(t=>({...t,restaurants:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to restaurants table",lastChecked:e}}))}catch(t){ge(r=>({...r,restaurants:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await Ny.from("menu_items").select("count",{count:"exact",head:!0});ge(t=>({...t,menu:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to menu_items table",lastChecked:e}}))}catch(t){ge(r=>({...r,menu:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const{data:t,error:r}=await Ny.from("orders").select("count",{count:"exact",head:!0});ge(t=>({...t,orders:{status:r?"ERROR":"OK",message:r?`Error: ${r.message}`:"Successfully connected to orders table",lastChecked:e}}))}catch(t){ge(r=>({...r,orders:{status:"ERROR",message:`Connection failed: ${t.message}`,lastChecked:e}}))}try{const t=new File(["test"],"test.txt",{type:"text/plain"}),r=new FormData;r.append("file",t),r.append("filename",`system-check/test-${Date.now()}.txt`);const a=await fetch("/api/upload",{method:"POST",body:r});if(a.ok){await a.json();ge(t=>({...t,upload:{status:"OK",message:"Upload working (test file uploaded)",lastChecked:e}}))}else{const t=await a.json();ge(r=>({...r,upload:{status:"ERROR",message:`Upload failed: ${t.error||"Unknown error"}`,lastChecked:e}}))}}catch(t){ge(r=>({...r,upload:{status:"ERROR",message:`Upload check failed: ${t.message}`,lastChecked:e}}))}try{(await fetch("/api/health")).ok?ge(t=>({...t,login:{status:"OK",message:"API endpoints accessible",lastChecked:e}})):ge(t=>({...t,login:{status:"ERROR",message:"API health check failed",lastChecked:e}}))}catch(t){ge(r=>({...r,login:{status:"ERROR",message:`Login system check failed: ${t.message}`,lastChecked:e}}))}try{const{error:t}=await Ny.from("areas").select("count",{count:"exact",head:!0});ge(r=>({...r,database:{status:t?"ERROR":"OK",message:t?`Database error: ${null==t?void 0:t.message}`:"Supabase connection successful",lastChecked:e}}))}catch(t){ge(r=>({...r,database:{status:"ERROR",message:`Database connection failed: ${t.message}`,lastChecked:e}}))}be(!1)};return q.useEffect(()=>{xe()},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-black dark:text-white uppercase tracking-tighter",children:"System Health Dashboard"}),o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Real-time status of all platform components"})]}),o.jsxs("button",{onClick:xe,disabled:me,className:"flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all disabled:opacity-50",children:[o.jsx(og,{size:14,className:me?"animate-spin":""}),me?"Checking...":"Run All Checks"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(e=fe.database)?void 0:e.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(t=fe.database)?void 0:t.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Pf,{size:20,className:"OK"===(null==(r=fe.database)?void 0:r.status)?"text-green-500":"ERROR"===(null==(a=fe.database)?void 0:a.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Database Connection"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Supabase"})]})]}),"CHECKING"===(null==(n=fe.database)?void 0:n.status)&&o.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),"OK"===(null==(s=fe.database)?void 0:s.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(i=fe.database)?void 0:i.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(l=fe.database)?void 0:l.message)||"Checking..."}),(null==(c=fe.database)?void 0:c.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.database.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(d=fe.upload)?void 0:d.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(u=fe.upload)?void 0:u.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yg,{size:20,className:"OK"===(null==(h=fe.upload)?void 0:h.status)?"text-green-500":"ERROR"===(null==(p=fe.upload)?void 0:p.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Image Upload"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Vercel Blob Storage"})]})]}),"CHECKING"===(null==(f=fe.upload)?void 0:f.status)&&o.jsx("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"}),"OK"===(null==(g=fe.upload)?void 0:g.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(m=fe.upload)?void 0:m.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(b=fe.upload)?void 0:b.message)||"Checking..."}),(null==(x=fe.upload)?void 0:x.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.upload.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(y=fe.hubs)?void 0:y.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(k=fe.hubs)?void 0:k.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qf,{size:20,className:"OK"===(null==(v=fe.hubs)?void 0:v.status)?"text-green-500":"ERROR"===(null==(w=fe.hubs)?void 0:w.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Hubs/Locations"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(j=fe.hubs)?void 0:j.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(N=fe.hubs)?void 0:N.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(S=fe.hubs)?void 0:S.message)||"Checking..."}),(null==(C=fe.hubs)?void 0:C.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.hubs.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(_=fe.vendors)?void 0:_.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(E=fe.vendors)?void 0:E.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pg,{size:20,className:"OK"===(null==(P=fe.vendors)?void 0:P.status)?"text-green-500":"ERROR"===(null==(B=fe.vendors)?void 0:B.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Vendors"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(O=fe.vendors)?void 0:O.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(T=fe.vendors)?void 0:T.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(R=fe.vendors)?void 0:R.message)||"Checking..."}),(null==(A=fe.vendors)?void 0:A.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.vendors.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(I=fe.restaurants)?void 0:I.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(L=fe.restaurants)?void 0:L.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hg,{size:20,className:"OK"===(null==(z=fe.restaurants)?void 0:z.status)?"text-green-500":"ERROR"===(null==(M=fe.restaurants)?void 0:M.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Restaurants"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(D=fe.restaurants)?void 0:D.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==($=fe.restaurants)?void 0:$.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(U=fe.restaurants)?void 0:U.message)||"Checking..."}),(null==(F=fe.restaurants)?void 0:F.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.restaurants.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(V=fe.menu)?void 0:V.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(H=fe.menu)?void 0:H.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Df,{size:20,className:"OK"===(null==(K=fe.menu)?void 0:K.status)?"text-green-500":"ERROR"===(null==(G=fe.menu)?void 0:G.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Menu Items"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"CRUD Operations"})]})]}),"OK"===(null==(W=fe.menu)?void 0:W.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(Q=fe.menu)?void 0:Q.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(J=fe.menu)?void 0:J.message)||"Checking..."}),(null==(X=fe.menu)?void 0:X.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.menu.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(Y=fe.orders)?void 0:Y.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(Z=fe.orders)?void 0:Z.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lf,{size:20,className:"OK"===(null==(ee=fe.orders)?void 0:ee.status)?"text-green-500":"ERROR"===(null==(te=fe.orders)?void 0:te.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Orders System"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Real-time Updates"})]})]}),"OK"===(null==(re=fe.orders)?void 0:re.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(ae=fe.orders)?void 0:ae.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(ne=fe.orders)?void 0:ne.message)||"Checking..."}),(null==(se=fe.orders)?void 0:se.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.orders.lastChecked]})]}),o.jsxs("div",{className:"p-6 rounded-2xl border transition-all "+("OK"===(null==(oe=fe.login)?void 0:oe.status)?"bg-green-50 dark:bg-green-900/10 border-green-200 dark:border-green-900/20":"ERROR"===(null==(ie=fe.login)?void 0:ie.status)?"bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gf,{size:20,className:"OK"===(null==(le=fe.login)?void 0:le.status)?"text-green-500":"ERROR"===(null==(ce=fe.login)?void 0:ce.status)?"text-red-500":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white text-sm",children:"Authentication"}),o.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400",children:"Login System"})]})]}),"OK"===(null==(de=fe.login)?void 0:de.status)&&o.jsx(Nf,{size:20,className:"text-green-500"}),"ERROR"===(null==(ue=fe.login)?void 0:ue.status)&&o.jsx(wf,{size:20,className:"text-red-500"})]}),o.jsx("p",{className:"mt-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:(null==(he=fe.login)?void 0:he.message)||"Checking..."}),(null==(pe=fe.login)?void 0:pe.lastChecked)&&o.jsxs("p",{className:"mt-2 text-[8px] font-bold text-gray-400 uppercase tracking-widest",children:["Last checked: ",fe.login.lastChecked]})]})]}),o.jsxs("div",{className:"mt-8 p-6 bg-gray-900 dark:bg-gray-800 rounded-2xl text-white",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(_f,{size:20,className:"text-orange-500"}),o.jsx("h4",{className:"font-black uppercase tracking-tighter",children:"System Summary"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Checks"}),o.jsx("p",{className:"text-xl font-black",children:Object.keys(fe).length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Operational"}),o.jsx("p",{className:"text-xl font-black text-green-400",children:Object.values(fe).filter(e=>"OK"===e.status).length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Issues Found"}),o.jsx("p",{className:"text-xl font-black text-red-400",children:Object.values(fe).filter(e=>"ERROR"===e.status).length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Last Full Scan"}),o.jsx("p",{className:"text-sm font-black",children:(new Date).toLocaleDateString()})]})]})]})]})},Ey=({vendors:e,restaurants:t,orders:r,locations:a,onAddVendor:n,onUpdateVendor:s,onImpersonateVendor:i,onAddLocation:l,onUpdateLocation:c,onDeleteLocation:d,onToggleOnline:u,onRemoveVendorFromHub:h,onFetchPaginatedOrders:p,onFetchAllFilteredOrders:f,onFetchStats:g})=>{const[m,b]=q.useState("VENDORS"),[x,y]=q.useState(""),[k,v]=q.useState(""),[w,j]=q.useState("ALL"),[N,S]=q.useState(!1),[C,_]=q.useState(!1),[E,P]=q.useState(null),[B,O]=q.useState({username:"",password:"",restaurantName:"",location:"",email:"",phone:"",logo:""}),T=q.useRef(null),[R,A]=q.useState(!1),[I,L]=q.useState(null),[z,M]=q.useState({name:"",city:"",state:"",code:"",type:"MULTI"}),[D,$]=q.useState(null),[U,V]=q.useState(null),[H,K]=q.useState("SINGLE"),[G,W]=q.useState("1"),[Q,J]=q.useState("1"),[X,Y]=q.useState("10"),[Z,ee]=q.useState(!1),[te,re]=q.useState(""),[ae,ne]=q.useState("ALL"),[se,oe]=q.useState("ALL"),[ie,le]=q.useState("ALL"),[ce,de]=q.useState(()=>{const e=new Date;return e.setDate(e.getDate()-30),e.toISOString().split("T")[0]}),[ue,he]=q.useState(()=>(new Date).toISOString().split("T")[0]),[pe,fe]=q.useState(25),[ge,me]=q.useState(1),[be,xe]=q.useState(null),[ye,ke]=q.useState(!1),ve=q.useMemo(()=>e.filter(e=>{const r=t.find(t=>t.id===e.restaurantId),a=e.username.toLowerCase().includes(x.toLowerCase())||(null==r?void 0:r.name.toLowerCase().includes(x.toLowerCase())),n="ALL"===w||("ACTIVE"===w?e.isActive:!e.isActive);return a&&n}),[e,t,x,w]),we=q.useMemo(()=>a.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())||e.city.toLowerCase().includes(k.toLowerCase())||e.code.toLowerCase().includes(k.toLowerCase())),[a,k]),je=async(e=!1)=>{e||ke(!0);try{const t={restaurantId:se,locationName:ie,startDate:ce,endDate:ue,status:ae,search:te};if(e&&f){return await f(t)}if(!e&&p){const e=await p(t,ge,pe);return void xe(e)}const r=new URLSearchParams({...t,page:e?"1":ge.toString(),limit:e?"10000":pe.toString()}),a=await fetch(`/api/orders/report?${r.toString()}`);if(!a.ok)throw new Error("Failed to fetch report");const n=await a.json();if(e)return n.orders;xe(n)}catch(t){}finally{e||ke(!1)}};q.useEffect(()=>{"REPORTS"===m&&je()},[m,ce,ue,ae,te,se,ie,ge,pe]);const Ne=be?Math.ceil(be.totalCount/pe):0,Se=(null==be?void 0:be.orders)||[],Ce=(e,t)=>`${window.location.origin+window.location.pathname}?loc=${encodeURIComponent(e)}&table=${t}`;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 md:mb-12 gap-6 no-print",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-black dark:text-white tracking-tighter uppercase leading-none mb-1",children:"Platform Master"}),o.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-[8px] md:text-[10px] ml-1",children:"Administrative Controls"})]}),o.jsx("div",{className:"flex bg-white dark:bg-gray-800 rounded-2xl p-1.5 border dark:border-gray-700 shadow-sm transition-colors overflow-x-auto hide-scrollbar",children:[{id:"VENDORS",label:"Vendors",icon:pg},{id:"LOCATIONS",label:"Hubs",icon:Qf},{id:"REPORTS",label:"Report",icon:xg},{id:"SYSTEM",label:"System",icon:Pf}].map(e=>o.jsxs("button",{onClick:()=>b(e.id),className:"flex-shrink-0 flex items-center gap-2 px-5 py-3 md:px-6 md:py-3 rounded-xl font-black transition-all text-[10px] md:text-xs uppercase tracking-widest "+(m===e.id?"bg-orange-500 text-white shadow-xl":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[o.jsx(e.icon,{size:16})," ",e.label]},e.id))})]}),o.jsxs("div",{className:"no-print",children:["VENDORS"===m&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 flex flex-col lg:flex-row lg:items-center justify-between gap-6 bg-gray-50/50 dark:bg-gray-700/50",children:[o.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Vendor Directory"}),o.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[o.jsx(lg,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-11 pr-4 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm outline-none font-bold dark:text-white",value:x,onChange:e=>y(e.target.value)})]}),o.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[o.jsx(If,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsxs("select",{className:"w-full pl-11 pr-8 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm appearance-none outline-none font-bold dark:text-white",value:w,onChange:e=>j(e.target.value),children:[o.jsx("option",{value:"ALL",children:"All Activation"}),o.jsx("option",{value:"ACTIVE",children:"Master Active"}),o.jsx("option",{value:"INACTIVE",children:"Master Deactive"})]})]}),o.jsx("button",{onClick:()=>{P(null),O({username:"",password:"",restaurantName:"",location:"",email:"",phone:"",logo:""}),_(!1),S(!0)},className:"w-full sm:w-auto px-6 py-2.5 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg transition-all active:scale-95",children:"+ Register"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-8 py-4 text-left",children:"Kitchen"}),o.jsx("th",{className:"px-8 py-4 text-left",children:"Hub"}),o.jsx("th",{className:"px-8 py-4 text-center",children:"Master Activation"}),o.jsx("th",{className:"px-8 py-4 text-center",children:"Live Status"}),o.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:ve.map(e=>{const r=t.find(t=>t.id===e.restaurantId),a=(null==r?void 0:r.isOnline)??!1;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[o.jsx("td",{className:"px-8 py-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:null==r?void 0:r.logo,className:"w-10 h-10 rounded-xl shadow-sm object-cover border dark:border-gray-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-black dark:text-white text-sm block",children:null==r?void 0:r.name}),o.jsxs("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-widest",children:["@",e.username]})]})]})}),o.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-500 dark:text-gray-400 uppercase truncate max-w-[120px]",children:(null==r?void 0:r.location)||"Unassigned"}),o.jsx("td",{className:"px-8 py-5 text-center",children:o.jsx("button",{onClick:()=>(e=>{const r=t.find(t=>t.id===e.restaurantId);r&&s({...e,isActive:!e.isActive},r)})(e),className:"p-2 rounded-xl transition-all "+(e.isActive?"text-green-500 bg-green-50 dark:bg-green-900/20":"text-gray-400 bg-gray-50 dark:bg-gray-700"),children:e.isActive?o.jsx(Nf,{size:20}):o.jsx(rg,{size:20})})}),o.jsx("td",{className:"px-8 py-5 text-center",children:o.jsx("button",{onClick:()=>r&&u(r.id,a),className:"px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all "+(a?"bg-green-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-400"),children:a?"Online":"Offline"})}),o.jsx("td",{className:"px-8 py-5 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>(e=>{const r=t.find(t=>t.id===e.restaurantId);r&&(P({user:e,res:r}),O({username:e.username,password:e.password||"",restaurantName:r.name,location:r.location,email:e.email||"",phone:e.phone||"",logo:r.logo}),_(!1),S(!0))})(e),className:"p-2 text-gray-400 hover:text-blue-500",children:o.jsx(eg,{size:18})}),o.jsx("button",{onClick:()=>i(e),className:"p-2 text-gray-400 hover:text-orange-500",children:o.jsx(Gf,{size:18})})]})})]},e.id)})})]})})]}),"LOCATIONS"===m&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 flex flex-col lg:flex-row lg:items-center justify-between gap-6 bg-gray-50/50 dark:bg-gray-700/50",children:[o.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Hub Registry"}),o.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[o.jsx(lg,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search hubs...",className:"w-full pl-11 pr-4 py-2.5 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-sm outline-none font-bold dark:text-white",value:k,onChange:e=>v(e.target.value)})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsxs("button",{onClick:()=>ee(!0),className:"flex-1 sm:flex-none px-4 py-2.5 bg-white dark:bg-gray-900 text-orange-500 border-2 border-orange-500 rounded-xl font-black uppercase tracking-widest text-[9px] shadow-sm flex items-center justify-center gap-2 hover:bg-orange-500 hover:text-white transition-all",children:[o.jsx(ng,{size:16})," QR"]}),o.jsx("button",{onClick:()=>{L(null),M({name:"",city:"",state:"",code:"",type:"MULTI"}),A(!0)},className:"flex-[2] sm:flex-none px-6 py-2.5 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg",children:"Register Hub"})]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-8 py-4 text-left",children:"Hub"}),o.jsx("th",{className:"px-8 py-4 text-left",children:"Type"}),o.jsx("th",{className:"px-8 py-4 text-center",children:"Status"}),o.jsx("th",{className:"px-8 py-4 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:we.map(e=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:[o.jsx("td",{className:"px-8 py-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/30 text-orange-500 rounded-xl flex items-center justify-center shadow-inner group-hover:bg-orange-500 group-hover:text-white transition-all",children:o.jsx(Qf,{size:20})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-black dark:text-white text-sm block uppercase tracking-tight",children:e.name}),o.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[e.code," | ",e.state]})]})]})}),o.jsx("td",{className:"px-8 py-5",children:o.jsx("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-tighter "+("SINGLE"===e.type?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"),children:e.type||"MULTI"})}),o.jsx("td",{className:"px-8 py-5 text-center",children:o.jsx("button",{onClick:()=>(e=>{c({...e,isActive:!e.isActive})})(e),className:"p-2 rounded-xl transition-all "+(!1!==e.isActive?"text-green-500 bg-green-50 dark:bg-green-900/20":"text-gray-400 bg-gray-50 dark:bg-gray-700"),children:!1!==e.isActive?o.jsx(rg,{size:20}):o.jsx(rg,{size:20,className:"opacity-40"})})}),o.jsx("td",{className:"px-8 py-5 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>V(e),className:"p-2 text-gray-400 hover:text-orange-500",children:o.jsx(ng,{size:18})}),o.jsx("button",{onClick:()=>(e=>{L(e),M({name:e.name,city:e.city,state:e.state,code:e.code,type:e.type||"MULTI"}),A(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-500",children:o.jsx(eg,{size:18})})]})})]},e.id))})]})})]}),"REPORTS"===m&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[o.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"Sales Analysis"})}),o.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx(lg,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"ID or Kitchen...",className:"w-full h-[36px] pl-10 pr-4 py-2 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-xl text-[10px] font-black uppercase outline-none focus:ring-1 focus:ring-orange-500 transition-all dark:text-white",value:te,onChange:e=>{re(e.target.value),me(1)}})]}),o.jsxs("button",{onClick:async()=>{const e=await je(!0);if(!e||0===e.length)return;const r=[["Order ID","Kitchen","Hub","Table No","Date","Time","Status","Menu Order","Total Bill"],...e.map(e=>{const r=t.find(t=>t.id===e.restaurantId);return[e.id,(null==r?void 0:r.name)||"Unknown",e.locationName||"Unknown",e.tableNumber||"N/A",new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)]})].map(e=>e.join(",")).join("\n"),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download",`platform_sales_report_${ce}_to_${ue}.csv`),document.body.appendChild(s),s.click(),document.body.removeChild(s)},disabled:!be||0===be.totalCount,className:"h-[36px] px-4 py-2 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:bg-orange-500 hover:text-white transition-all shadow-lg whitespace-nowrap",children:[o.jsx(Of,{size:14})," Download report"]})]})]}),o.jsxs("div",{className:"p-2 md:p-4",children:[o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded-2xl border dark:border-gray-700 mb-4 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Period Selection"}),o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-xl border dark:border-gray-600",children:[o.jsx(gf,{size:14,className:"text-orange-500 shrink-0"}),o.jsx("input",{type:"date",value:ce,onChange:e=>{de(e.target.value),me(1)},className:"flex-1 bg-transparent border-none text-[10px] font-black dark:text-white p-0 outline-none"}),o.jsx("span",{className:"text-gray-400 font-black",children:"-"}),o.jsx("input",{type:"date",value:ue,onChange:e=>{he(e.target.value),me(1)},className:"flex-1 bg-transparent border-none text-[10px] font-black dark:text-white p-0 outline-none"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Filter by Kitchen"}),o.jsxs("div",{className:"relative",children:[o.jsx(pg,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:se,onChange:e=>{oe(e.target.value),me(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[o.jsx("option",{value:"ALL",children:"All Kitchens"}),t.map(e=>o.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Filter by Hub"}),o.jsxs("div",{className:"relative",children:[o.jsx(Qf,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:ie,onChange:e=>{le(e.target.value),me(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[o.jsx("option",{value:"ALL",children:"All Hubs"}),a.map(e=>o.jsx("option",{value:e.name,children:e.name},e.id))]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Order Outcome"}),o.jsxs("div",{className:"relative",children:[o.jsx(If,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:ae,onChange:e=>{ne(e.target.value),me(1)},className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl text-[10px] font-black dark:text-white appearance-none cursor-pointer outline-none",children:[o.jsx("option",{value:"ALL",children:"All Outcomes"}),o.jsx("option",{value:ef.COMPLETED,children:"Served"}),o.jsx("option",{value:ef.PENDING,children:"Pending"}),o.jsx("option",{value:ef.ONGOING,children:"Ongoing"}),o.jsx("option",{value:ef.CANCELLED,children:"Rejected"})]})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 mb-4",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Platform Revenue"}),o.jsxs("p",{className:"text-lg md:text-xl font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:["RM",(null==be?void 0:be.summary.totalRevenue.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Filtered Orders"}),o.jsx("p",{className:"text-lg md:text-xl font-black text-gray-900 dark:text-white tracking-tighter leading-none",children:(null==be?void 0:be.summary.orderVolume)||0})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 md:p-3 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[8px] md:text-[9px] font-black mb-1 uppercase tracking-widest",children:"Global Health"}),o.jsxs("p",{className:"text-lg md:text-xl font-black text-green-500 tracking-tighter leading-none",children:[(null==be?void 0:be.summary.efficiency)||0,"%"]})]})]}),o.jsx("h3",{className:"text-xs font-black dark:text-white uppercase tracking-widest mb-3 ml-1",children:"All Order"}),o.jsx("div",{className:"rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden shadow-sm",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-400 text-[10px] font-black uppercase tracking-widest",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-8 py-3 text-left",children:"ID"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Kitchen"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Hub"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Table No"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Time"}),o.jsx("th",{className:"px-8 py-3 text-left",children:"Status"}),o.jsx("th",{className:"px-8 py-3 text-right",children:"Total Bill"})]})}),o.jsxs("tbody",{className:"divide-y dark:divide-gray-700",children:[Se.map(e=>{const r=t.find(t=>t.id===e.restaurantId);return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[o.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black dark:text-white uppercase tracking-widest",children:e.id}),o.jsx("td",{className:"px-8 py-2.5",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:null==r?void 0:r.logo,className:"w-4 h-4 rounded object-cover"}),o.jsx("span",{className:"text-[10px] font-black dark:text-white uppercase tracking-tight truncate max-w-[80px]",children:null==r?void 0:r.name})]})}),o.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:e.locationName}),o.jsxs("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-900 dark:text-white uppercase tracking-widest",children:["#",e.tableNumber]}),o.jsx("td",{className:"px-8 py-2.5 text-[10px] font-black text-gray-700 dark:text-gray-300 uppercase tracking-tighter",children:new Date(e.timestamp).toLocaleDateString()}),o.jsx("td",{className:"px-8 py-2.5 text-[9px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"px-8 py-2.5",children:o.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===ef.COMPLETED?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"),children:e.status===ef.COMPLETED?"Served":e.status})}),o.jsxs("td",{className:"px-8 py-2.5 text-right font-black dark:text-white text-[10px]",children:["RM",e.total.toFixed(2)]})]},e.id)}),0===Se.length&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"py-20 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No matching records found."})})]})]})})}),Ne>1&&o.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2 no-print",children:[o.jsx("button",{onClick:()=>me(1),disabled:1===ge,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(xf,{size:16})}),o.jsx("button",{onClick:()=>me(e=>Math.max(1,e-1)),disabled:1===ge,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(kf,{size:16})}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Ne},(e,t)=>t+1).filter(e=>1===e||e===Ne||e>=ge-2&&e<=ge+2).map((e,t,r)=>{const a=t>0&&e!==r[t-1]+1;return o.jsxs(F.Fragment,{children:[a&&o.jsx("span",{className:"text-gray-400 px-1",children:"..."}),o.jsx("button",{onClick:()=>me(e),className:"w-8 h-8 rounded-lg text-[10px] font-black transition-all "+(ge===e?"bg-orange-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"),children:e})]},e)})}),o.jsx("button",{onClick:()=>me(e=>Math.min(Ne,e+1)),disabled:ge===Ne,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(vf,{size:16})}),o.jsx("button",{onClick:()=>me(Ne),disabled:ge===Ne,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-gray-400 hover:text-orange-500 disabled:opacity-30 transition-all",children:o.jsx(yf,{size:16})})]})]})]}),"SYSTEM"===m&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-4 md:px-8 py-6 border-b dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/50",children:[o.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter text-lg",children:"System Health Monitor"}),o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mt-1",children:"Real-time platform diagnostics"})]}),o.jsx("div",{className:"p-4 md:p-8",children:o.jsx(_y,{})})]})]}),N&&o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[o.jsx("button",{onClick:()=>S(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:24})}),o.jsx("h2",{className:"text-2xl font-black mb-8 dark:text-white uppercase tracking-tighter",children:E?"Modify Vendor":"New Kitchen Signal"}),o.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!B.username||!B.location)return;const t={id:(null==E?void 0:E.user.id)||"",username:B.username,password:B.password,role:"VENDOR",email:B.email,phone:B.phone,isActive:!E||E.user.isActive},r={id:(null==E?void 0:E.res.id)||"",name:B.restaurantName,logo:B.logo,vendorId:(null==E?void 0:E.user.id)||"",location:B.location,menu:(null==E?void 0:E.res.menu)||[]};E?s(t,r):n(t,r),S(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Kitchen Name"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:B.restaurantName,onChange:e=>O({...B,restaurantName:e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Assign to Hub"}),o.jsxs("select",{required:!0,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm appearance-none cursor-pointer",value:B.location,onChange:e=>O({...B,location:e.target.value}),children:[o.jsx("option",{value:"",children:"Select a Hub"}),a.filter(e=>!1!==e.isActive).map(e=>o.jsx("option",{value:e.name,children:e.name},e.id))]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Kitchen Logo (Asset)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{onClick:()=>{var e;return null==(e=T.current)?void 0:e.click()},className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-xl flex items-center justify-center border-2 border-dashed border-orange-200 cursor-pointer hover:bg-orange-100 transition-colors shrink-0",children:B.logo?o.jsx("img",{src:B.logo,className:"w-full h-full object-cover rounded-lg"}):o.jsx(yg,{size:18})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ff,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Paste URL or upload...",className:"w-full pl-9 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-xs",value:B.logo,onChange:e=>O({...B,logo:e.target.value})})]}),o.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)try{const e=await _g(r,"quickserve","logos");O({...B,logo:e})}catch(a){alert("Failed to upload logo. Please try again.")}}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Contact Phone No."}),o.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:B.phone,onChange:e=>O({...B,phone:e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Contact Email"}),o.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:B.email,onChange:e=>O({...B,email:e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Vendor Username"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:B.username,onChange:e=>O({...B,username:e.target.value})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Secret Key (Password)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{required:!E,type:C?"text":"password",className:"w-full pl-4 pr-11 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:B.password,onChange:e=>O({...B,password:e.target.value}),placeholder:E?"Leave blank to keep current password":"Enter password"}),o.jsx("button",{type:"button",onClick:()=>_(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:C?o.jsx(Rf,{size:18}):o.jsx(Af,{size:18})})]})]}),o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx("button",{type:"submit",className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl hover:bg-orange-600 transition-all active:scale-95",children:"Save Changes"})})]})]})}),R&&o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[o.jsx("button",{onClick:()=>A(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:24})}),o.jsx("h2",{className:"text-2xl font-black mb-8 dark:text-white uppercase tracking-tighter",children:I?"Modify Hub":"Register New Hub"}),o.jsxs("form",{onSubmit:e=>{e.preventDefault(),I?c({...I,...z}):l({...z,id:"",isActive:!0}),A(!1)},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hub Name"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:z.name,onChange:e=>M({...z,name:e.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"City"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:z.city,onChange:e=>M({...z,city:e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"State"}),o.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm",value:z.state,onChange:e=>M({...z,state:e.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Short Code"}),o.jsx("input",{required:!0,type:"text",maxLength:3,placeholder:"e.g. SF",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border dark:border-gray-600 rounded-xl outline-none font-bold dark:text-white text-sm uppercase",value:z.code,onChange:e=>M({...z,code:e.target.value.toUpperCase()})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hub Type"}),o.jsxs("div",{className:"flex bg-gray-50 dark:bg-gray-700 p-1 rounded-xl",children:[o.jsx("button",{type:"button",onClick:()=>M({...z,type:"MULTI"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("MULTI"===z.type?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Multi"}),o.jsx("button",{type:"button",onClick:()=>M({...z,type:"SINGLE"}),className:"flex-1 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("SINGLE"===z.type?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),children:"Single"})]})]})]}),o.jsxs("div",{className:"pt-4 flex gap-4",children:[I&&o.jsx("button",{type:"button",onClick:()=>{confirm("Delete Hub?")&&d(I.id),A(!1)},className:"p-3 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:o.jsx(bg,{size:24})}),o.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl",children:"Confirm Hub Data"})]})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 z-[110] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-4xl w-full p-8 shadow-2xl relative animate-in zoom-in duration-300",children:[o.jsx("button",{onClick:()=>V(null),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors no-print",children:o.jsx(Ng,{size:24})}),o.jsxs("div",{className:"no-print",children:[o.jsx("h2",{className:"text-2xl font-black mb-1 dark:text-white uppercase tracking-tighter",children:"Hub QR Factory"}),o.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-8",children:["Generating for: ",U.name]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-2xl space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1.5 ml-1",children:"Range Strategy"}),o.jsxs("div",{className:"flex bg-white dark:bg-gray-800 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>K("SINGLE"),className:"flex-1 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("SINGLE"===H?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Single"}),o.jsx("button",{onClick:()=>K("BATCH"),className:"flex-1 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all "+("BATCH"===H?"bg-orange-500 text-white shadow-md":"text-gray-400"),children:"Batch"})]})]}),"SINGLE"===H?o.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:G,onChange:e=>W(e.target.value),placeholder:"Table No."}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("input",{type:"number",className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:Q,onChange:e=>J(e.target.value),placeholder:"Start"}),o.jsx("input",{type:"number",className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-xl outline-none font-bold text-sm dark:text-white",value:X,onChange:e=>Y(e.target.value),placeholder:"End"})]}),o.jsxs("button",{onClick:()=>{requestAnimationFrame(()=>{setTimeout(()=>{window.print()},50)})},className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black uppercase tracking-widest text-[10px] shadow-lg flex items-center justify-center gap-2",children:[o.jsx(ag,{size:18})," Print Labelling"]})]}),o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border-4 border-dashed border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center p-8",children:"SINGLE"===H?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(Ce(U.name,G))}`,alt:"QR",className:"w-40 h-40 mb-4"}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:U.name}),o.jsxs("span",{className:"text-2xl font-black text-orange-500 uppercase tracking-tighter",children:["TABLE ",G]})]}):o.jsxs("div",{className:"text-center opacity-40",children:[o.jsx(Uf,{size:48,className:"mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Multiple Print Nodes Ready"})]})})]})]}),o.jsx("div",{className:"hidden print:block bg-white text-black p-0",children:"SINGLE"===H?o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=${encodeURIComponent(Ce(U.name,G))}`,className:"w-80 h-80 mb-8"}),o.jsx("h1",{className:"text-4xl font-black uppercase",children:U.name}),o.jsxs("h2",{className:"text-6xl font-black text-orange-600",children:["TABLE ",G]})]}):o.jsx("div",{className:"grid grid-cols-2 gap-8 p-8",children:(()=>{const e=parseInt(Q),t=parseInt(X);if(isNaN(e)||isNaN(t))return null;const r=Math.max(0,t-e+1);return Array.from({length:r}).map((t,r)=>{const a=e+r;return o.jsxs("div",{className:"page-break-inside-avoid border-2 border-gray-200 p-8 flex flex-col items-center rounded-[2rem]",children:[o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(Ce(U.name,String(a)))}`,className:"w-48 h-48 mb-4"}),o.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 text-gray-500",children:U.name}),o.jsxs("p",{className:"text-2xl font-black uppercase",children:["TABLE ",a]})]},a)})})()})})]})}),Z&&o.jsx("div",{className:"fixed inset-0 z-[120] bg-black/70 backdrop-blur-md flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-lg w-full p-8 shadow-2xl relative",children:[o.jsx("button",{onClick:()=>ee(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ng,{size:24})}),o.jsx("h2",{className:"text-2xl font-black mb-6 dark:text-white uppercase tracking-tighter",children:"Select Hub to Generate"}),o.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:a.filter(e=>!1!==e.isActive).map(e=>o.jsxs("button",{onClick:()=>{V(e),ee(!1)},className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-2xl border dark:border-gray-700 group transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qf,{size:20,className:"text-orange-500"}),o.jsx("span",{className:"font-black dark:text-white uppercase tracking-tight text-sm",children:e.name})]}),o.jsx(vf,{size:18,className:"text-gray-300 group-hover:text-orange-500 translate-x-0 group-hover:translate-x-1 transition-all"})]},e.id))})]})}),o.jsx("style",{children:"\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .custom-scrollbar::-webkit-scrollbar { width: 4px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 10px; }\n      "})]})},Py=({restaurant:e,orders:t,onUpdateOrder:r,onPlaceOrder:a,onFetchPaginatedOrders:n,onFetchAllFilteredOrders:s,onUpdateRestaurantSettings:i,onSwitchToVendor:l})=>{var c,d,u,h;const[p,f]=q.useState("COUNTER"),[g,m]=q.useState(!1),[b,x]=q.useState("grid-4"),[y,k]=q.useState([]),[v,w]=q.useState(""),[j,N]=q.useState("Counter"),[S,C]=q.useState(""),[_,E]=q.useState("ALL"),[P,B]=q.useState(""),[O,T]=q.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}),[R,A]=q.useState(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]}),[I,L]=q.useState("ALL"),[z,M]=q.useState(""),[D,$]=q.useState(30),[U,F]=q.useState(1),[V,H]=q.useState(null),[K,G]=q.useState(!1),[W,Q]=q.useState(null),J=q.useMemo(()=>{const t=new Set(e.menu.map(e=>e.category));return["ALL",...Array.from(t)]},[e.menu]),X=q.useMemo(()=>e.menu.filter(e=>{const t=e.name.toLowerCase().includes(S.toLowerCase()),r="ALL"===_||e.category===_;return t&&r&&!e.isArchived}),[e.menu,S,_]),Y=q.useMemo(()=>{const e={};return("ALL"===_?J.filter(e=>"ALL"!==e):[_]).forEach(t=>{const r=X.filter(e=>e.category===t);r.length>0&&(e[t]=r)}),e},[X,_,J]),Z=(e,t)=>{k(r=>r.map(r=>{if(r.id===e){const e=Math.max(1,r.quantity+t);return{...r,quantity:e}}return r}))},ee=q.useMemo(()=>y.reduce((e,t)=>e+t.price*t.quantity,0),[y]),te=q.useMemo(()=>t.filter(t=>t.status===ef.SERVED&&t.restaurantId===e.id),[t,e.id]),re=async(t=!1)=>{if(n){t||G(!0);try{const r=await n({restaurantId:e.id,startDate:O,endDate:R,status:I,search:z},t?1:U,t?1e4:D);if(t)return r.orders;H(r)}catch(r){}finally{t||G(!1)}}};q.useEffect(()=>{"REPORTS"===p&&re()},[p,O,R,I,z,U,D]);const ae=V?Math.ceil(V.totalCount/D):0,ne=(null==V?void 0:V.orders)||[],se=async t=>{if(!i)return;const r=e.settings||{},a={...r,[t]:!1===r[t]};await i(e.id,a)};return o.jsxs("div",{className:"flex h-[calc(100vh-64px)] bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[g&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>m(!1)}),o.jsxs("aside",{className:`\n        fixed lg:relative inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r dark:border-gray-700 \n        flex flex-col transition-transform duration-300 ease-in-out no-print\n        ${g?"translate-x-0":"-translate-x-full lg:translate-x-0"}\n      `,children:[o.jsxs("div",{className:"p-6 border-b dark:border-gray-700",children:[o.jsx("h2",{className:"text-lg font-black dark:text-white uppercase tracking-tighter",children:"POS Terminal"}),o.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:e.name})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>f("COUNTER"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all "+("COUNTER"===p?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx(uf,{size:18})," Counter (Cashier)"]}),o.jsxs("button",{onClick:()=>f("QR_ORDERS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all "+("QR_ORDERS"===p?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx(Cf,{size:18})," QR Orders",te.length>0&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded-full",children:te.length})]}),o.jsxs("button",{onClick:()=>f("REPORTS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all "+("REPORTS"===p?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx(bf,{size:18})," Sales Report"]}),o.jsxs("button",{onClick:()=>f("QR_GEN"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all "+("QR_GEN"===p?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx(ng,{size:18})," QR Generator"]}),o.jsxs("button",{onClick:()=>f("SETTINGS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all "+("SETTINGS"===p?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[o.jsx(cg,{size:18})," Kitchen Settings"]})]}),l&&o.jsx("div",{className:"p-4 mt-auto border-t dark:border-gray-700",children:o.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all border border-orange-100 dark:border-orange-900/20",children:[o.jsx(hg,{size:18})," Switch to Vendor"]})})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"lg:hidden flex items-center p-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-30 no-print",children:[o.jsx("button",{onClick:()=>m(!0),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx(Jf,{size:24})}),o.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[o.jsx("img",{src:e.logo,className:"w-8 h-8 rounded-lg shadow-sm"}),o.jsx("h1",{className:"font-black dark:text-white uppercase tracking-tighter text-sm truncate",children:"COUNTER"===p?"POS Counter":"QR_ORDERS"===p?"QR Orders":"REPORTS"===p?"Sales Report":"QR_GEN"===p?"QR Generator":"Kitchen Settings"})]})]}),"COUNTER"===p&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b dark:border-gray-700 px-6 py-4 flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"flex items-center gap-4 overflow-x-auto no-scrollbar flex-1",children:J.map(e=>o.jsx("button",{onClick:()=>E(e),className:"px-4 py-2 rounded-lg font-black text-[10px] uppercase tracking-widest whitespace-nowrap transition-all "+(_===e?"bg-black text-white dark:bg-white dark:text-black":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e},e))}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl shrink-0",children:[o.jsx("button",{onClick:()=>x("grid-3"),className:"p-2 rounded-lg transition-all "+("grid-3"===b?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),title:"3 Columns",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>x("grid-4"),className:"p-2 rounded-lg transition-all "+("grid-4"===b?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),title:"4 Columns",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>x("grid-5"),className:"p-2 rounded-lg transition-all "+("grid-5"===b?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),title:"5 Columns",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>x("list"),className:"p-2 rounded-lg transition-all "+("list"===b?"bg-white dark:bg-gray-600 shadow-sm text-orange-500":"text-gray-400"),title:"List View",children:o.jsx(Vf,{size:16})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(lg,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search menu items...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-2 focus:ring-orange-500 transition-all",value:S,onChange:e=>C(e.target.value)})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 scroll-smooth",children:o.jsx("div",{className:"space-y-4",children:Object.entries(Y).map(([t,r])=>o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"}),o.jsx("h3",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] whitespace-nowrap",children:t}),o.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700"})]}),o.jsx("div",{className:"grid gap-1.5 "+("grid-3"===b?"grid-cols-3":"grid-4"===b?"grid-cols-4":"grid-5"===b?"grid-cols-5":"grid-cols-1"),children:r.map(t=>o.jsxs("button",{onClick:()=>(t=>{k(r=>r.find(e=>e.id===t.id)?r.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...r,{...t,quantity:1,restaurantId:e.id}])})(t),className:"bg-white dark:bg-gray-800 border dark:border-gray-700 text-left hover:border-orange-500 transition-all group shadow-sm flex "+("list"===b?"flex-row items-center gap-4 p-2 rounded-xl":"flex-col p-2 rounded-xl"),children:[o.jsx("div",{className:("list"===b?"w-16 h-16":"aspect-square w-full")+" rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 shrink-0",children:t.image?o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx(hg,{size:20})})}),o.jsxs("div",{className:"list"===b?"flex-1":"mt-3",children:[o.jsx("h4",{className:"font-black text-xs dark:text-white uppercase tracking-tighter mb-1 line-clamp-1",children:t.name}),o.jsxs("p",{className:"text-orange-500 font-black text-sm",children:["RM",t.price.toFixed(2)]})]})]},t.id))})]},t))})})]}),"QR_ORDERS"===p&&o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tighter",children:"Unpaid QR Orders"}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(lg,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search Table/ID...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black uppercase outline-none focus:ring-1 focus:ring-orange-500 dark:text-white",value:P,onChange:e=>B(e.target.value)})]})]}),o.jsx("div",{className:"space-y-4",children:0===te.length?o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl border dark:border-gray-700 text-center",children:[o.jsx(Nf,{size:48,className:"mx-auto text-green-500 mb-4 opacity-20"}),o.jsx("p",{className:"text-gray-400 font-black uppercase tracking-widest text-xs",children:"All bills cleared"})]}):te.map(e=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center text-orange-500 font-black text-lg",children:e.tableNumber}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:["Order #",e.id]}),o.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:[e.items.length," Items  RM",e.total.toFixed(2)]})]})]}),o.jsx("button",{onClick:()=>(async e=>{confirm("Confirm payment for this order?")&&await r(e,ef.COMPLETED)})(e.id),className:"px-6 py-3 bg-black dark:bg-white text-white dark:text-black rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-lg",children:"Collect Payment"})]},e.id))})]})}),"REPORTS"===p&&o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter",children:"POS Sales Report"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-widest",children:"Financial performance and order history."})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded-xl border dark:border-gray-700",children:[o.jsx(gf,{size:14,className:"text-orange-500"}),o.jsx("input",{type:"date",value:O,onChange:e=>T(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"}),o.jsx("span",{className:"text-gray-400 font-black",children:"to"}),o.jsx("input",{type:"date",value:R,onChange:e=>A(e.target.value),className:"bg-transparent border-none text-[10px] font-black dark:text-white outline-none"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 md:p-4 rounded-2xl border dark:border-gray-700 shadow-sm flex flex-col md:flex-row items-center gap-4 mb-6",children:[o.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:o.jsxs("div",{className:"w-full sm:w-48",children:[o.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Order Outcome"}),o.jsxs("select",{value:I,onChange:e=>L(e.target.value),className:"w-full p-1.5 bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"ALL",children:"All Outcomes"}),o.jsx("option",{value:ef.COMPLETED,children:"Paid/Finalized"}),o.jsx("option",{value:ef.SERVED,children:"Served (Unpaid)"}),o.jsx("option",{value:ef.CANCELLED,children:"Rejected"})]})]})}),o.jsxs("button",{onClick:async()=>{const e=await re(!0);if(!e||0===e.length)return;const t=[["Order ID","Table","Date","Time","Status","Items","Total"],...e.map(e=>[e.id,e.tableNumber,new Date(e.timestamp).toLocaleDateString(),new Date(e.timestamp).toLocaleTimeString(),e.status,e.items.map(e=>`${e.name} (x${e.quantity})`).join("; "),e.total.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.setAttribute("download",`POS_Report_${O}_to_${R}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"w-full md:w-auto px-6 py-2 bg-black text-white dark:bg-white dark:text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-orange-500 transition-all",children:[o.jsx(Of,{size:16})," Export CSV"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:["RM",(null==V?void 0:V.summary.totalRevenue.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Order Volume"}),o.jsx("p",{className:"text-2xl font-black dark:text-white tracking-tighter",children:(null==V?void 0:V.summary.orderVolume)||0})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm",children:[o.jsx("p",{className:"text-gray-400 text-[8px] font-black uppercase tracking-widest mb-2",children:"Efficiency"}),o.jsxs("p",{className:"text-2xl font-black text-green-500 tracking-tighter",children:[(null==V?void 0:V.summary.efficiency)||0,"%"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 overflow-hidden shadow-sm",children:[o.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative max-w-sm w-full",children:[o.jsx(lg,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search Order ID...",value:z,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border-none rounded-xl text-xs font-black dark:text-white outline-none focus:ring-1 focus:ring-orange-500"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Show"}),o.jsxs("select",{value:D,onChange:e=>$(Number(e.target.value)),className:"bg-gray-50 dark:bg-gray-700 border-none rounded-lg text-[10px] font-black dark:text-white p-1.5 outline-none cursor-pointer",children:[o.jsx("option",{value:30,children:"30"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Entries"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b dark:border-gray-700",children:[o.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Order ID"}),o.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Table"}),o.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),o.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Time"})]})}),o.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:ne.map(e=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white uppercase tracking-tighter",children:["#",e.id]}),o.jsx("td",{className:"px-6 py-4 font-black text-[10px] dark:text-white",children:e.tableNumber}),o.jsxs("td",{className:"px-6 py-4 font-black text-[10px] text-orange-500",children:["RM",e.total.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter "+(e.status===ef.COMPLETED?"bg-green-100 text-green-600":e.status===ef.SERVED?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"),children:e.status===ef.COMPLETED?"Paid":e.status===ef.SERVED?"Served":e.status})}),o.jsx("td",{className:"px-6 py-4 text-[10px] text-gray-400 font-medium",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id))})]})})]}),ae>1&&o.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 overflow-x-auto py-2",children:[o.jsx("button",{onClick:()=>F(e=>Math.max(1,e-1)),disabled:1===U,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 disabled:opacity-30",children:o.jsx(kf,{size:16})}),Array.from({length:ae},(e,t)=>t+1).map(e=>o.jsx("button",{onClick:()=>F(e),className:"w-8 h-8 rounded-lg font-black text-[10px] transition-all "+(U===e?"bg-orange-500 text-white shadow-md":"bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 hover:border-orange-500"),children:e},e)),o.jsx("button",{onClick:()=>F(e=>Math.min(ae,e+1)),disabled:U===ae,className:"p-2 rounded-lg bg-white dark:bg-gray-800 border dark:border-gray-700 text-gray-400 disabled:opacity-30",children:o.jsx(vf,{size:16})})]})]})}),"QR_GEN"===p&&o.jsx("div",{className:"flex-1 overflow-y-auto p-6 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-[40px] border dark:border-gray-700 shadow-2xl text-center max-w-md w-full",children:[o.jsx("div",{className:"w-24 h-24 bg-orange-500 rounded-3xl flex items-center justify-center text-white mx-auto mb-6 shadow-xl shadow-orange-500/20",children:o.jsx(ng,{size:48})}),o.jsx("h3",{className:"text-2xl font-black dark:text-white uppercase tracking-tighter mb-2",children:"Hub QR Generator"}),o.jsx("p",{className:"text-xs text-gray-400 font-medium mb-8",children:"Generate ordering QR codes for your tables."}),o.jsx("div",{className:"space-y-4 mb-8",children:o.jsxs("div",{className:"text-left",children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-2 ml-1",children:"Table Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mf,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl text-sm font-black dark:text-white outline-none focus:ring-2 focus:ring-orange-500 transition-all",placeholder:"e.g. 12",value:j,onChange:e=>N(e.target.value)})]})]})}),o.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-orange-900/10 rounded-3xl border border-orange-100 dark:border-orange-900/20 mb-8",children:[o.jsx("p",{className:"text-[10px] font-black text-orange-700 dark:text-orange-400 uppercase tracking-widest mb-1",children:"Preview Link"}),o.jsxs("p",{className:"text-[10px] font-bold text-orange-600 dark:text-orange-500 break-all",children:[window.location.origin,"/?location=",encodeURIComponent(e.location),"&table=",j]})]}),o.jsxs("button",{onClick:()=>window.print(),className:"w-full py-4 bg-black dark:bg-white text-white dark:text-black rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl flex items-center justify-center gap-2",children:[o.jsx(ag,{size:16})," Generate & Print"]})]})}),"SETTINGS"===p&&o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tighter mb-6",children:"Kitchen Access Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:"Sales Reports"}),o.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Allow kitchen staff to view financial reports"})]}),o.jsx("button",{onClick:()=>se("showSalesReport"),className:"w-12 h-6 rounded-full transition-all relative "+(!1!==(null==(c=e.settings)?void 0:c.showSalesReport)?"bg-orange-500":"bg-gray-200 dark:bg-gray-700"),children:o.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(!1!==(null==(d=e.settings)?void 0:d.showSalesReport)?"left-7":"left-1")})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border dark:border-gray-700 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-black dark:text-white uppercase tracking-tighter",children:"QR Generator"}),o.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Allow kitchen staff to generate table QR codes"})]}),o.jsx("button",{onClick:()=>se("showQrGenerator"),className:"w-12 h-6 rounded-full transition-all relative "+(!1!==(null==(u=e.settings)?void 0:u.showQrGenerator)?"bg-orange-500":"bg-gray-200 dark:bg-gray-700"),children:o.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all "+(!1!==(null==(h=e.settings)?void 0:h.showQrGenerator)?"left-7":"left-1")})})]})]})]})})]}),"COUNTER"===p&&o.jsxs("div",{className:"w-96 bg-white dark:bg-gray-800 border-l dark:border-gray-700 flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex items-center justify-between",children:[o.jsx("h3",{className:"font-black dark:text-white uppercase tracking-tighter",children:"Current Order"}),o.jsx("button",{onClick:()=>k([]),className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(bg,{size:18})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===y.length?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-20",children:[o.jsx(hg,{size:48,className:"mb-4"}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Cart is empty"})]}):y.map(e=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-black text-[10px] dark:text-white uppercase tracking-tighter line-clamp-1",children:e.name}),o.jsxs("p",{className:"text-[10px] text-orange-500 font-black",children:["RM",e.price.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>Z(e.id,-1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:o.jsx(Yf,{size:12})}),o.jsx("span",{className:"text-[10px] font-black w-4 text-center dark:text-white",children:e.quantity}),o.jsx("button",{onClick:()=>Z(e.id,1),className:"p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition-all",children:o.jsx(tg,{size:12})})]}),o.jsx("button",{onClick:()=>{return t=e.id,void k(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-300 hover:text-red-500",children:o.jsx(bg,{size:14})})]},e.id))}),o.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/30 border-t dark:border-gray-700 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-gray-400",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["RM",ee.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-between text-lg font-black dark:text-white tracking-tighter",children:[o.jsx("span",{className:"uppercase",children:"Total"}),o.jsxs("span",{className:"text-orange-500",children:["RM",ee.toFixed(2)]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Table"}),o.jsx("input",{type:"text",value:j,onChange:e=>N(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white"})]}),o.jsxs("div",{className:"flex-[2]",children:[o.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1 ml-1",children:"Remark"}),o.jsx("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"w-full p-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl text-[10px] font-black dark:text-white",placeholder:"No spicy..."})]})]}),o.jsxs("button",{onClick:async()=>{if(0!==y.length)try{await a(y,v,j),k([]),w(""),N("Counter"),alert("Order placed successfully!")}catch(e){alert("Failed to place order")}},disabled:0===y.length,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-orange-600 transition-all shadow-xl shadow-orange-500/20 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:[o.jsx(Ef,{size:16})," Complete Order"]})]})]})]})]})]})};var By,Oy={exports:{}};"undefined"!=typeof self&&self,By=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,r){return new e(new Uint8ClampedArray(t*r),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height||!this.data[t*this.width+e])},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r?1:0},e.prototype.setRegion=function(e,t,r,a,n){for(var s=t;s<t+a;s++)for(var o=e;o<e+r;o++)this.set(o,s,!!n)},e}();t.BitMatrix=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(2);t.addOrSubtractGF=function(e,t){return e^t};var n=function(){function e(e,t,r){this.primitive=e,this.size=t,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var n=1,s=0;s<this.size;s++)this.expTable[s]=n,(n*=2)>=this.size&&(n=(n^this.primitive)&this.size-1);for(s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var r=new Uint8ClampedArray(e+1);return r[0]=t,new a.default(this,r)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var a=1;a<r&&0===t[a];)a++;if(a===r)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-a);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=t[a+n]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var r;if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,s=t.coefficients;n.length>s.length&&(n=(r=[s,n])[0],s=r[1]);for(var o=new Uint8ClampedArray(s.length),i=s.length-n.length,l=0;l<i;l++)o[l]=s[l];for(l=i;l<s.length;l++)o[l]=a.addOrSubtractGF(n[l-i],s[l]);return new e(this.field,o)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var r=this.coefficients.length,a=new Uint8ClampedArray(r),n=0;n<r;n++)a[n]=this.field.multiply(this.coefficients[n],t);return new e(this.field,a)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var r=this.coefficients,n=r.length,s=t.coefficients,o=s.length,i=new Uint8ClampedArray(n+o-1),l=0;l<n;l++)for(var c=r[l],d=0;d<o;d++)i[l+d]=a.addOrSubtractGF(i[l+d],this.field.multiply(c,s[d]));return new e(this.field,i)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Error("Invalid degree less than 0");if(0===r)return this.field.zero;for(var a=this.coefficients.length,n=new Uint8ClampedArray(a+t),s=0;s<a;s++)n[s]=this.field.multiply(this.coefficients[s],r);return new e(this.field,n)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var r=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=a.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var n=1;n<r;n++)t=a.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[n]);return t},e}();t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),n=r(5),s=r(11),o=r(12);function i(e){var t=o.locate(e);if(!t)return null;for(var r=0,a=t;r<a.length;r++){var i=a[r],l=s.extract(e,i),c=n.decode(l.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:l.mappingFunction(i.dimension,0),topLeftCorner:l.mappingFunction(0,0),bottomRightCorner:l.mappingFunction(i.dimension,i.dimension),bottomLeftCorner:l.mappingFunction(0,i.dimension),topRightFinderPattern:i.topRight,topLeftFinderPattern:i.topLeft,bottomLeftFinderPattern:i.bottomLeft,bottomRightAlignmentPattern:i.alignmentPattern}}}return null}var l={inversionAttempts:"attemptBoth"};function c(e,t,r,n){void 0===n&&(n={});var s=l;Object.keys(s||{}).forEach(function(e){s[e]=n[e]||s[e]});var o="attemptBoth"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,c="onlyInvert"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,d=a.binarize(e,t,r,o),u=d.binarized,h=d.inverted,p=i(c?h:u);return p||"attemptBoth"!==s.inversionAttempts&&"invertFirst"!==s.inversionAttempts||(p=i(c?u:h)),p}c.default=c,t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);function n(e,t,r){return e<t?t:e>r?r:e}var s=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,r){this.data[t*this.width+e]=r},e}();t.binarize=function(e,t,r,o){if(e.length!==t*r*4)throw new Error("Malformed data passed to binarizer.");for(var i=new s(t,r),l=0;l<t;l++)for(var c=0;c<r;c++){var d=e[4*(c*t+l)+0],u=e[4*(c*t+l)+1],h=e[4*(c*t+l)+2];i.set(l,c,.2126*d+.7152*u+.0722*h)}for(var p=Math.ceil(t/8),f=Math.ceil(r/8),g=new s(p,f),m=0;m<f;m++)for(var b=0;b<p;b++){var x=0,y=1/0,k=0;for(c=0;c<8;c++)for(l=0;l<8;l++){var v=i.get(8*b+l,8*m+c);x+=v,y=Math.min(y,v),k=Math.max(k,v)}var w=x/Math.pow(8,2);if(k-y<=24&&(w=y/2,m>0&&b>0)){var j=(g.get(b,m-1)+2*g.get(b-1,m)+g.get(b-1,m-1))/4;y<j&&(w=j)}g.set(b,m,w)}var N=a.BitMatrix.createEmpty(t,r),S=null;for(o&&(S=a.BitMatrix.createEmpty(t,r)),m=0;m<f;m++)for(b=0;b<p;b++){for(var C=n(b,2,p-3),_=n(m,2,f-3),E=(x=0,-2);E<=2;E++)for(var P=-2;P<=2;P++)x+=g.get(C+E,_+P);var B=x/25;for(E=0;E<8;E++)for(P=0;P<8;P++){l=8*b+E,c=8*m+P;var O=i.get(l,c);N.set(l,c,O<=B),o&&S.set(l,c,!(O<=B))}}return o?{binarized:N,inverted:S}:{binarized:N}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),n=r(6),s=r(9),o=r(10);function i(e,t){for(var r=e^t,a=0;r;)a++,r&=r-1;return a}function l(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],d=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function u(e,t,r){for(var n=d[r.dataMask],s=e.height,o=function(e){var t=17+4*e.versionNumber,r=a.BitMatrix.createEmpty(t,t);r.setRegion(0,0,9,9,!0),r.setRegion(t-8,0,8,9,!0),r.setRegion(0,t-8,9,8,!0);for(var n=0,s=e.alignmentPatternCenters;n<s.length;n++)for(var o=s[n],i=0,l=e.alignmentPatternCenters;i<l.length;i++){var c=l[i];6===o&&6===c||6===o&&c===t-7||o===t-7&&6===c||r.setRegion(o-2,c-2,5,5,!0)}return r.setRegion(6,9,1,t-17,!0),r.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(r.setRegion(t-11,0,3,6,!0),r.setRegion(0,t-11,6,3,!0)),r}(t),i=[],c=0,u=0,h=!0,p=s-1;p>0;p-=2){6===p&&p--;for(var f=0;f<s;f++)for(var g=h?s-1-f:f,m=0;m<2;m++){var b=p-m;if(!o.get(b,g)){u++;var x=e.get(b,g);n({y:g,x:b})&&(x=!x),c=l(x,c),8===u&&(i.push(c),u=0,c=0)}}h=!h}return i}function h(e){var t=function(e){var t=e.height,r=Math.floor((t-17)/4);if(r<=6)return o.VERSIONS[r-1];for(var a=0,n=5;n>=0;n--)for(var s=t-9;s>=t-11;s--)a=l(e.get(s,n),a);var c=0;for(s=5;s>=0;s--)for(n=t-9;n>=t-11;n--)c=l(e.get(s,n),c);for(var d,u=1/0,h=0,p=o.VERSIONS;h<p.length;h++){var f=p[h];if(f.infoBits===a||f.infoBits===c)return f;var g=i(a,f.infoBits);g<u&&(d=f,u=g),(g=i(c,f.infoBits))<u&&(d=f,u=g)}return u<=3?d:void 0}(e);if(!t)return null;var r=function(e){for(var t=0,r=0;r<=8;r++)6!==r&&(t=l(e.get(r,8),t));for(var a=7;a>=0;a--)6!==a&&(t=l(e.get(8,a),t));var n=e.height,s=0;for(a=n-1;a>=n-7;a--)s=l(e.get(8,a),s);for(r=n-8;r<n;r++)s=l(e.get(r,8),s);for(var o=1/0,d=null,u=0,h=c;u<h.length;u++){var p=h[u],f=p.bits,g=p.formatInfo;if(f===t||f===s)return g;var m=i(t,f);m<o&&(d=g,o=m),t!==s&&(m=i(s,f))<o&&(d=g,o=m)}return o<=3?d:null}(e);if(!r)return null;var a=function(e,t,r){var a=t.errorCorrectionLevels[r],n=[],s=0;if(a.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)n.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),s+=e.dataCodewordsPerBlock+a.ecCodewordsPerBlock}),e.length<s)return null;e=e.slice(0,s);for(var o=a.ecBlocks[0].dataCodewordsPerBlock,i=0;i<o;i++)for(var l=0,c=n;l<c.length;l++)c[l].codewords.push(e.shift());if(a.ecBlocks.length>1){var d=a.ecBlocks[0].numBlocks,u=a.ecBlocks[1].numBlocks;for(i=0;i<u;i++)n[d+i].codewords.push(e.shift())}for(;e.length>0;)for(var h=0,p=n;h<p.length;h++)p[h].codewords.push(e.shift());return n}(u(e,t,r),t,r.errorCorrectionLevel);if(!a)return null;for(var d=a.reduce(function(e,t){return e+t.numDataCodewords},0),h=new Uint8ClampedArray(d),p=0,f=0,g=a;f<g.length;f++){var m=g[f],b=s.decode(m.codewords,m.codewords.length-m.numDataCodewords);if(!b)return null;for(var x=0;x<m.numDataCodewords;x++)h[p++]=b[x]}try{return n.decode(h,t.versionNumber)}catch(y){return null}}t.decode=function(e){if(null==e)return null;var t=h(e);if(t)return t;for(var r=0;r<e.width;r++)for(var a=r+1;a<e.height;a++)e.get(r,a)!==e.get(a,r)&&(e.set(r,a,!e.get(r,a)),e.set(a,r,!e.get(a,r)));return h(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a,n,s,o,i=r(7),l=r(8);function c(e,t){for(var r=[],a="",n=[10,12,14][t],s=e.readBits(n);s>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var o=Math.floor(c/100),i=Math.floor(c/10)%10,l=c%10;r.push(48+o,48+i,48+l),a+=o.toString()+i.toString()+l.toString(),s-=3}if(2===s){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");o=Math.floor(c/10),i=c%10,r.push(48+o,48+i),a+=o.toString()+i.toString()}else if(1===s){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");r.push(48+c),a+=c.toString()}return{bytes:r,text:a}}(n=a=t.Mode||(t.Mode={})).Numeric="numeric",n.Alphanumeric="alphanumeric",n.Byte="byte",n.Kanji="kanji",n.ECI="eci",(o=s||(s={}))[o.Terminator=0]="Terminator",o[o.Numeric=1]="Numeric",o[o.Alphanumeric=2]="Alphanumeric",o[o.Byte=4]="Byte",o[o.Kanji=8]="Kanji",o[o.ECI=7]="ECI";var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(e,t){for(var r=[],a="",n=[9,11,13][t],s=e.readBits(n);s>=2;){var o=e.readBits(11),i=Math.floor(o/45),l=o%45;r.push(d[i].charCodeAt(0),d[l].charCodeAt(0)),a+=d[i]+d[l],s-=2}return 1===s&&(i=e.readBits(6),r.push(d[i].charCodeAt(0)),a+=d[i]),{bytes:r,text:a}}function h(e,t){for(var r=[],a="",n=[8,16,16][t],s=e.readBits(n),o=0;o<s;o++){var i=e.readBits(8);r.push(i)}try{a+=decodeURIComponent(r.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(l){}return{bytes:r,text:a}}function p(e,t){for(var r=[],a="",n=[8,10,12][t],s=e.readBits(n),o=0;o<s;o++){var i=e.readBits(13),c=Math.floor(i/192)<<8|i%192;c+=c<7936?33088:49472,r.push(c>>8,255&c),a+=String.fromCharCode(l.shiftJISTable[c])}return{bytes:r,text:a}}t.decode=function(e,t){for(var r,n,o,l,d=new i.BitStream(e),f=t<=9?0:t<=26?1:2,g={text:"",bytes:[],chunks:[],version:t};d.available()>=4;){var m=d.readBits(4);if(m===s.Terminator)return g;if(m===s.ECI)0===d.readBits(1)?g.chunks.push({type:a.ECI,assignmentNumber:d.readBits(7)}):0===d.readBits(1)?g.chunks.push({type:a.ECI,assignmentNumber:d.readBits(14)}):0===d.readBits(1)?g.chunks.push({type:a.ECI,assignmentNumber:d.readBits(21)}):g.chunks.push({type:a.ECI,assignmentNumber:-1});else if(m===s.Numeric){var b=c(d,f);g.text+=b.text,(r=g.bytes).push.apply(r,b.bytes),g.chunks.push({type:a.Numeric,text:b.text})}else if(m===s.Alphanumeric){var x=u(d,f);g.text+=x.text,(n=g.bytes).push.apply(n,x.bytes),g.chunks.push({type:a.Alphanumeric,text:x.text})}else if(m===s.Byte){var y=h(d,f);g.text+=y.text,(o=g.bytes).push.apply(o,y.bytes),g.chunks.push({type:a.Byte,bytes:y.bytes,text:y.text})}else if(m===s.Kanji){var k=p(d,f);g.text+=k.text,(l=g.bytes).push.apply(l,k.bytes),g.chunks.push({type:a.Kanji,bytes:k.bytes,text:k.text})}}if(0===d.available()||0===d.readBits(d.available()))return g}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var r=8-this.bitOffset,a=e<r?e:r,n=255>>8-a<<(s=r-a);t=(this.bytes[this.byteOffset]&n)>>s,e-=a,this.bitOffset+=a,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var s;e>0&&(n=255>>(s=8-e)<<s,t=t<<e|(this.bytes[this.byteOffset]&n)>>s,this.bitOffset+=e)}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(2);t.decode=function(e,t){var r=new Uint8ClampedArray(e.length);r.set(e);for(var s=new a.default(285,256,0),o=new n.default(s,r),i=new Uint8ClampedArray(t),l=!1,c=0;c<t;c++){var d=o.evaluateAt(s.exp(c+s.generatorBase));i[i.length-1-c]=d,0!==d&&(l=!0)}if(!l)return r;var u=new n.default(s,i),h=function(e,t,r,a){var n;t.degree()<r.degree()&&(t=(n=[r,t])[0],r=n[1]);for(var s=t,o=r,i=e.zero,l=e.one;o.degree()>=a/2;){var c=s,d=i;if(i=l,(s=o).isZero())return null;o=c;for(var u=e.zero,h=s.getCoefficient(s.degree()),p=e.inverse(h);o.degree()>=s.degree()&&!o.isZero();){var f=o.degree()-s.degree(),g=e.multiply(o.getCoefficient(o.degree()),p);u=u.addOrSubtract(e.buildMonomial(f,g)),o=o.addOrSubtract(s.multiplyByMonomial(f,g))}if(l=u.multiplyPoly(i).addOrSubtract(d),o.degree()>=s.degree())return null}var m=l.getCoefficient(0);if(0===m)return null;var b=e.inverse(m);return[l.multiply(b),o.multiply(b)]}(s,s.buildMonomial(t,1),u,t);if(null===h)return null;var p=function(e,t){var r=t.degree();if(1===r)return[t.getCoefficient(1)];for(var a=new Array(r),n=0,s=1;s<e.size&&n<r;s++)0===t.evaluateAt(s)&&(a[n]=e.inverse(s),n++);return n!==r?null:a}(s,h[0]);if(null==p)return null;for(var f=function(e,t,r){for(var n=r.length,s=new Array(n),o=0;o<n;o++){for(var i=e.inverse(r[o]),l=1,c=0;c<n;c++)o!==c&&(l=e.multiply(l,a.addOrSubtractGF(1,e.multiply(r[c],i))));s[o]=e.multiply(t.evaluateAt(i),e.inverse(l)),0!==e.generatorBase&&(s[o]=e.multiply(s[o],i))}return s}(s,h[1],p),g=0;g<p.length;g++){var m=r.length-1-s.log(p[g]);if(m<0)return null;r[m]=a.addOrSubtractGF(r[m],f[g])}return r}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(0);function n(e,t,r,a){var n=e.x-t.x+r.x-a.x,s=e.y-t.y+r.y-a.y;if(0===n&&0===s)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:r.x-t.x,a22:r.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var o=t.x-r.x,i=a.x-r.x,l=t.y-r.y,c=a.y-r.y,d=o*c-i*l,u=(n*c-i*s)/d,h=(o*s-n*l)/d;return{a11:t.x-e.x+u*t.x,a12:t.y-e.y+u*t.y,a13:u,a21:a.x-e.x+h*a.x,a22:a.y-e.y+h*a.y,a23:h,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var r,s,o=function(e,t,r,a){var s=n(e,t,r,a);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),i=n(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=(s=o,{a11:(r=i).a11*s.a11+r.a21*s.a12+r.a31*s.a13,a12:r.a12*s.a11+r.a22*s.a12+r.a32*s.a13,a13:r.a13*s.a11+r.a23*s.a12+r.a33*s.a13,a21:r.a11*s.a21+r.a21*s.a22+r.a31*s.a23,a22:r.a12*s.a21+r.a22*s.a22+r.a32*s.a23,a23:r.a13*s.a21+r.a23*s.a22+r.a33*s.a23,a31:r.a11*s.a31+r.a21*s.a32+r.a31*s.a33,a32:r.a12*s.a31+r.a22*s.a32+r.a32*s.a33,a33:r.a13*s.a31+r.a23*s.a32+r.a33*s.a33}),c=a.BitMatrix.createEmpty(t.dimension,t.dimension),d=function(e,t){var r=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/r,y:(l.a12*e+l.a22*t+l.a32)/r}},u=0;u<t.dimension;u++)for(var h=0;h<t.dimension;h++){var p=d(h+.5,u+.5);c.set(h,u,e.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function n(e){return e.reduce(function(e,t){return e+t})}function s(e,t,r,n){var s,o,i,l,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],d=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);d?(s=Math.floor(e.y),o=Math.floor(e.x),i=Math.floor(t.y),l=Math.floor(t.x)):(s=Math.floor(e.x),o=Math.floor(e.y),i=Math.floor(t.x),l=Math.floor(t.y));for(var u=Math.abs(i-s),h=Math.abs(l-o),p=Math.floor(-u/2),f=s<i?1:-1,g=o<l?1:-1,m=!0,b=s,x=o;b!==i+f;b+=f){var y=d?x:b,k=d?b:x;if(r.get(y,k)!==m&&(m=!m,c.push({x:y,y:k}),c.length===n+1))break;if((p+=h)>0){if(x===l)break;x+=g,p-=u}}for(var v=[],w=0;w<n;w++)c[w]&&c[w+1]?v.push(a(c[w],c[w+1])):v.push(0);return v}function o(e,t,r,a){var n,o=t.y-e.y,i=t.x-e.x,l=s(e,t,r,Math.ceil(a/2)),c=s(e,{x:e.x-i,y:e.y-o},r,Math.ceil(a/2)),d=l.shift()+c.shift()-1;return(n=c.concat(d)).concat.apply(n,l)}function i(e,t){var r=n(e)/n(t),a=0;return t.forEach(function(t,n){a+=Math.pow(e[n]-t*r,2)}),{averageSize:r,error:a}}function l(e,t,r){try{var a=o(e,{x:-1,y:e.y},r,t.length),n=o(e,{x:e.x,y:-1},r,t.length),s=o(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,t.length),l=o(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,t.length),c=i(a,t),d=i(n,t),u=i(s,t),h=i(l,t),p=Math.sqrt(c.error*c.error+d.error*d.error+u.error*u.error+h.error*h.error),f=(c.averageSize+d.averageSize+u.averageSize+h.averageSize)/4;return p+(Math.pow(c.averageSize-f,2)+Math.pow(d.averageSize-f,2)+Math.pow(u.averageSize-f,2)+Math.pow(h.averageSize-f,2))/f}catch(g){return 1/0}}function c(e,t){for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r--;for(var a=Math.round(t.x);e.get(a,Math.round(t.y));)a++;for(var n=(r+a)/2,s=Math.round(t.y);e.get(Math.round(n),s);)s--;for(var o=Math.round(t.y);e.get(Math.round(n),o);)o++;return{x:n,y:(s+o)/2}}function d(e,t,r,s,i){var c,d,u;try{c=function(e,t,r,s){var i=(n(o(e,r,s,5))/7+n(o(e,t,s,5))/7+n(o(r,e,s,5))/7+n(o(t,e,s,5))/7)/4;if(i<1)throw new Error("Invalid module size");var l=Math.round(a(e,t)/i),c=Math.round(a(e,r)/i),d=Math.floor((l+c)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:i}}(s,r,i,e),d=c.dimension,u=c.moduleSize}catch(My){return null}var h=r.x-s.x+i.x,p=r.y-s.y+i.y,f=(a(s,i)+a(s,r))/2/u,g=1-3/f,m={x:s.x+g*(h-s.x),y:s.y+g*(p-s.y)},b=t.map(function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,s=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(r),Math.floor(s))){var o=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return n(o),{x:r,y:s,score:l({x:Math.floor(r),y:Math.floor(s)},[1,1,1],e)+a({x:r,y:s},m)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:f>=15&&b.length?b[0]:m,dimension:d}}t.locate=function(e){for(var t=[],r=[],s=[],o=[],i=function(a){for(var i=0,l=!1,c=[0,0,0,0,0],d=function(t){var s=e.get(t,a);if(s===l)i++;else{c=[c[1],c[2],c[3],c[4],i],i=1,l=s;var d=n(c)/7,u=Math.abs(c[0]-d)<d&&Math.abs(c[1]-d)<d&&Math.abs(c[2]-3*d)<3*d&&Math.abs(c[3]-d)<d&&Math.abs(c[4]-d)<d&&!s,h=n(c.slice(-3))/3,p=Math.abs(c[2]-h)<h&&Math.abs(c[3]-h)<h&&Math.abs(c[4]-h)<h&&s;if(u){var f=t-c[3]-c[4],g=f-c[2],m={startX:g,endX:f,y:a};(b=r.filter(function(e){return g>=e.bottom.startX&&g<=e.bottom.endX||f>=e.bottom.startX&&g<=e.bottom.endX||g<=e.bottom.startX&&f>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?b[0].bottom=m:r.push({top:m,bottom:m})}if(p){var b,x=t-c[4],y=x-c[3];m={startX:y,y:a,endX:x},(b=o.filter(function(e){return y>=e.bottom.startX&&y<=e.bottom.endX||x>=e.bottom.startX&&y<=e.bottom.endX||y<=e.bottom.startX&&x>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?b[0].bottom=m:o.push({top:m,bottom:m})}}},u=-1;u<=e.width;u++)d(u);t.push.apply(t,r.filter(function(e){return e.bottom.y!==a&&e.bottom.y-e.top.y>=2})),r=r.filter(function(e){return e.bottom.y===a}),s.push.apply(s,o.filter(function(e){return e.bottom.y!==a})),o=o.filter(function(e){return e.bottom.y===a})},u=0;u<=e.height;u++)i(u);t.push.apply(t,r.filter(function(e){return e.bottom.y-e.top.y>=2})),s.push.apply(s,o);var h=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var r=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,a=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(r),Math.round(a))){var s=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],o=n(s)/s.length;return{score:l({x:Math.round(r),y:Math.round(a)},[1,1,3,1,1],e),x:r,y:a,size:o}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,r){if(t>4)return null;var a=r.filter(function(e,r){return t!==r}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(a.length<2)return null;var n=e.score+a[0].score+a[1].score;return{points:[e].concat(a.slice(0,2)),score:n}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===h.length)return null;var p=function(e,t,r){var n,s,o,i,l,c,d,u=a(e,t),h=a(t,r),p=a(e,r);return h>=u&&h>=p?(l=(n=[t,e,r])[0],c=n[1],d=n[2]):p>=h&&p>=u?(l=(s=[e,t,r])[0],c=s[1],d=s[2]):(l=(o=[e,r,t])[0],c=o[1],d=o[2]),(d.x-c.x)*(l.y-c.y)-(d.y-c.y)*(l.x-c.x)<0&&(l=(i=[d,l])[0],d=i[1]),{bottomLeft:l,topLeft:c,topRight:d}}(h[0].points[0],h[0].points[1],h[0].points[2]),f=p.topRight,g=p.topLeft,m=p.bottomLeft,b=d(e,s,f,g,m),x=[];b&&x.push({alignmentPattern:{x:b.alignmentPattern.x,y:b.alignmentPattern.y},bottomLeft:{x:m.x,y:m.y},dimension:b.dimension,topLeft:{x:g.x,y:g.y},topRight:{x:f.x,y:f.y}});var y=c(e,f),k=c(e,g),v=c(e,m),w=d(e,s,y,k,v);return w&&x.push({alignmentPattern:{x:w.alignmentPattern.x,y:w.alignmentPattern.y},bottomLeft:{x:v.x,y:v.y},topLeft:{x:k.x,y:k.y},topRight:{x:y.x,y:y.y},dimension:w.dimension}),0===x.length?null:x}}]).default};const Ty=e(Oy.exports=By()),Ry=({onScan:e,onLoginClick:t,isDarkMode:r,onToggleDarkMode:a,locations:n,onLearnMore:s,onClearSession:i})=>{const[l,c]=q.useState(!1),[d,u]=q.useState(!1),[h,p]=q.useState(""),[f,g]=q.useState("1"),[m,b]=q.useState(null),[x,y]=q.useState(null);q.useEffect(()=>{const e=localStorage.getItem("qs_session_location"),t=localStorage.getItem("qs_session_table"),r=localStorage.getItem("qs_role");e&&t&&"CUSTOMER"===r&&y({loc:e,table:t})},[]);const k=q.useRef(null),v=q.useRef(null),w=q.useRef(0);q.useEffect(()=>{n.length>0&&!h&&p(n[0].name)},[n,h]);const j=q.useCallback(()=>{if(k.current&&k.current.srcObject){k.current.srcObject.getTracks().forEach(e=>e.stop()),k.current.srcObject=null}w.current&&(cancelAnimationFrame(w.current),w.current=0),u(!1)},[]),N=q.useCallback(t=>{if(k.current&&k.current.readyState===k.current.HAVE_ENOUGH_DATA&&v.current){const t=v.current,r=k.current;t.height=r.videoHeight,t.width=r.videoWidth;const a=t.getContext("2d");if(a){a.drawImage(r,0,0,t.width,t.height);const n=a.getImageData(0,0,t.width,t.height),s=Ty(n.data,n.width,n.height,{inversionAttempts:"dontInvert"});if(s)try{if(s.data.startsWith("http")){const t=new URL(s.data),r=t.searchParams.get("loc"),a=t.searchParams.get("table");if(r&&a)return e(r,a),void j()}else{const t=s.data.split(",");if(2===t.length)return e(t[0].trim(),t[1].trim()),void j()}}catch(My){}}}w.current=requestAnimationFrame(N)},[e,j]),S=async()=>{if(b(null),u(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});if(k.current){k.current.srcObject=t,k.current.setAttribute("playsinline","true");try{await k.current.play(),w.current=requestAnimationFrame(N)}catch(e){b("Failed to start video stream. Please ensure camera permissions are granted.")}}}catch(Dy){const t="NotAllowedError"===Dy.name?"Camera permission denied. Please allow access in settings.":Dy.message||"Could not access camera";b(t)}else b("Camera API not supported in this browser.")};q.useEffect(()=>()=>{w.current&&cancelAnimationFrame(w.current)},[]);return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300 flex flex-col",children:[o.jsxs("nav",{className:"p-6 flex justify-between items-center max-w-7xl mx-auto w-full",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-orange-200 dark:shadow-none",children:"Q"}),o.jsx("span",{className:"text-2xl font-black tracking-tighter dark:text-white",children:"QuickServe"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:a,className:"p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:r?o.jsx(fg,{size:20}):o.jsx(Zf,{size:20})}),o.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-400 font-semibold hover:text-orange-500 transition-colors",children:"Login"})]})]}),o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center",children:o.jsxs("div",{className:"mb-12 relative w-full max-w-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-orange-100 dark:bg-orange-900/20 rounded-full scale-150 blur-3xl opacity-50 -z-10 animate-pulse"}),o.jsx("div",{className:"p-8 md:p-12 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-orange-50 dark:border-gray-700 flex flex-col items-center",children:d?o.jsxs("div",{className:"w-full relative",children:[o.jsxs("div",{className:"relative aspect-square w-full rounded-2xl overflow-hidden bg-black shadow-inner border-4 border-orange-500",children:[o.jsx("video",{ref:k,className:"w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0}),o.jsx("canvas",{ref:v,className:"hidden"}),o.jsx("div",{className:"absolute inset-0 border-2 border-orange-500/20 pointer-events-none",children:o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-2 border-orange-500 rounded-2xl flex items-center justify-center",children:o.jsx("div",{className:"w-full h-0.5 bg-orange-500/50 absolute top-0 animate-[scan_2s_infinite]"})})}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 p-6 text-center z-10",children:o.jsxs("div",{children:[o.jsx(Ng,{className:"mx-auto text-red-500 mb-2",size:32}),o.jsx("p",{className:"text-white font-bold text-sm mb-4",children:m}),o.jsx("button",{onClick:j,className:"px-4 py-2 bg-white text-black rounded-lg text-xs font-bold uppercase",children:"Go Back"})]})})]}),o.jsx("button",{onClick:j,className:"mt-6 w-full py-4 bg-red-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all",children:"Cancel Scanner"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:S,children:[o.jsx("div",{className:"absolute inset-0 bg-orange-500/10 rounded-full scale-125 group-hover:scale-150 transition-transform duration-500 blur-xl"}),o.jsxs("div",{className:"w-32 h-32 bg-gray-50 dark:bg-gray-700 rounded-3xl flex items-center justify-center mb-6 relative border-4 border-dashed border-gray-200 dark:border-gray-600 group-hover:border-orange-500 transition-colors",children:[o.jsx(ng,{size:80,className:"text-gray-400 group-hover:text-orange-500 transition-colors"}),o.jsx("div",{className:"absolute -bottom-2 -right-2 bg-orange-500 p-2 rounded-xl text-white shadow-lg",children:o.jsx(mf,{size:20})})]})]}),o.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-2",children:"Scan to Order"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-xs mx-auto mb-8",children:"Point your camera at a table QR code to start ordering"}),o.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[x&&o.jsxs("div",{className:"relative group/session",children:[o.jsxs("button",{onClick:()=>e(x.loc,x.table),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black text-lg hover:scale-[1.02] active:scale-95 transition-all shadow-xl flex items-center justify-center gap-3 border-2 border-transparent pr-12",children:[o.jsx(hg,{size:24,className:"text-orange-500"}),"Return to Table ",x.table]}),o.jsx("button",{onClick:e=>{e.stopPropagation(),i&&i(),y(null)},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-900 rounded-xl hover:bg-red-500 dark:hover:bg-red-500 hover:text-white transition-all shadow-sm",title:"Clear Session",children:o.jsx(Ng,{size:16})})]}),o.jsxs("button",{onClick:S,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg hover:bg-orange-600 hover:scale-[1.02] active:scale-95 transition-all shadow-xl shadow-orange-100 dark:shadow-none flex items-center justify-center gap-3",children:[o.jsx(mf,{size:24})," Open Scanner"]}),o.jsxs("button",{onClick:()=>c(!0),className:"w-full py-4 bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-2xl font-bold text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(sg,{size:16})," Manual/Simulate Scan"]}),s&&o.jsx("button",{onClick:s,className:"mt-4 text-xs font-black text-orange-500 uppercase tracking-widest hover:underline decoration-2 underline-offset-4",children:"Learn about our system"})]})]})})]})}),l&&o.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl max-w-md w-full p-8 shadow-2xl relative animate-in zoom-in fade-in duration-300",children:[o.jsx("button",{onClick:()=>c(!1),className:"absolute top-6 right-6 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-400",children:o.jsx(Ng,{size:20})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"w-14 h-14 bg-orange-500 text-white rounded-2xl flex items-center justify-center mb-4",children:o.jsx(ng,{size:28})}),o.jsx("h2",{className:"text-2xl font-black dark:text-white",children:"Manual Selection"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Select your location to begin ordering without scanning."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1.5 ml-1",children:"Physical Location"}),o.jsxs("div",{className:"relative",children:[o.jsx(Qf,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("select",{className:"w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-bold outline-none appearance-none cursor-pointer",value:h,onChange:e=>p(e.target.value),children:n.map(e=>o.jsx("option",{value:e.name,children:e.name},e.id))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-1.5 ml-1",children:"Table Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mf,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"e.g. 12",className:"w-full pl-11 pr-4 py-3.5 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-bold outline-none",value:f,onChange:e=>g(e.target.value)})]})]}),o.jsx("button",{onClick:()=>{const t=h||(n.length>0?n[0].name:"");t&&f&&e(t,f)},className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-xl shadow-orange-100 dark:shadow-none hover:bg-orange-600 transition-all active:scale-95",children:"Start Ordering"})]})]})}),o.jsx("style",{children:"@keyframes scan { 0% { top: 0; } 100% { top: 100%; } }"})]})},Ay=({onLogin:e,onBack:t})=>{const[r,a]=q.useState(""),[n,s]=q.useState(""),[i,l]=q.useState(""),[c,d]=q.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors flex flex-col items-center justify-center px-4 py-12",children:[o.jsxs("button",{onClick:t,className:"fixed top-8 left-8 flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 font-semibold transition-colors",children:[o.jsx(kf,{size:20}),"Back to Home"]}),o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"flex flex-col items-center mb-10",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-xl shadow-orange-100 dark:shadow-none mb-4",children:"Q"}),o.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Staff Portal"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Manage your restaurant operations"})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl shadow-gray-200 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-10",children:o.jsxs("form",{onSubmit:async t=>{t.preventDefault(),l(""),d(!0);try{const t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n})}),a=await t.json();if(!t.ok)return void l(a.error||"Invalid username or password. Please try again.");e(a)}catch(Dy){l("Connection error. Please try again later.")}finally{d(!1)}},className:"space-y-6",children:[i&&o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl text-sm font-medium border border-red-100 dark:border-red-900/40",children:[o.jsx(wf,{size:18,className:"shrink-0 mt-0.5"}),o.jsx("p",{children:i})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 dark:text-gray-500",children:o.jsx(kg,{size:18})}),o.jsx("input",{type:"text",required:!0,value:r,onChange:e=>a(e.target.value),placeholder:"Enter your username",className:"w-full pl-11 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-medium transition-all"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ml-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400 dark:text-gray-500",children:o.jsx(Kf,{size:18})}),o.jsx("input",{type:"password",required:!0,value:n,onChange:e=>s(e.target.value),placeholder:"",className:"w-full pl-11 pr-4 py-4 bg-gray-50 dark:bg-gray-700 border-none rounded-2xl focus:ring-2 focus:ring-orange-500 dark:text-white font-medium transition-all"})]})]}),o.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-xl shadow-orange-100 dark:shadow-none hover:bg-orange-600 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?"Signing In...":"Sign In"})]})})]})]})},Iy=({onGetStarted:e})=>o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 font-sans selection:bg-orange-100 selection:text-orange-900",children:[o.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b dark:border-gray-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-black text-xl",children:"Q"}),o.jsx("span",{className:"text-2xl font-black tracking-tighter dark:text-white",children:"QuickServe"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:[o.jsx("a",{href:"#features",className:"hover:text-orange-500 transition-colors",children:"Features"}),o.jsx("a",{href:"#mockup",className:"hover:text-orange-500 transition-colors",children:"Preview"}),o.jsx("a",{href:"#pricing",className:"hover:text-orange-500 transition-colors",children:"Pricing"})]}),o.jsx("button",{onClick:e,className:"px-6 py-3 bg-black dark:bg-white text-white dark:text-gray-900 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-500 dark:hover:bg-orange-500 dark:hover:text-white transition-all shadow-lg",children:"Get Started"})]})}),o.jsx("section",{className:"pt-40 pb-20 px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-8 animate-bounce",children:[o.jsx(Sg,{size:14})," Malaysia's #1 Value Choice"]}),o.jsxs("h1",{className:"text-5xl md:text-8xl font-black text-gray-900 dark:text-white leading-[0.9] tracking-tighter mb-8",children:["THE CHEAPEST ",o.jsx("br",{}),o.jsx("span",{className:"text-orange-500",children:"QR ORDERING"})," ",o.jsx("br",{}),"IN MALAYSIA."]}),o.jsx("p",{className:"text-lg md:text-xl text-gray-500 dark:text-gray-400 max-w-2xl mx-auto mb-12 font-medium",children:"Modernize your restaurant in 5 minutes. No expensive hardware, no hidden fees. Just scan, order, and serve."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsxs("button",{onClick:e,className:"w-full sm:w-auto px-10 py-5 bg-orange-500 text-white rounded-2xl font-black text-lg shadow-2xl shadow-orange-200 dark:shadow-none hover:bg-orange-600 hover:scale-105 transition-all flex items-center justify-center gap-3",children:["Start Free Trial ",o.jsx(df,{size:20})]}),o.jsx("a",{href:"https://wa.me/601154036303?text=Hello%2C%20I%20am%20interested%20to%20know%20about%20the%20QuickServe%20QR%20system",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-10 py-5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl font-black text-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-all flex items-center justify-center gap-2",children:"Contact for Demo"})]})]})}),o.jsx("section",{id:"mockup",className:"py-20 bg-gray-50 dark:bg-gray-800/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-black dark:text-white uppercase tracking-tighter mb-4",children:"Powerful Simplicity"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"One system, two perfectly crafted experiences."})]}),o.jsxs("div",{className:"relative flex flex-col lg:flex-row items-center justify-center gap-12",children:[o.jsxs("div",{className:"relative w-full max-w-3xl group",children:[o.jsx("div",{className:"absolute -inset-4 bg-orange-500/10 rounded-[2.5rem] blur-2xl group-hover:bg-orange-500/20 transition-all"}),o.jsx("div",{className:"relative bg-gray-900 rounded-[2rem] p-4 shadow-2xl border-8 border-gray-800 overflow-hidden",children:o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl aspect-video overflow-hidden relative",children:o.jsx("img",{src:"https://qao3rwoi4hh7qspq.public.blob.vercel-storage.com/marketing-img/VENDOR%20VIEW-P0bv7W1mQ2wbxBpN8nDKPwxznuKvx9.png",alt:"Vendor Dashboard Mockup",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})})}),o.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 bg-black text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-xl",children:"Vendor Dashboard (Laptop View)"})]}),o.jsxs("div",{className:"relative w-72 shrink-0 group",children:[o.jsx("div",{className:"absolute -inset-4 bg-orange-500/10 rounded-[3rem] blur-2xl group-hover:bg-orange-500/20 transition-all"}),o.jsxs("div",{className:"relative bg-gray-900 rounded-[3rem] p-3 shadow-2xl border-[12px] border-gray-800 h-[580px] overflow-hidden",children:[o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2rem] h-full overflow-hidden relative",children:o.jsx("img",{src:"https://qao3rwoi4hh7qspq.public.blob.vercel-storage.com/marketing-img/mobile-view-Fjp7UIn86T3yZtpuXltMyAIjKEE1eo",alt:"Customer Menu Mockup",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})}),o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-gray-800 rounded-b-2xl z-10"})]}),o.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 bg-black text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-xl whitespace-nowrap",children:"Customer Menu (Mobile View)"})]})]})]})}),o.jsx("section",{id:"features",className:"py-20 px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(Bf,{size:28})}),o.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Unbeatable Value"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"We guarantee the lowest subscription rates in Malaysia. Save up to 70% compared to traditional POS systems."})]}),o.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(Sg,{size:28})}),o.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Instant Setup"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No hardware to install. Just print your QR codes and you're live. Works on any smartphone or laptop."})]}),o.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800 rounded-3xl border dark:border-gray-700 hover:border-orange-500 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-orange-50 dark:bg-orange-900/20 text-orange-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(Cf,{size:28})}),o.jsx("h3",{className:"text-xl font-black dark:text-white uppercase tracking-tight mb-4",children:"Real-time Sync"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Orders hit your kitchen dashboard instantly. No more missed orders or manual entry errors."})]})]})})}),o.jsx("section",{className:"py-20 bg-black text-white overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-12",children:[o.jsxs("div",{className:"max-w-xl",children:[o.jsxs("h2",{className:"text-4xl md:text-6xl font-black leading-[0.9] tracking-tighter mb-6 uppercase",children:["Trusted by ",o.jsx("br",{}),o.jsx("span",{className:"text-orange-500",children:"Local Hubs"})," ",o.jsx("br",{}),"Across Malaysia."]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-12",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ug,{className:"text-orange-500"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"SST Compliant"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lf,{className:"text-orange-500"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Local Support"})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-orange-500/20 blur-[100px]"}),o.jsxs("div",{className:"relative p-12 bg-white/5 backdrop-blur-xl rounded-[3rem] border border-white/10 text-center",children:[o.jsx("p",{className:"text-5xl font-black text-orange-500 mb-2",children:"RM 0"}),o.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-white/60 mb-8",children:"Upfront Cost"}),o.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all",children:"Join the Revolution"})]})]})]})}),o.jsx("footer",{className:"py-20 px-6 border-t dark:border-gray-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsx("h2",{className:"text-3xl font-black dark:text-white uppercase tracking-tighter mb-8",children:"Ready to transform your business?"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[o.jsxs("a",{href:"https://wa.me/601154036303?text=Hello%2C%20I%20am%20interested%20to%20know%20about%20the%20QuickServe%20QR%20system",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-gray-500 dark:text-gray-400 hover:text-orange-500 transition-colors",children:[o.jsx(Xf,{size:20,className:"text-orange-500"}),o.jsx("span",{className:"font-bold",children:"WhatsApp: +60 11-5403 6303"})]}),o.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full hidden sm:block"}),o.jsxs("div",{className:"flex items-center gap-3 text-gray-500 dark:text-gray-400",children:[o.jsx(ug,{size:20,className:"text-orange-500"}),o.jsx("span",{className:"font-bold",children:"Email: hello@quickserve.my"})]})]}),o.jsx("p",{className:"mt-12 text-[10px] font-black text-gray-400 uppercase tracking-[0.4em]",children:" 2026 QuickServe Malaysia. All Rights Reserved."})]})})]}),Ly=()=>{const[e,t]=q.useState(()=>{try{const e=localStorage.getItem("qs_cache_users");return e?JSON.parse(e):[]}catch{return[]}}),[r,a]=q.useState(()=>{try{const e=localStorage.getItem("qs_cache_restaurants");return(e?JSON.parse(e):[]).map(e=>{const t=localStorage.getItem(`qs_settings_${e.id}`);return t?{...e,settings:JSON.parse(t)}:e})}catch{return[]}}),[n,s]=q.useState(()=>{try{const e=localStorage.getItem("qs_cache_orders");return e?JSON.parse(e):[]}catch{return[]}}),[i,l]=q.useState(()=>{try{const e=localStorage.getItem("qs_cache_locations");return e?JSON.parse(e):[]}catch{return[]}}),[c,d]=q.useState(()=>{try{const e=new URLSearchParams(window.location.search);if(!localStorage.getItem("qs_view")&&!e.get("loc"))return!1;const t=localStorage.getItem("qs_cache_restaurants"),r=localStorage.getItem("qs_cache_locations");return!(t&&r)}catch{return!0}}),[u,h]=q.useState(new Date),p=q.useRef(new Set),f=q.useRef(!1),g=q.useRef(!1),m=q.useRef(0),[b,x]=q.useState(()=>{try{const e=localStorage.getItem("qs_user");return e?JSON.parse(e):null}catch(My){return null}}),[y,k]=q.useState(()=>localStorage.getItem("qs_role")),[v,w]=q.useState(()=>{const e=localStorage.getItem("qs_view"),t=localStorage.getItem("qs_role"),r=new URLSearchParams(window.location.search);return e||r.get("loc")?("CUSTOMER"!==t||r.get("loc"))&&e||"LANDING":"MARKETING"}),[j,N]=q.useState(()=>localStorage.getItem("qs_session_location")),[S,C]=q.useState(()=>localStorage.getItem("qs_session_table")),[_,E]=q.useState([]),[P,B]=q.useState(()=>"dark"===localStorage.getItem("theme")||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches),O=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(My){}},T=e=>{if(!e)return Date.now();if("string"==typeof e){if(/^\d+$/.test(e))return parseInt(e,10);const t=new Date(e).getTime();return isNaN(t)?Date.now():t}return"number"==typeof e?e:"bigint"==typeof e?Number(e):Date.now()},R=q.useCallback(async()=>{if("ADMIN"!==y)return;const{data:e,error:r}=await Ny.from("users").select("id, username, role, restaurant_id, is_active, email, phone");if(!r&&e){const r=e.map(e=>({id:e.id,username:e.username,role:e.role,restaurantId:e.restaurant_id,isActive:e.is_active,email:e.email,phone:e.phone}));t(r),O("qs_cache_users",r)}},[y]),A=q.useCallback(async()=>{const{data:e,error:t}=await Ny.from("areas").select("*").order("name");if(!t&&e){const t=e.map(e=>({id:e.id,name:e.name,city:e.city,state:e.state,code:e.code,isActive:e.is_active??!0,type:e.type}));l(t),O("qs_cache_locations",t)}},[]),I=q.useCallback(async()=>{if(f.current||!y)return;let e=Ny.from("restaurants").select("*");"CUSTOMER"===y&&j&&(e=e.eq("location_name",j).eq("is_online",!0));const{data:t,error:r}=await e;if(r||!t)return;const n=t.map(e=>e.id);let s=Ny.from("menu_items").select("*").in("restaurant_id",n);"CUSTOMER"===y&&(s=s.eq("is_archived",!1));const{data:o,error:i}=await s;if(!i&&o){const e=t.map(e=>({id:e.id,name:e.name,logo:e.logo,vendorId:e.vendor_id,location:e.location_name,created_at:e.created_at,isOnline:!0===e.is_online||null===e.is_online,settings:(()=>{const t=localStorage.getItem(`qs_settings_${e.id}`),r=e.settings?"string"==typeof e.settings?JSON.parse(e.settings):e.settings:null;return t?JSON.parse(t):r})(),menu:o.filter(t=>t.restaurant_id===e.id).map(e=>{const t=e.temp_options||{},r=e.other_variants||{},a=e.add_ons||[];return{id:e.id,name:e.name,description:e.description,price:Number(e.price),image:e.image,category:e.category,isArchived:e.is_archived,sizes:e.sizes,tempOptions:{enabled:t.enabled??!1,hot:t.hot??0,cold:t.cold??0},otherVariantName:r.name||"",otherVariants:r.options||[],otherVariantsEnabled:r.enabled??!1,addOns:a}})}));a(e),O("qs_cache_restaurants",e)}},[y,j]),L=q.useCallback(async()=>{if(!g.current&&y){g.current=!0;try{let e=Ny.from("orders").select("*").order("timestamp",{ascending:!1}).limit(200);if("CUSTOMER"===y){if(!j||!S)return void(g.current=!1);e=e.eq("location_name",j).eq("table_number",S).limit(10)}else"VENDOR"===y&&(null==b?void 0:b.restaurantId)&&(e=e.eq("restaurant_id",b.restaurantId));const{data:t,error:r}=await e;!r&&t&&s(e=>{const r=t.map(t=>{const r={id:t.id,items:Array.isArray(t.items)?t.items:"string"==typeof t.items?JSON.parse(t.items):[],total:Number(t.total||0),status:t.status,timestamp:T(t.timestamp),customerId:t.customer_id,restaurantId:t.restaurant_id,tableNumber:t.table_number,locationName:t.location_name,remark:t.remark,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note};if(p.current.has(t.id)){const a=e.find(e=>e.id===t.id);a&&(r.status=a.status)}return r});if(r.length>0){const e=Math.max(...r.map(e=>e.timestamp));e>m.current&&(m.current=e)}return O("qs_cache_orders",r),r})}catch(My){}finally{g.current=!1}}},[y,j,S,b]),z=q.useCallback(async()=>{if(g.current)return;const e=localStorage.getItem("qs_user");if(!e)return;const t=JSON.parse(e);if("VENDOR"===t.role&&t.restaurantId){g.current=!0;try{const{data:e,error:r}=await Ny.from("orders").select("*").eq("restaurant_id",t.restaurantId).gt("timestamp",m.current).order("timestamp",{ascending:!1});if(!r&&e&&e.length>0){const t=e.map(e=>({id:e.id,items:Array.isArray(e.items)?e.items:"string"==typeof e.items?JSON.parse(e.items):[],total:Number(e.total||0),status:e.status,timestamp:T(e.timestamp),customerId:e.customer_id,restaurantId:e.restaurant_id,tableNumber:e.table_number,locationName:e.location_name,remark:e.remark,rejectionReason:e.rejection_reason,rejectionNote:e.rejection_note}));s(e=>{const r=t.filter(t=>!e.some(e=>e.id===t.id));if(0===r.length)return e;const a=[...r,...e].slice(0,200);O("qs_cache_orders",a);const n=Math.max(...a.map(e=>e.timestamp));return n>m.current&&(m.current=n),a}),h(new Date)}}catch(My){}finally{g.current=!1}}},[]);q.useCallback(async()=>{await Promise.allSettled([L(),I()]),h(new Date)},[L,I]),q.useEffect(()=>{const e=new URLSearchParams(window.location.search),t=e.get("loc"),r=e.get("table");t&&r&&(N(t),C(r),k("CUSTOMER"),w("APP"),localStorage.setItem("qs_role","CUSTOMER"),localStorage.setItem("qs_view","APP"),localStorage.setItem("qs_session_location",t),localStorage.setItem("qs_session_table",r),window.history.replaceState({},"",window.location.pathname))},[]),q.useEffect(()=>{(async()=>{await Promise.allSettled([R(),A(),I(),L()]),h(new Date),d(!1)})()},[R,A,I,L]),q.useEffect(()=>{let e;"CUSTOMER"===y&&j?e=`location_name=eq.${j}`:"VENDOR"===y&&(null==b?void 0:b.restaurantId)&&(e=`restaurant_id=eq.${b.restaurantId}`);const t=Ny.channel("qs-realtime-optimized").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders",filter:e},e=>{const t=e.new,r={id:t.id,items:Array.isArray(t.items)?t.items:"string"==typeof t.items?JSON.parse(t.items):[],total:Number(t.total||0),status:t.status,timestamp:T(t.timestamp),customerId:t.customer_id,restaurantId:t.restaurant_id,tableNumber:t.table_number,locationName:t.location_name,remark:t.remark,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note};s(e=>{if(e.some(e=>e.id===r.id))return e;const t=[r,...e].slice(0,200);return O("qs_cache_orders",t),r.timestamp>m.current&&(m.current=r.timestamp),t}),h(new Date)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:e},e=>{const t=e.new;s(e=>{const r=e.map(e=>e.id===t.id?(p.current.has(t.id)&&e.status===t.status&&p.current.delete(t.id),p.current.has(t.id)?e:{...e,status:t.status,rejectionReason:t.rejection_reason,rejectionNote:t.rejection_note}):e);return O("qs_cache_orders",r),r}),h(new Date)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"restaurants",filter:"CUSTOMER"===y&&j?`location_name=eq.${j}`:void 0},e=>{const t=e.new;a(e=>{const r=e.map(e=>e.id===t.id?{...e,isOnline:!0===t.is_online||null===t.is_online}:e);return O("qs_cache_restaurants",r),r}),h(new Date)}).subscribe();return()=>{Ny.removeChannel(t)}},[y,j,b]),q.useEffect(()=>{let e;return"VENDOR"===y&&(z(),e=setInterval(()=>{z()},5e3)),()=>{e&&clearInterval(e)}},[y,z]),q.useEffect(()=>{P?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",P?"dark":"light")},[P]);const M=(e,t)=>{N(e),C(t),k("CUSTOMER"),w("APP"),localStorage.setItem("qs_role","CUSTOMER"),localStorage.setItem("qs_view","APP"),localStorage.setItem("qs_session_location",e),localStorage.setItem("qs_session_table",t)},D=e=>{d(!0),x(e),k(e.role),w("APP"),localStorage.setItem("qs_user",JSON.stringify(e)),localStorage.setItem("qs_role",e.role),localStorage.setItem("qs_view","APP")},$=()=>{N(null),C(null),localStorage.removeItem("qs_session_location"),localStorage.removeItem("qs_session_table"),localStorage.removeItem("qs_role"),localStorage.removeItem("qs_view"),k(null),w("LANDING")},U=async(e,t,r,a)=>{p.current.add(e),s(n=>n.map(n=>n.id===e?{...n,status:t,rejectionReason:r,rejectionNote:a}:n)),await Ny.from("orders").update({status:t,rejection_reason:r,rejection_note:a}).eq("id",e),setTimeout(()=>p.current.delete(e),3e3)},F=async(t,n)=>{r.find(e=>e.id===t);const s=e.find(e=>e.restaurantId===t);if(!n&&s&&!1===s.isActive)return void alert("Cannot turn online: Master Activation is disabled for this vendor.");const o=!n;f.current=!0,a(e=>e.map(e=>e.id===t?{...e,isOnline:o}:e));const{error:i}=await Ny.from("restaurants").update({is_online:o}).eq("id",t);i&&I(),setTimeout(()=>f.current=!1,3e3)},V=async(e,t,r)=>{const a=new URLSearchParams({...e,page:t.toString(),limit:r.toString()}),n=await fetch(`/api/orders/report?${a.toString()}`);if(!n.ok)throw new Error("Failed to fetch report");return await n.json()},H=async e=>{const t=new URLSearchParams({...e,page:"1",limit:"10000"}),r=await fetch(`/api/orders/report?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch report");return(await r.json()).orders},K="VENDOR"===(null==b?void 0:b.role)?r.find(e=>e.id===b.restaurantId):null,G=i.find(e=>e.name===j);return c?o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900",children:[o.jsx(Hf,{className:"w-12 h-12 text-orange-500 animate-spin mb-4"}),o.jsx("p",{className:"text-gray-500 font-black uppercase tracking-[0.2em] text-[10px]",children:"Syncing Hub..."})]}):"MARKETING"===v?o.jsx(Iy,{onGetStarted:()=>w("LANDING")}):"LANDING"===v?o.jsx(Ry,{onScan:M,onLoginClick:()=>w("LOGIN"),isDarkMode:P,onToggleDarkMode:()=>B(!P),locations:i.filter(e=>!1!==e.isActive),onLearnMore:()=>w("MARKETING"),onClearSession:$}):"LOGIN"===v?o.jsx(Ay,{onLogin:D,onBack:()=>w("LANDING")}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors",children:[o.jsxs("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b dark:border-gray-700 h-16 flex items-center justify-between px-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>w("LANDING"),children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white font-black",children:"Q"}),o.jsx("h1",{className:"text-xl font-black dark:text-white",children:"QuickServe"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>B(!P),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",children:P?o.jsx(fg,{size:20}):o.jsx(Zf,{size:20})}),b&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:b.role}),o.jsx("p",{className:"text-xs font-black dark:text-white",children:b.username})]}),o.jsx("button",{onClick:()=>{x(null),k(null),N(null),C(null),w("LANDING"),localStorage.removeItem("qs_user"),localStorage.removeItem("qs_role"),localStorage.removeItem("qs_view"),localStorage.removeItem("qs_session_location"),localStorage.removeItem("qs_session_table"),localStorage.removeItem("qs_cache_users"),localStorage.removeItem("qs_cache_restaurants"),localStorage.removeItem("qs_cache_orders"),localStorage.removeItem("qs_cache_locations")},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-white",children:o.jsx(Wf,{size:20})})]})]})]}),o.jsxs("main",{className:"flex-1",children:["CUSTOMER"===y&&o.jsx(Cg,{restaurants:r.filter(e=>e.location===j&&!0===e.isOnline),cart:_,orders:n,onAddToCart:e=>{const t=r.find(t=>t.id===e.restaurantId);t&&!1===t.isOnline?alert("This kitchen is currently offline."):E(t=>t.find(t=>t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedTemp===e.selectedTemp&&t.selectedOtherVariant===e.selectedOtherVariant)?t.map(t=>t.id===e.id&&t.selectedSize===e.selectedSize&&t.selectedTemp===e.selectedTemp&&t.selectedOtherVariant===e.selectedOtherVariant?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},onRemoveFromCart:e=>{E(t=>{const r=t.find(t=>t.id===e);return r&&r.quantity>1?t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.id!==e)})},onPlaceOrder:async e=>{if(0===_.length)return;const t=Array.from(new Set(_.map(e=>e.restaurantId))),a=t.map(e=>r.find(t=>t.id===e)).filter(e=>!e||!1===e.isOnline);if(a.length>0)return void alert(`Error: The following kitchen(s) are currently offline: ${a.map(e=>null==e?void 0:e.name).join(", ")}. Please remove these items from your cart.`);const n=i.find(e=>e.name===j),s=(null==n?void 0:n.code)||"QS";let o=1;const{data:l}=await Ny.from("orders").select("id").ilike("id",`${s}%`).order("id",{ascending:!1}).limit(1);if(l&&l[0]){const e=l[0].id.split("-")[0].substring(s.length),t=parseInt(e);isNaN(t)||(o=t+1)}const c=`${s}${String(o).padStart(7,"0")}`,d=t.map((r,a)=>{const n=_.filter(e=>e.restaurantId===r),s=n.reduce((e,t)=>e+t.price*t.quantity,0);return{id:t.length>1?`${c}-${a+1}`:c,items:n,total:s,status:ef.PENDING,timestamp:Date.now(),customer_id:"guest_user",restaurant_id:r,table_number:S||"N/A",location_name:j||"Unspecified",remark:e}}),{error:u}=await Ny.from("orders").insert(d);u?alert("Placement Error: "+u.message):(E([]),alert(`Your order(s) have been placed! Reference: ${c}`))},locationName:j||void 0,tableNo:S||void 0,areaType:(null==G?void 0:G.type)||"MULTI",allRestaurants:r}),"VENDOR"===y&&"APP"===v&&(K?o.jsx(Cy,{restaurant:K,orders:n.filter(e=>{if(e.restaurantId!==(null==b?void 0:b.restaurantId))return!1;return new Date(e.timestamp).toDateString()===(new Date).toDateString()}),onUpdateOrder:U,onUpdateMenu:async(e,t)=>{const{error:r}=await Ny.from("menu_items").update({name:t.name,description:t.description,price:t.price,image:t.image,category:t.category,is_archived:t.isArchived,sizes:t.sizes,temp_options:t.tempOptions||{enabled:!1,hot:0,cold:0},other_variants:{name:t.otherVariantName,options:t.otherVariants,enabled:t.otherVariantsEnabled},add_ons:t.addOns||[]}).eq("id",t.id);r?alert("Error updating menu item: "+r.message):I()},onAddMenuItem:async(e,t)=>{const{error:r}=await Ny.from("menu_items").insert({id:t.id,restaurant_id:e,name:t.name,description:t.description,price:t.price,image:t.image,category:t.category,is_archived:!1,sizes:t.sizes,temp_options:t.tempOptions||{enabled:!1,hot:0,cold:0},other_variants:{name:t.otherVariantName,options:t.otherVariants,enabled:t.otherVariantsEnabled},add_ons:t.addOns||[]});r?alert("Error adding menu item: "+r.message):I()},onPermanentDeleteMenuItem:async(e,t)=>{const{error:r}=await Ny.from("menu_items").delete().eq("id",t);r||I()},onToggleOnline:()=>F(K.id,K.isOnline??!0),lastSyncTime:u,onFetchPaginatedOrders:V,onFetchAllFilteredOrders:H,onSwitchToPos:()=>w("POS")}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-12",children:[o.jsx(Hf,{className:"w-10 h-10 text-orange-500 animate-spin mb-4"}),o.jsx("p",{className:"text-gray-500 font-black uppercase tracking-widest text-[10px]",children:"Loading Kitchen Dashboard..."})]})),"VENDOR"===y&&"POS"===v&&K&&o.jsx(Py,{restaurant:K,orders:n,onUpdateOrder:U,onPlaceOrder:async(e,t,a)=>{if(0===e.length||!(null==b?void 0:b.restaurantId))return;const n=r.find(e=>e.id===b.restaurantId),s=i.find(e=>e.name===(null==n?void 0:n.location)),o=(null==s?void 0:s.code)||"QS";let l=1;const{data:c}=await Ny.from("orders").select("id").ilike("id",`${o}%`).order("id",{ascending:!1}).limit(1);if(c&&c[0]){const e=c[0].id.split("-")[0].substring(o.length),t=parseInt(e);isNaN(t)||(l=t+1)}const d=`${o}${String(l).padStart(7,"0")}`,u=e.reduce((e,t)=>e+t.price*t.quantity,0),h={id:d,items:e,total:u,status:ef.COMPLETED,timestamp:Date.now(),customer_id:"pos_user",restaurant_id:b.restaurantId,table_number:a,location_name:(null==n?void 0:n.location)||"Unspecified",remark:t},{error:p}=await Ny.from("orders").insert([h]);if(p)throw p},onFetchPaginatedOrders:V,onFetchAllFilteredOrders:H,onUpdateRestaurantSettings:async(e,t)=>{const{error:r}=await Ny.from("restaurants").update({settings:t}).eq("id",e);localStorage.setItem(`qs_settings_${e}`,JSON.stringify(t)),a(r=>r.map(r=>r.id===e?{...r,settings:t}:r))},onSwitchToVendor:()=>w("APP")}),"ADMIN"===y&&o.jsx(Ey,{vendors:e.filter(e=>"VENDOR"===e.role),restaurants:r,orders:n,locations:i,onAddVendor:async(e,t)=>{const r=crypto.randomUUID(),a=crypto.randomUUID();try{const{error:n}=await Ny.from("restaurants").insert({id:a,name:t.name,logo:t.logo||"https://picsum.photos/seed/default/200/200",vendor_id:null,location_name:t.location,is_online:!0,settings:{}});if(n)return void alert("Error adding restaurant: "+n.message);const{error:s}=await Ny.from("users").insert({id:r,username:e.username,password:e.password,role:"VENDOR",restaurant_id:a,is_active:!0,email:e.email||"",phone:e.phone||""});if(s)return alert("Error adding user: "+s.message),void(await Ny.from("restaurants").delete().eq("id",a));const{error:o}=await Ny.from("restaurants").update({vendor_id:r}).eq("id",a);o?alert("Restaurant created but couldn't link vendor. Please check manually."):alert("Vendor added successfully!"),R(),I()}catch(n){alert("An unexpected error occurred")}},onUpdateVendor:async(e,t)=>{const r={username:e.username,email:e.email,phone:e.phone,is_active:e.isActive};e.password&&(r.password=e.password);const{error:a}=await Ny.from("users").update(r).eq("id",e.id),n={name:t.name,logo:t.logo,location_name:t.location};!1===e.isActive&&(n.is_online=!1);const{error:s}=await Ny.from("restaurants").update(n).eq("id",t.id);(a||s)&&alert("Error updating vendor"),R(),I()},onImpersonateVendor:D,onAddLocation:async e=>{const t=crypto.randomUUID(),{error:r}=await Ny.from("areas").insert({id:t,name:e.name,city:e.city,state:e.state,code:e.code,is_active:!0,type:e.type||"MULTI"});r||A()},onUpdateLocation:async e=>{const{error:t}=await Ny.from("areas").update({name:e.name,city:e.city,state:e.state,code:e.code,is_active:e.isActive,type:e.type}).eq("id",e.id);t||A()},onDeleteLocation:async e=>{const{error:t}=await Ny.from("areas").delete().eq("id",e);t||A()},onToggleOnline:F,onRemoveVendorFromHub:e=>Ny.from("restaurants").update({location_name:null}).eq("id",e).then(()=>I()),onFetchPaginatedOrders:V,onFetchAllFilteredOrders:H,onFetchStats:async e=>{const t=new URLSearchParams({...e,page:"1",limit:"1"}),r=await fetch(`/api/orders/report?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch report");return(await r.json()).summary}})]})]})},zy=document.getElementById("root");if(!zy)throw new Error("Could not find root element to mount to");Zp.createRoot(zy).render(o.jsx(F.StrictMode,{children:o.jsx(Ly,{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(e=>{})});
